var shadow$provide = {};
(function(){
shadow$provide[0]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=(v=>{v[v.WEBGL_LEGACY=0]="WEBGL_LEGACY";v[v.WEBGL=1]="WEBGL";v[v.WEBGL2=2]="WEBGL2";return v})(m||{}),p=(v=>{v[v.UNKNOWN=0]="UNKNOWN";v[v.WEBGL=1]="WEBGL";v[v.CANVAS=2]="CANVAS";return v})(p||{}),e=(v=>{v[v.COLOR=16384]="COLOR";v[v.DEPTH=256]="DEPTH";v[v.STENCIL=1024]="STENCIL";return v})(e||{}),d=(v=>{v[v.NORMAL=0]="NORMAL";v[v.ADD=1]="ADD";v[v.MULTIPLY=2]="MULTIPLY";v[v.SCREEN=3]="SCREEN";v[v.OVERLAY=4]="OVERLAY";
v[v.DARKEN=5]="DARKEN";v[v.LIGHTEN=6]="LIGHTEN";v[v.COLOR_DODGE=7]="COLOR_DODGE";v[v.COLOR_BURN=8]="COLOR_BURN";v[v.HARD_LIGHT=9]="HARD_LIGHT";v[v.SOFT_LIGHT=10]="SOFT_LIGHT";v[v.DIFFERENCE=11]="DIFFERENCE";v[v.EXCLUSION=12]="EXCLUSION";v[v.HUE=13]="HUE";v[v.SATURATION=14]="SATURATION";v[v.COLOR=15]="COLOR";v[v.LUMINOSITY=16]="LUMINOSITY";v[v.NORMAL_NPM=17]="NORMAL_NPM";v[v.ADD_NPM=18]="ADD_NPM";v[v.SCREEN_NPM=19]="SCREEN_NPM";v[v.NONE=20]="NONE";v[v.SRC_OVER=0]="SRC_OVER";v[v.SRC_IN=21]="SRC_IN";
v[v.SRC_OUT=22]="SRC_OUT";v[v.SRC_ATOP=23]="SRC_ATOP";v[v.DST_OVER=24]="DST_OVER";v[v.DST_IN=25]="DST_IN";v[v.DST_OUT=26]="DST_OUT";v[v.DST_ATOP=27]="DST_ATOP";v[v.ERASE=26]="ERASE";v[v.SUBTRACT=28]="SUBTRACT";v[v.XOR=29]="XOR";return v})(d||{}),a=(v=>{v[v.POINTS=0]="POINTS";v[v.LINES=1]="LINES";v[v.LINE_LOOP=2]="LINE_LOOP";v[v.LINE_STRIP=3]="LINE_STRIP";v[v.TRIANGLES=4]="TRIANGLES";v[v.TRIANGLE_STRIP=5]="TRIANGLE_STRIP";v[v.TRIANGLE_FAN=6]="TRIANGLE_FAN";return v})(a||{}),c=(v=>{v[v.RGBA=6408]="RGBA";
v[v.RGB=6407]="RGB";v[v.RG=33319]="RG";v[v.RED=6403]="RED";v[v.RGBA_INTEGER=36249]="RGBA_INTEGER";v[v.RGB_INTEGER=36248]="RGB_INTEGER";v[v.RG_INTEGER=33320]="RG_INTEGER";v[v.RED_INTEGER=36244]="RED_INTEGER";v[v.ALPHA=6406]="ALPHA";v[v.LUMINANCE=6409]="LUMINANCE";v[v.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA";v[v.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT";v[v.DEPTH_STENCIL=34041]="DEPTH_STENCIL";return v})(c||{}),b=(v=>{v[v.TEXTURE_2D=3553]="TEXTURE_2D";v[v.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP";v[v.TEXTURE_2D_ARRAY=
35866]="TEXTURE_2D_ARRAY";v[v.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X";v[v.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";v[v.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";v[v.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";v[v.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";v[v.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z";return v})(b||{}),g=(v=>{v[v.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";
v[v.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";v[v.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5";v[v.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4";v[v.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1";v[v.UNSIGNED_INT=5125]="UNSIGNED_INT";v[v.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV";v[v.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV";v[v.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8";v[v.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV";
v[v.BYTE=5120]="BYTE";v[v.SHORT=5122]="SHORT";v[v.INT=5124]="INT";v[v.FLOAT=5126]="FLOAT";v[v.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV";v[v.HALF_FLOAT=36193]="HALF_FLOAT";return v})(g||{}),f=(v=>{v[v.FLOAT=0]="FLOAT";v[v.INT=1]="INT";v[v.UINT=2]="UINT";return v})(f||{}),h=(v=>{v[v.NEAREST=0]="NEAREST";v[v.LINEAR=1]="LINEAR";return v})(h||{}),n=(v=>{v[v.CLAMP=33071]="CLAMP";v[v.REPEAT=10497]="REPEAT";v[v.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT";return v})(n||{}),q=(v=>
{v[v.OFF=0]="OFF";v[v.POW2=1]="POW2";v[v.ON=2]="ON";v[v.ON_MANUAL=3]="ON_MANUAL";return v})(q||{}),t=(v=>{v[v.NPM=0]="NPM";v[v.UNPACK=1]="UNPACK";v[v.PMA=2]="PMA";v[v.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA";v[v.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD";v[v.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA";return v})(t||{}),u=(v=>{v[v.NO=0]="NO";v[v.YES=1]="YES";v[v.AUTO=2]="AUTO";v[v.BLEND=0]="BLEND";v[v.CLEAR=1]="CLEAR";v[v.BLIT=2]="BLIT";return v})(u||{}),w=(v=>{v[v.AUTO=0]="AUTO";
v[v.MANUAL=1]="MANUAL";return v})(w||{}),x=(v=>{v.LOW="lowp";v.MEDIUM="mediump";v.HIGH="highp";return v})(x||{}),y=(v=>{v[v.NONE=0]="NONE";v[v.SCISSOR=1]="SCISSOR";v[v.STENCIL=2]="STENCIL";v[v.SPRITE=3]="SPRITE";v[v.COLOR=4]="COLOR";return v})(y||{}),z=(v=>{v[v.RED=1]="RED";v[v.GREEN=2]="GREEN";v[v.BLUE=4]="BLUE";v[v.ALPHA=8]="ALPHA";return v})(z||{}),C=(v=>{v[v.NONE=0]="NONE";v[v.LOW=2]="LOW";v[v.MEDIUM=4]="MEDIUM";v[v.HIGH=8]="HIGH";return v})(C||{}),A=(v=>{v[v.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER";
v[v.ARRAY_BUFFER=34962]="ARRAY_BUFFER";v[v.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";return v})(A||{});k.ALPHA_MODES=t;k.BLEND_MODES=d;k.BUFFER_BITS=e;k.BUFFER_TYPE=A;k.CLEAR_MODES=u;k.COLOR_MASK_BITS=z;k.DRAW_MODES=a;k.ENV=m;k.FORMATS=c;k.GC_MODES=w;k.MASK_TYPES=y;k.MIPMAP_MODES=q;k.MSAA_QUALITY=C;k.PRECISION=x;k.RENDERER_TYPE=p;k.SAMPLER_TYPES=f;k.SCALE_MODES=h;k.TARGETS=b;k.TYPES=g;k.WRAP_MODES=n};
shadow$provide[1]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.BrowserAdapter={createCanvas:(m,p)=>{const e=document.createElement("canvas");e.width=m;e.height=p;return e},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(m,p)=>fetch(m,p),parseXML:m=>(new DOMParser).parseFromString(m,"text/xml")}};
shadow$provide[2]=function(r,l,B,k){};
shadow$provide[3]=function(r,l,B,k){};
shadow$provide[4]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r={ADAPTER:l(1).BrowserAdapter,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};k.settings=r};
shadow$provide[5]=function(r,l,B,k){function m(z){return function(C){return C.test(z)}}k.__esModule=!0;var p=/iPhone/i,e=/iPod/i,d=/iPad/i,a=/\biOS-universal(?:.+)Mac\b/i,c=/\bAndroid(?:.+)Mobile\b/i,b=/Android/i,g=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,f=/Silk/i,h=/Windows Phone/i,n=/\bWindows(?:.+)ARM\b/i,q=/BlackBerry/i,t=/BB10/i,u=/Opera Mini/i,w=/\b(CriOS|Chrome)(?:.+)Mobile/i,x=/Mobile(?:.+)Firefox\b/i,y=function(z){return"undefined"!==typeof z&&"MacIntel"===z.platform&&"number"===typeof z.maxTouchPoints&&
1<z.maxTouchPoints&&"undefined"===typeof MSStream};k["default"]=function(z){var C={userAgent:"",platform:"",maxTouchPoints:0};z||"undefined"===typeof navigator?"string"===typeof z?C.userAgent=z:z&&z.userAgent&&(C={userAgent:z.userAgent,platform:z.platform,maxTouchPoints:z.maxTouchPoints||0}):C={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};z=C.userAgent;var A=z.split("[FBAN");"undefined"!==typeof A[1]&&(z=A[0]);A=z.split("Twitter");"undefined"!==
typeof A[1]&&(z=A[0]);z=m(z);C={apple:{phone:z(p)&&!z(h),ipod:z(e),tablet:!z(p)&&(z(d)||y(C))&&!z(h),universal:z(a),device:(z(p)||z(e)||z(d)||z(a)||y(C))&&!z(h)},amazon:{phone:z(g),tablet:!z(g)&&z(f),device:z(g)||z(f)},android:{phone:!z(h)&&z(g)||!z(h)&&z(c),tablet:!z(h)&&!z(g)&&!z(c)&&(z(f)||z(b)),device:!z(h)&&(z(g)||z(f)||z(c)||z(b))||z(/\bokhttp\b/i)},windows:{phone:z(h),tablet:z(n),device:z(h)||z(n)},other:{blackberry:z(q),blackberry10:z(t),opera:z(u),firefox:z(x),chrome:z(w),device:z(q)||z(t)||
z(u)||z(x)||z(w)},any:!1,phone:!1,tablet:!1};C.any=C.apple.device||C.android.device||C.windows.device||C.other.device;C.phone=C.apple.phone||C.android.phone||C.windows.phone;C.tablet=C.apple.tablet||C.android.tablet||C.windows.tablet;return C}};
shadow$provide[6]=function(r,l,B,k){k.__esModule=!0;r=l(5);for(var m in r)k.hasOwnProperty(m)||(k[m]=r[m]);l=l(5);k["default"]=l["default"]};
shadow$provide[7]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=(r=l(6))&&"object"===typeof r&&"default"in r?r:{"default":r};r=(r["default"].default??r["default"])(globalThis.navigator);k.isMobile=r};
shadow$provide[8]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(1);l(2);l(3);B=l(4);l=l(7);k.BrowserAdapter=r.BrowserAdapter;k.settings=B.settings;k.isMobile=l.isMobile};
shadow$provide[9]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(8);m.settings.RETINA_PREFIX=/@([0-9\.]+)x/;m.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;Object.defineProperty(k,"settings",{enumerable:!0,get:function(){return m.settings}})};
shadow$provide[10]=function(r,l,B,k){function m(){}function p(g,f,h){this.fn=g;this.context=f;this.once=h||!1}function e(g,f,h,n,q){if("function"!==typeof h)throw new TypeError("The listener must be a function");h=new p(h,n||g,q);f=b?b+f:f;g._events[f]?g._events[f].fn?g._events[f]=[g._events[f],h]:g._events[f].push(h):(g._events[f]=h,g._eventsCount++);return g}function d(g,f){0===--g._eventsCount?g._events=new m:delete g._events[f]}function a(){this._events=new m;this._eventsCount=0}var c=Object.prototype.hasOwnProperty,
b="~";Object.create&&(m.prototype=Object.create(null),(new m).__proto__||(b=!1));a.prototype.eventNames=function(){var g=[],f,h;if(0===this._eventsCount)return g;for(h in f=this._events)c.call(f,h)&&g.push(b?h.slice(1):h);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(f)):g};a.prototype.listeners=function(g){g=this._events[b?b+g:g];if(!g)return[];if(g.fn)return[g.fn];for(var f=0,h=g.length,n=Array(h);f<h;f++)n[f]=g[f].fn;return n};a.prototype.listenerCount=function(g){return(g=
this._events[b?b+g:g])?g.fn?1:g.length:0};a.prototype.emit=function(g,f,h,n,q,t){var u=b?b+g:g;if(!this._events[u])return!1;u=this._events[u];var w=arguments.length,x;if(u.fn){u.once&&this.removeListener(g,u.fn,void 0,!0);switch(w){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,f),!0;case 3:return u.fn.call(u.context,f,h),!0;case 4:return u.fn.call(u.context,f,h,n),!0;case 5:return u.fn.call(u.context,f,h,n,q),!0;case 6:return u.fn.call(u.context,f,h,n,q,t),!0}var y=1;for(x=
Array(w-1);y<w;y++)x[y-1]=arguments[y];u.fn.apply(u.context,x)}else{var z=u.length;for(y=0;y<z;y++)switch(u[y].once&&this.removeListener(g,u[y].fn,void 0,!0),w){case 1:u[y].fn.call(u[y].context);break;case 2:u[y].fn.call(u[y].context,f);break;case 3:u[y].fn.call(u[y].context,f,h);break;case 4:u[y].fn.call(u[y].context,f,h,n);break;default:if(!x){var C=1;for(x=Array(w-1);C<w;C++)x[C-1]=arguments[C]}u[y].fn.apply(u[y].context,x)}}return!0};a.prototype.on=function(g,f,h){return e(this,g,f,h,!1)};a.prototype.once=
function(g,f,h){return e(this,g,f,h,!0)};a.prototype.removeListener=function(g,f,h,n){g=b?b+g:g;if(!this._events[g])return this;if(!f)return d(this,g),this;var q=this._events[g];if(q.fn)q.fn!==f||n&&!q.once||h&&q.context!==h||d(this,g);else{for(var t=0,u=[],w=q.length;t<w;t++)(q[t].fn!==f||n&&!q[t].once||h&&q[t].context!==h)&&u.push(q[t]);u.length?this._events[g]=1===u.length?u[0]:u:d(this,g)}return this};a.prototype.removeAllListeners=function(g){g?(g=b?b+g:g,this._events[g]&&d(this,g)):(this._events=
new m,this._eventsCount=0);return this};a.prototype.off=a.prototype.removeListener;a.prototype.addListener=a.prototype.on;a.prefixed=b;a.EventEmitter=a;"undefined"!==typeof B&&(B.exports=a)};
shadow$provide[11]=function(r,l,B,k){function m(A,v,F){F=F||2;var I=v&&v.length,H=I?v[0]*F:A.length,M=p(A,0,H,F,!0),K=[];if(!M||M.next===M.prev)return K;var E;if(I){var L=M;var D=F;M=[];var G;I=0;for(G=v.length;I<G;I++){var J=v[I]*D;var N=I<G-1?v[I+1]*D:A.length;J=p(A,J,N,D,!1);J===J.next&&(J.steiner=!0);N=M;var R=N.push,Q=J,S=J;do{if(Q.x<S.x||Q.x===S.x&&Q.y<S.y)S=Q;Q=Q.next}while(Q!==J);R.call(N,S)}M.sort(c);for(I=0;I<M.length;I++){D=void 0;v=M[I];b:{G=L;J=v.x;N=v.y;R=-Infinity;do{if(N<=G.y&&N>=
G.next.y&&G.next.y!==G.y&&(Q=G.x+(N-G.y)*(G.next.x-G.x)/(G.next.y-G.y),Q<=J&&Q>R&&(R=Q,D=G.x<G.next.x?G:G.next,Q===J)))break b;G=G.next}while(G!==L);if(D){S=D;var W=D.x,X=D.y,ha=Infinity;G=D;do{if(J>=G.x&&G.x>=W&&J!==G.x&&g(N<X?J:R,N,W,X,N<X?R:J,N,G.x,G.y)){Q=Math.abs(N-G.y)/(J-G.x);var ba;if((ba=u(G,v))&&!(ba=Q<ha)&&(ba=Q===ha)&&!(ba=G.x>D.x)&&(ba=G.x===D.x)){ba=D;var ma=G;ba=0>f(ba.prev,ba,ma.prev)&&0>f(ma.next,ba,ba.next)}ba&&(D=G,ha=Q)}G=G.next}while(G!==S)}else D=null}D&&(v=w(D,v),e(v,v.next),
L=e(D,D.next))}M=L}if(A.length>80*F){var ia=E=A[0];var ea=I=A[1];for(L=F;L<H;L+=F)v=A[L],D=A[L+1],v<ia&&(ia=v),D<ea&&(ea=D),v>E&&(E=v),D>I&&(I=D);E=Math.max(E-ia,I-ea);E=0!==E?32767/E:0}d(M,K,F,ia,ea,E,0);return K}function p(A,v,F,I,H){if(H===0<C(A,v,F,I))for(H=v;H<F;H+=I)var M=x(H,A[H],A[H+1],M);else for(H=F-I;H>=v;H-=I)M=x(H,A[H],A[H+1],M);M&&h(M,M.next)&&(y(M),M=M.next);return M}function e(A,v){if(!A)return A;v||(v=A);do{var F=!1;if(A.steiner||!h(A,A.next)&&0!==f(A.prev,A,A.next))A=A.next;else{y(A);
A=v=A.prev;if(A===A.next)break;F=!0}}while(F||A!==v);return v}function d(A,v,F,I,H,M,K){if(A){if(!K&&M){var E=A,L=E;do 0===L.z&&(L.z=b(L.x,L.y,I,H,M)),L.prevZ=L.prev,L=L.nextZ=L.next;while(L!==E);L.prevZ.nextZ=null;L.prevZ=null;E=L;var D,G,J,N,R=1;do{L=E;var Q=E=null;for(G=0;L;){G++;var S=L;for(D=J=0;D<R&&(J++,S=S.nextZ,S);D++);for(N=R;0<J||0<N&&S;)0!==J&&(0===N||!S||L.z<=S.z)?(D=L,L=L.nextZ,J--):(D=S,S=S.nextZ,N--),Q?Q.nextZ=D:E=D,D.prevZ=Q,Q=D;L=S}Q.nextZ=null;R*=2}while(1<G)}for(E=A;A.prev!==A.next;){L=
A.prev;S=A.next;if(M)Q=a(A,I,H,M);else a:{Q=A.prev;var W=A;N=A.next;if(0<=f(Q,W,N))Q=!1;else{G=Q.x;J=W.x;R=N.x;D=Q.y;W=W.y;var X=N.y,ha=G<J?G<R?G:R:J<R?J:R,ba=D<W?D<X?D:X:W<X?W:X,ma=G>J?G>R?G:R:J>R?J:R,ia=D>W?D>X?D:X:W>X?W:X;for(N=N.next;N!==Q;){if(N.x>=ha&&N.x<=ma&&N.y>=ba&&N.y<=ia&&g(G,D,J,W,R,X,N.x,N.y)&&0<=f(N.prev,N,N.next)){Q=!1;break a}N=N.next}Q=!0}}if(Q)v.push(L.i/F|0),v.push(A.i/F|0),v.push(S.i/F|0),y(A),E=A=S.next;else if(A=S,A===E){if(!K)d(e(A),v,F,I,H,M,1);else if(1===K){A=e(A);K=v;E=
F;L=A;do S=L.prev,Q=L.next.next,!h(S,Q)&&n(S,L,L.next,Q)&&u(S,Q)&&u(Q,S)&&(K.push(S.i/E|0),K.push(L.i/E|0),K.push(Q.i/E|0),y(L),y(L.next),L=A=Q),L=L.next;while(L!==A);A=e(L);d(A,v,F,I,H,M,2)}else if(2===K)a:{K=A;do{for(E=K.next.next;E!==K.prev;){if(L=K.i!==E.i){L=K;S=E;if(Q=L.next.i!==S.i&&L.prev.i!==S.i){b:{Q=L;do{if(Q.i!==L.i&&Q.next.i!==L.i&&Q.i!==S.i&&Q.next.i!==S.i&&n(Q,Q.next,L,S)){Q=!0;break b}Q=Q.next}while(Q!==L);Q=!1}Q=!Q}if(Q){if(Q=u(L,S)&&u(S,L)){Q=L;G=!1;J=(L.x+S.x)/2;R=(L.y+S.y)/2;do Q.y>
R!==Q.next.y>R&&Q.next.y!==Q.y&&J<(Q.next.x-Q.x)*(R-Q.y)/(Q.next.y-Q.y)+Q.x&&(G=!G),Q=Q.next;while(Q!==L);Q=G}Q=Q&&(f(L.prev,L,S.prev)||f(L,S.prev,S))||h(L,S)&&0<f(L.prev,L,L.next)&&0<f(S.prev,S,S.next)}L=Q}if(L){A=w(K,E);K=e(K,K.next);A=e(A,A.next);d(K,v,F,I,H,M,0);d(A,v,F,I,H,M,0);break a}E=E.next}K=K.next}while(K!==A)}break}}}}function a(A,v,F,I){var H=A.prev,M=A.next;if(0<=f(H,A,M))return!1;var K=H.x,E=A.x,L=M.x,D=H.y,G=A.y,J=M.y,N=K<E?K<L?K:L:E<L?E:L,R=D<G?D<J?D:J:G<J?G:J,Q=K>E?K>L?K:L:E>L?E:
L,S=D>G?D>J?D:J:G>J?G:J,W=b(N,R,v,F,I);v=b(Q,S,v,F,I);F=A.prevZ;for(A=A.nextZ;F&&F.z>=W&&A&&A.z<=v;){if(F.x>=N&&F.x<=Q&&F.y>=R&&F.y<=S&&F!==H&&F!==M&&g(K,D,E,G,L,J,F.x,F.y)&&0<=f(F.prev,F,F.next))return!1;F=F.prevZ;if(A.x>=N&&A.x<=Q&&A.y>=R&&A.y<=S&&A!==H&&A!==M&&g(K,D,E,G,L,J,A.x,A.y)&&0<=f(A.prev,A,A.next))return!1;A=A.nextZ}for(;F&&F.z>=W;){if(F.x>=N&&F.x<=Q&&F.y>=R&&F.y<=S&&F!==H&&F!==M&&g(K,D,E,G,L,J,F.x,F.y)&&0<=f(F.prev,F,F.next))return!1;F=F.prevZ}for(;A&&A.z<=v;){if(A.x>=N&&A.x<=Q&&A.y>=
R&&A.y<=S&&A!==H&&A!==M&&g(K,D,E,G,L,J,A.x,A.y)&&0<=f(A.prev,A,A.next))return!1;A=A.nextZ}return!0}function c(A,v){return A.x-v.x}function b(A,v,F,I,H){A=(A-F)*H|0;v=(v-I)*H|0;A=(A|A<<8)&16711935;A=(A|A<<4)&252645135;A=(A|A<<2)&858993459;v=(v|v<<8)&16711935;v=(v|v<<4)&252645135;v=(v|v<<2)&858993459;return(A|A<<1)&1431655765|((v|v<<1)&1431655765)<<1}function g(A,v,F,I,H,M,K,E){return(H-K)*(v-E)>=(A-K)*(M-E)&&(A-K)*(I-E)>=(F-K)*(v-E)&&(F-K)*(M-E)>=(H-K)*(I-E)}function f(A,v,F){return(v.y-A.y)*(F.x-
v.x)-(v.x-A.x)*(F.y-v.y)}function h(A,v){return A.x===v.x&&A.y===v.y}function n(A,v,F,I){var H=t(f(A,v,F)),M=t(f(A,v,I)),K=t(f(F,I,A)),E=t(f(F,I,v));return H!==M&&K!==E||0===H&&q(A,F,v)||0===M&&q(A,I,v)||0===K&&q(F,A,I)||0===E&&q(F,v,I)?!0:!1}function q(A,v,F){return v.x<=Math.max(A.x,F.x)&&v.x>=Math.min(A.x,F.x)&&v.y<=Math.max(A.y,F.y)&&v.y>=Math.min(A.y,F.y)}function t(A){return 0<A?1:0>A?-1:0}function u(A,v){return 0>f(A.prev,A,A.next)?0<=f(A,v,A.next)&&0<=f(A,A.prev,v):0>f(A,v,A.prev)||0>f(A,
A.next,v)}function w(A,v){var F=new z(A.i,A.x,A.y),I=new z(v.i,v.x,v.y),H=A.next,M=v.prev;A.next=v;v.prev=A;F.next=H;H.prev=F;I.next=F;F.prev=I;M.next=I;I.prev=M;return I}function x(A,v,F,I){A=new z(A,v,F);I?(A.next=I.next,A.prev=I,I.next.prev=A,I.next=A):(A.prev=A,A.next=A);return A}function y(A){A.next.prev=A.prev;A.prev.next=A.next;A.prevZ&&(A.prevZ.nextZ=A.nextZ);A.nextZ&&(A.nextZ.prevZ=A.prevZ)}function z(A,v,F){this.i=A;this.x=v;this.y=F;this.next=this.prev=null;this.z=0;this.nextZ=this.prevZ=
null;this.steiner=!1}function C(A,v,F,I){for(var H=0,M=F-I;v<F;v+=I)H+=(A[M]-A[v])*(A[v+1]+A[M+1]),M=v;return H}B.exports=m;B.exports.default=m;m.deviation=function(A,v,F,I){var H=v&&v.length,M=Math.abs(C(A,0,H?v[0]*F:A.length,F));if(H){H=0;for(var K=v.length;H<K;H++)M-=Math.abs(C(A,v[H]*F,H<K-1?v[H+1]*F:A.length,F))}for(H=v=0;H<I.length;H+=3){K=I[H]*F;var E=I[H+1]*F,L=I[H+2]*F;v+=Math.abs((A[K]-A[L])*(A[E+1]-A[K+1])-(A[K]-A[E])*(A[L+1]-A[K+1]))}return 0===M&&0===v?0:Math.abs((v-M)/M)};m.flatten=
function(A){for(var v=A[0][0].length,F={vertices:[],holes:[],dimensions:v},I=0,H=0;H<A.length;H++){for(var M=0;M<A[H].length;M++)for(var K=0;K<v;K++)F.vertices.push(A[H][M][K]);0<H&&(I+=A[H-1].length,F.holes.push(I))}return F}};
shadow$provide[12]=function(r,l,B,k){(function(m){function p(v){throw new RangeError(x[v]);}function e(v,F){for(var I=v.length,H=[];I--;)H[I]=F(v[I]);return H}function d(v,F){var I=v.split("@"),H="";1<I.length&&(H=I[0]+"@",v=I[1]);v=v.replace(w,".");v=v.split(".");F=e(v,F).join(".");return H+F}function a(v){for(var F=[],I=0,H=v.length,M,K;I<H;)M=v.charCodeAt(I++),55296<=M&&56319>=M&&I<H?(K=v.charCodeAt(I++),56320==(K&64512)?F.push(((M&1023)<<10)+(K&1023)+65536):(F.push(M),I--)):F.push(M);return F}
function c(v){return e(v,function(F){var I="";65535<F&&(F-=65536,I+=z(F>>>10&1023|55296),F=56320|F&1023);return I+=z(F)}).join("")}function b(v,F,I){var H=0;v=I?y(v/700):v>>1;for(v+=y(v/F);455<v;H+=36)v=y(v/35);return y(H+36*v/(v+38))}function g(v){var F=[],I=v.length,H=0,M=128,K=72,E,L;var D=v.lastIndexOf("-");0>D&&(D=0);for(E=0;E<D;++E)128<=v.charCodeAt(E)&&p("not-basic"),F.push(v.charCodeAt(E));for(D=0<D?D+1:0;D<I;){E=H;var G=1;for(L=36;;L+=36){D>=I&&p("invalid-input");var J=v.charCodeAt(D++);
J=10>J-48?J-22:26>J-65?J-65:26>J-97?J-97:36;(36<=J||J>y((2147483647-H)/G))&&p("overflow");H+=J*G;var N=L<=K?1:L>=K+26?26:L-K;if(J<N)break;J=36-N;G>y(2147483647/J)&&p("overflow");G*=J}G=F.length+1;K=b(H-E,G,0==E);y(H/G)>2147483647-M&&p("overflow");M+=y(H/G);H%=G;F.splice(H++,0,M)}return c(F)}function f(v){var F,I,H,M=[];v=a(v);var K=v.length;var E=128;var L=0;var D=72;for(H=0;H<K;++H){var G=v[H];128>G&&M.push(z(G))}for((F=I=M.length)&&M.push("-");F<K;){var J=2147483647;for(H=0;H<K;++H)G=v[H],G>=E&&
G<J&&(J=G);var N=F+1;J-E>y((2147483647-L)/N)&&p("overflow");L+=(J-E)*N;E=J;for(H=0;H<K;++H)if(G=v[H],G<E&&2147483647<++L&&p("overflow"),G==E){var R=L;for(J=36;;J+=36){G=J<=D?1:J>=D+26?26:J-D;if(R<G)break;var Q=R-G;R=36-G;var S=M;G+=Q%R;S.push.call(S,z(G+22+75*(26>G)-0));R=y(Q/R)}M.push(z(R+22+75*(26>R)-0));D=b(L,N,F==I);L=0;++F}++L;++E}return M.join("")}var h="object"==typeof k&&k&&!k.nodeType&&k,n="object"==typeof B&&B&&!B.nodeType&&B,q="object"==typeof r&&r;if(q.global===q||q.window===q||q.self===
q)m=q;var t=/^xn--/,u=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=Math.floor,z=String.fromCharCode,C;var A={version:"1.4.1",ucs2:{decode:a,encode:c},decode:g,encode:f,toASCII:function(v){return d(v,function(F){return u.test(F)?"xn--"+f(F):F})},toUnicode:function(v){return d(v,function(F){return t.test(F)?g(F.slice(4).toLowerCase()):F})}};
if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return A});else if(h&&n)if(B.exports==h)n.exports=A;else for(C in A)A.hasOwnProperty(C)&&(h[C]=A[C]);else m.punycode=A})(this)};
shadow$provide[13]=function(r,l,B,k){B.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var m={},p=Symbol("test"),e=Object(p);if("string"===typeof p||"[object Symbol]"!==Object.prototype.toString.call(p)||"[object Symbol]"!==Object.prototype.toString.call(e))return!1;m[p]=42;for(p in m)return!1;if("function"===typeof Object.keys&&0!==Object.keys(m).length||"function"===typeof Object.getOwnPropertyNames&&
0!==Object.getOwnPropertyNames(m).length)return!1;e=Object.getOwnPropertySymbols(m);return 1!==e.length||e[0]!==p||!Object.prototype.propertyIsEnumerable.call(m,p)||"function"===typeof Object.getOwnPropertyDescriptor&&(m=Object.getOwnPropertyDescriptor(m,p),42!==m.value||!0!==m.enumerable)?!1:!0}};
shadow$provide[14]=function(r,l,B,k){var m="undefined"!==typeof Symbol&&Symbol,p=l(13);B.exports=function(){return"function"!==typeof m||"function"!==typeof Symbol||"symbol"!==typeof m("foo")||"symbol"!==typeof Symbol("bar")?!1:p()}};
shadow$provide[15]=function(r,l,B,k){var m={foo:{}},p=Object;B.exports=function(){return{__proto__:m}.foo===m.foo&&!({__proto__:null}instanceof p)}};
shadow$provide[16]=function(r,l,B,k){var m=Array.prototype.slice,p=Object.prototype.toString;B.exports=function(e){var d=this;if("function"!==typeof d||"[object Function]"!==p.call(d))throw new TypeError("Function.prototype.bind called on incompatible "+d);for(var a=m.call(arguments,1),c,b=Math.max(0,d.length-a.length),g=[],f=0;f<b;f++)g.push("$"+f);c=Function("binder","return function ("+g.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof c){var h=d.apply(this,
a.concat(m.call(arguments)));return Object(h)===h?h:this}return d.apply(e,a.concat(m.call(arguments)))});d.prototype&&(b=function(){},b.prototype=d.prototype,c.prototype=new b,b.prototype=null);return c}};
shadow$provide[17]=function(r,l,B,k){r=l(16);B.exports=Function.prototype.bind||r};
shadow$provide[18]=function(r,l,B,k){r=l(17);B.exports=r.call(Function.call,Object.prototype.hasOwnProperty)};
shadow$provide[19]=function(r,l,B,k){var m=SyntaxError,p=Function,e=TypeError,d=function(F){try{return p('"use strict"; return ('+F+").constructor;")()}catch(I){}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch(F){a=null}var c=function(){throw new e;};r=a?function(){try{return arguments.callee,c}catch(F){try{return a(arguments,"callee").get}catch(I){return c}}}():c;k=l(14)();var b=l(15)(),g=Object.getPrototypeOf||(b?function(F){return F.__proto__}:null),f={};b="undefined"!==typeof Uint8Array&&
g?g(Uint8Array):void 0;var h={"%AggregateError%":"undefined"===typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":k&&g?g([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"===typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"===typeof BigInt?void 0:BigInt,
"%BigInt64Array%":"undefined"===typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?void 0:Float32Array,
"%Float64Array%":"undefined"===typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":f,"%Int8Array%":"undefined"===typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k&&g?g(g([][Symbol.iterator]())):void 0,"%JSON%":"object"===
typeof JSON?JSON:void 0,"%Map%":"undefined"===typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&k&&g?g((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?void 0:Promise,"%Proxy%":"undefined"===typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,
"%Set%":"undefined"===typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&k&&g?g((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k&&g?g(""[Symbol.iterator]()):void 0,"%Symbol%":k?Symbol:void 0,"%SyntaxError%":m,"%ThrowTypeError%":r,"%TypedArray%":b,"%TypeError%":e,"%Uint8Array%":"undefined"===typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"===
typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?void 0:WeakSet};if(g)try{null.error}catch(F){r=g(g(F)),h["%Error.prototype%"]=r}var n=function H(I){if("%AsyncFunction%"===I)var M=d("async function () {}");
else if("%GeneratorFunction%"===I)M=d("function* () {}");else if("%AsyncGeneratorFunction%"===I)M=d("async function* () {}");else if("%AsyncGenerator%"===I){var K=H("%AsyncGeneratorFunction%");K&&(M=K.prototype)}else"%AsyncIteratorPrototype%"===I&&(K=H("%AsyncGenerator%"))&&g&&(M=g(K.prototype));return h[I]=M},q={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype",
"forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError",
"prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],
"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError",
"prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],
"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};r=l(17);var t=l(18),u=r.call(Function.call,Array.prototype.concat),w=r.call(Function.apply,Array.prototype.splice),x=r.call(Function.call,String.prototype.replace),y=r.call(Function.call,String.prototype.slice),z=r.call(Function.call,RegExp.prototype.exec),
C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,v=function(I){var H=y(I,0,1),M=y(I,-1);if("%"===H&&"%"!==M)throw new m("invalid intrinsic syntax, expected closing `%`");if("%"===M&&"%"!==H)throw new m("invalid intrinsic syntax, expected opening `%`");var K=[];x(I,C,function(E,L,D,G){K[K.length]=D?x(G,A,"$1"):L||E});return K};B.exports=function(I,H){if("string"!==typeof I||0===I.length)throw new e("intrinsic name must be a non-empty string");
if(1<arguments.length&&"boolean"!==typeof H)throw new e('"allowMissing" argument must be a boolean');if(null===z(/^%?[^%]*%?$/,I))throw new m("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var M=v(I),K=0<M.length?M[0]:"";var E="%"+K+"%",L=E;if(t(q,L)){var D=q[L];L="%"+D[0]+"%"}if(t(h,L)){var G=h[L];G===f&&(G=n(L));if("undefined"===typeof G&&!H)throw new e("intrinsic "+E+" exists, but is not available. Please file an issue!");}else throw new m("intrinsic "+E+
" does not exist!");E=G;L=!1;D&&(K=D[0],w(M,u([0,1],D)));D=1;for(G=!0;D<M.length;D+=1){var J=M[D];var N=y(J,0,1);var R=y(J,-1);if(('"'===N||"'"===N||"`"===N||'"'===R||"'"===R||"`"===R)&&N!==R)throw new m("property names with quotes must have matching quotes");"constructor"!==J&&G||(L=!0);K+="."+J;N="%"+K+"%";if(t(h,N))E=h[N];else if(null!=E){if(!(J in E)){if(!H)throw new e("base intrinsic for "+I+" exists, but the property is not available.");return}a&&D+1>=M.length?(R=a(E,J),E=(G=!!R)&&"get"in R&&
!("originalValue"in R.get)?R.get:E[J]):(G=t(E,J),E=E[J]);G&&!L&&(h[N]=E)}}return E}};
shadow$provide[20]=function(r,l,B,k){var m=l(17);r=l(19);var p=r("%Function.prototype.apply%"),e=r("%Function.prototype.call%"),d=r("%Reflect.apply%",!0)||m.call(e,p),a=r("%Object.getOwnPropertyDescriptor%",!0),c=r("%Object.defineProperty%",!0),b=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch(g){c=null}B.exports=function(g){var f=d(m,e,arguments);a&&c&&a(f,"length").configurable&&c(f,"length",{value:1+b(0,g.length-(arguments.length-1))});return f};r=function(){return d(m,p,arguments)};c?c(B.exports,
"apply",{value:r}):B.exports.apply=r};
shadow$provide[21]=function(r,l,B,k){var m=l(19),p=l(20),e=p(m("String.prototype.indexOf"));B.exports=function(d,a){a=m(d,!!a);return"function"===typeof a&&-1<e(d,".prototype.")?p(a):a}};
shadow$provide[22]=function(r,l,B,k){};
shadow$provide[23]=function(r,l,B,k){function m(P,O){if(Infinity===P||-Infinity===P||P!==P||P&&-1E3<P&&1E3>P||ma.call(/e/,O))return O;var T=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof P){var Z=0>P?-va(-P):va(P);if(Z!==P)return P=String(Z),O=W.call(O,P.length+1),X.call(P,T,"$\x26_")+"."+X.call(X.call(O,/([0-9]{3})/g,"$\x26_"),/_$/,"")}return X.call(O,T,"$\x26_")}function p(P,O,T){O="double"===(T.quoteStyle||O)?'"':"'";return O+P+O}function e(P){return"[object Array]"===R.call(P)&&(!ca||
!("object"===typeof P&&ca in P))}function d(P){return"[object Date]"===R.call(P)&&(!ca||!("object"===typeof P&&ca in P))}function a(P){return"[object RegExp]"===R.call(P)&&(!ca||!("object"===typeof P&&ca in P))}function c(P){return"[object Error]"===R.call(P)&&(!ca||!("object"===typeof P&&ca in P))}function b(P){return"[object String]"===R.call(P)&&(!ca||!("object"===typeof P&&ca in P))}function g(P){return"[object Number]"===R.call(P)&&(!ca||!("object"===typeof P&&ca in P))}function f(P){return"[object Boolean]"===
R.call(P)&&(!ca||!("object"===typeof P&&ca in P))}function h(P){if(pa)return P&&"object"===typeof P&&P instanceof Symbol;if("symbol"===typeof P)return!0;if(!P||"object"!==typeof P||!ta)return!1;try{return ta.call(P),!0}catch(O){}return!1}function n(P){return P.name?P.name:(P=S.call(Q.call(P),/^function\s*([\w$]+)/))?P[1]:null}function q(P,O){if(P.indexOf)return P.indexOf(O);for(var T=0,Z=P.length;T<Z;T++)if(P[T]===O)return T;return-1}function t(P){if(!M||!P||"object"!==typeof P)return!1;try{M.call(P);
try{E.call(P)}catch(O){return!0}return P instanceof Map}catch(O){}return!1}function u(P){if(!D||!P||"object"!==typeof P)return!1;try{D.call(P,D);try{G.call(P,G)}catch(O){return!0}return P instanceof WeakMap}catch(O){}return!1}function w(P){if(!E||!P||"object"!==typeof P)return!1;try{E.call(P);try{M.call(P)}catch(O){return!0}return P instanceof Set}catch(O){}return!1}function x(P){if(!G||!P||"object"!==typeof P)return!1;try{G.call(P,G);try{D.call(P,D)}catch(O){return!0}return P instanceof WeakSet}catch(O){}return!1}
function y(P,O){if(P.length>O.maxStringLength){var T=P.length-O.maxStringLength;T="... "+T+" more character"+(1<T?"s":"");return y(W.call(P,0,O.maxStringLength),O)+T}P=X.call(X.call(P,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,z);return p(P,"single",O)}function z(P){P=P.charCodeAt(0);var O={8:"b",9:"t",10:"n",12:"f",13:"r"}[P];return O?"\\"+O:"\\x"+(16>P?"0":"")+ha.call(P.toString(16))}function C(P){return"Object("+P+")"}function A(P,O,T,Z){T=Z?I(T,Z):ea.call(T,", ");return P+" ("+O+") {"+T+"}"}function v(P){for(var O=
0;O<P.length;O++)if(0<=q(P[O],"\n"))return!1;return!0}function F(P,O){if("\t"===P.indent)P="\t";else if("number"===typeof P.indent&&0<P.indent)P=ea.call(Array(P.indent+1)," ");else return null;return{base:P,prev:ea.call(Array(O+1),P)}}function I(P,O){if(0===P.length)return"";var T="\n"+O.prev+O.base;return T+ea.call(P,","+T)+"\n"+O.prev}function H(P,O){var T=e(P),Z=[];if(T){Z.length=P.length;for(var aa=0;aa<P.length;aa++)Z[aa]=ja.call(P,aa)?O(P[aa],P):""}aa="function"===typeof ua?ua(P):[];if(pa){var qa=
{};for(var da=0;da<aa.length;da++)qa["$"+aa[da]]=aa[da]}for(var V in P)ja.call(P,V)&&(T&&String(Number(V))===V&&V<P.length||pa&&qa["$"+V]instanceof Symbol||(ma.call(/[^\w$]/,V)?Z.push(O(V,P)+": "+O(P[V],P)):Z.push(V+": "+O(P[V],P))));if("function"===typeof ua)for(T=0;T<aa.length;T++)wa.call(P,aa[T])&&Z.push("["+O(aa[T])+"]: "+O(P[aa[T]],P));return Z}r="function"===typeof Map&&Map.prototype;k=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null;var M=r&&k&&
"function"===typeof k.get?k.get:null,K=r&&Map.prototype.forEach;r="function"===typeof Set&&Set.prototype;k=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null;var E=r&&k&&"function"===typeof k.get?k.get:null,L=r&&Set.prototype.forEach,D="function"===typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,G="function"===typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,J="function"===typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:
null,N=Boolean.prototype.valueOf,R=Object.prototype.toString,Q=Function.prototype.toString,S=String.prototype.match,W=String.prototype.slice,X=String.prototype.replace,ha=String.prototype.toUpperCase,ba=String.prototype.toLowerCase,ma=RegExp.prototype.test,ia=Array.prototype.concat,ea=Array.prototype.join,Ca=Array.prototype.slice,va=Math.floor,sa="function"===typeof BigInt?BigInt.prototype.valueOf:null,ua=Object.getOwnPropertySymbols,ta="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
Symbol.prototype.toString:null,pa="function"===typeof Symbol&&"object"===typeof Symbol.iterator,ca="function"===typeof Symbol&&Symbol.toStringTag?Symbol.toStringTag:null,wa=Object.prototype.propertyIsEnumerable,xa=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(P){return P.__proto__}:null),ra=l(22);l=ra.custom;var ya=h(l)?l:null;B.exports=function qa(O,T,Z,aa){function da(ka,na,Da){na&&(aa=Ca.call(aa),aa.push(na));return Da?(na=
{depth:V.depth},ja.call(V,"quoteStyle")&&(na.quoteStyle=V.quoteStyle),qa(ka,na,Z+1,aa)):qa(ka,V,Z+1,aa)}var V=T||{};if(ja.call(V,"quoteStyle")&&"single"!==V.quoteStyle&&"double"!==V.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ja.call(V,"maxStringLength")&&("number"===typeof V.maxStringLength?0>V.maxStringLength&&Infinity!==V.maxStringLength:null!==V.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');
var la=ja.call(V,"customInspect")?V.customInspect:!0;if("boolean"!==typeof la&&"symbol"!==la)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ja.call(V,"indent")&&null!==V.indent&&"\t"!==V.indent&&!(parseInt(V.indent,10)===V.indent&&0<V.indent))throw new TypeError('option "indent" must be "\\t", an integer \x3e 0, or `null`');if(ja.call(V,"numericSeparator")&&"boolean"!==typeof V.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');
T=V.numericSeparator;if("undefined"===typeof O)return"undefined";if(null===O)return"null";if("boolean"===typeof O)return O?"true":"false";if("string"===typeof O)return y(O,V);if("number"===typeof O){if(0===O)return 0<Infinity/O?"0":"-0";var Y=String(O);return T?m(O,Y):Y}if("bigint"===typeof O)return Y=String(O)+"n",T?m(O,Y):Y;var oa="undefined"===typeof V.depth?5:V.depth;"undefined"===typeof Z&&(Z=0);if(Z>=oa&&0<oa&&"object"===typeof O)return e(O)?"[Array]":"[Object]";T=F(V,Z);if("undefined"===typeof aa)aa=
[];else if(0<=q(aa,O))return"[Circular]";if("function"===typeof O&&!a(O))return T=n(O),Y=H(O,da),"[Function"+(T?": "+T:" (anonymous)")+"]"+(0<Y.length?" { "+ea.call(Y,", ")+" }":"");if(h(O))return T=pa?X.call(String(O),/^(Symbol\(.*\))_[^)]*$/,"$1"):ta.call(O),"object"!==typeof O||pa?T:C(T);var Ea=O&&"object"===typeof O?"undefined"!==typeof HTMLElement&&O instanceof HTMLElement?!0:"string"===typeof O.nodeName&&"function"===typeof O.getAttribute:!1;if(Ea){T="\x3c"+ba.call(String(O.nodeName));Y=O.attributes||
[];for(var fa=0;fa<Y.length;fa++)T+=" "+Y[fa].name+"\x3d"+p(X.call(String(Y[fa].value),/"/g,"\x26quot;"),"double",V);T+="\x3e";O.childNodes&&O.childNodes.length&&(T+="...");return T+="\x3c/"+ba.call(String(O.nodeName))+"\x3e"}if(e(O)){if(0===O.length)return"[]";Y=H(O,da);return T&&!v(Y)?"["+I(Y,T)+"]":"[ "+ea.call(Y,", ")+" ]"}if(c(O))return T=H(O,da),"cause"in Error.prototype||!("cause"in O)||wa.call(O,"cause")?0===T.length?"["+String(O)+"]":"{ ["+String(O)+"] "+ea.call(T,", ")+" }":"{ ["+String(O)+
"] "+ea.call(ia.call("[cause]: "+da(O.cause),T),", ")+" }";if("object"===typeof O&&la){if(ya&&"function"===typeof O[ya]&&ra)return ra(O,{depth:oa-Z});if("symbol"!==la&&"function"===typeof O.inspect)return O.inspect()}if(t(O)){var za=[];K&&K.call(O,function(ka,na){za.push(da(na,O,!0)+" \x3d\x3e "+da(ka,O))});return A("Map",M.call(O),za,T)}if(w(O)){var Aa=[];L&&L.call(O,function(ka){Aa.push(da(ka,O))});return A("Set",E.call(O),Aa,T)}if(u(O))return"WeakMap { ? }";if(x(O))return"WeakSet { ? }";a:{if(J&&
O&&"object"===typeof O)try{J.call(O);Y=!0;break a}catch(ka){}Y=!1}if(Y)return"WeakRef { ? }";if(g(O))return C(da(Number(O)));a:{if(O&&"object"===typeof O&&sa)try{sa.call(O);fa=!0;break a}catch(ka){}fa=!1}return fa?C(da(sa.call(O))):f(O)?C(N.call(O)):b(O)?C(da(String(O))):d(O)||a(O)?String(O):(Y=H(O,da),fa=xa?xa(O)===Object.prototype:O instanceof Object||O.constructor===Object,la=O instanceof Object?"":"null prototype",oa=!fa&&ca&&Object(O)===O&&ca in O?W.call(R.call(O),8,-1):la?"Object":"",fa=(fa||
"function"!==typeof O.constructor?"":O.constructor.name?O.constructor.name+" ":"")+(oa||la?"["+ea.call(ia.call([],oa||[],la||[]),": ")+"] ":""),0===Y.length?fa+"{}":T?fa+"{"+I(Y,T)+"}":fa+"{ "+ea.call(Y,", ")+" }")};var ja=Object.prototype.hasOwnProperty||function(O){return O in this}};
shadow$provide[24]=function(r,l,B,k){r=l(19);k=l(21);var m=l(23),p=r("%TypeError%"),e=r("%WeakMap%",!0),d=r("%Map%",!0),a=k("WeakMap.prototype.get",!0),c=k("WeakMap.prototype.set",!0),b=k("WeakMap.prototype.has",!0),g=k("Map.prototype.get",!0),f=k("Map.prototype.set",!0),h=k("Map.prototype.has",!0),n=function(q,t){for(var u=q,w;null!==(w=u.next);u=w)if(w.key===t)return u.next=w.next,w.next=q.next,q.next=w};B.exports=function(){var q,t,u,w={assert:function(x){if(!w.has(x))throw new p("Side channel does not contain "+
m(x));},get:function(x){if(e&&x&&("object"===typeof x||"function"===typeof x)){if(q)return a(q,x)}else if(d){if(t)return g(t,x)}else if(u)return(x=n(u,x))&&x.value},has:function(x){if(e&&x&&("object"===typeof x||"function"===typeof x)){if(q)return b(q,x)}else if(d){if(t)return h(t,x)}else if(u)return!!n(u,x);return!1},set:function(x,y){if(e&&x&&("object"===typeof x||"function"===typeof x))q||(q=new e),c(q,x,y);else if(d)t||(t=new d),f(t,x,y);else{u||(u={key:{},next:null});var z=u,C=n(z,x);C?C.value=
y:z.next={key:x,next:z.next,value:y}}}};return w}};
shadow$provide[25]=function(r,l,B,k){var m=String.prototype.replace,p=/%20/g;B.exports={"default":"RFC3986",formatters:{RFC1738:function(e){return m.call(e,p,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}};
shadow$provide[26]=function(r,l,B,k){var m=l(25),p=Object.prototype.hasOwnProperty,e=Array.isArray,d=function(){for(var c=[],b=0;256>b;++b)c.push("%"+((16>b?"0":"")+b.toString(16)).toUpperCase());return c}(),a=function(c,b){b=b&&b.plainObjects?Object.create(null):{};for(var g=0;g<c.length;++g)"undefined"!==typeof c[g]&&(b[g]=c[g]);return b};B.exports={arrayToObject:a,assign:function(c,b){return Object.keys(b).reduce(function(g,f){g[f]=b[f];return g},c)},combine:function(c,b){return[].concat(c,b)},
compact:function(c){for(var b=[{obj:{o:c},prop:"o"}],g=[],f=0;f<b.length;++f){var h=b[f];h=h.obj[h.prop];for(var n=Object.keys(h),q=0;q<n.length;++q){var t=n[q],u=h[t];"object"===typeof u&&null!==u&&-1===g.indexOf(u)&&(b.push({obj:h,prop:t}),g.push(u))}}for(;1<b.length;)if(g=b.pop(),f=g.obj[g.prop],e(f)){h=[];for(n=0;n<f.length;++n)"undefined"!==typeof f[n]&&h.push(f[n]);g.obj[g.prop]=h}return c},decode:function(c,b,g){c=c.replace(/\+/g," ");if("iso-8859-1"===g)return c.replace(/%[0-9a-f]{2}/gi,unescape);
try{return decodeURIComponent(c)}catch(f){return c}},encode:function(c,b,g,f,h){if(0===c.length)return c;b=c;"symbol"===typeof c?b=Symbol.prototype.toString.call(c):"string"!==typeof c&&(b=String(c));if("iso-8859-1"===g)return escape(b).replace(/%u[0-9a-f]{4}/gi,function(n){return"%26%23"+parseInt(n.slice(2),16)+"%3B"});c="";for(g=0;g<b.length;++g)f=b.charCodeAt(g),45===f||46===f||95===f||126===f||48<=f&&57>=f||65<=f&&90>=f||97<=f&&122>=f||h===m.RFC1738&&(40===f||41===f)?c+=b.charAt(g):128>f?c+=d[f]:
2048>f?c+=d[192|f>>6]+d[128|f&63]:55296>f||57344<=f?c+=d[224|f>>12]+d[128|f>>6&63]+d[128|f&63]:(g+=1,f=65536+((f&1023)<<10|b.charCodeAt(g)&1023),c+=d[240|f>>18]+d[128|f>>12&63]+d[128|f>>6&63]+d[128|f&63]);return c},isBuffer:function(c){return c&&"object"===typeof c?!!(c.constructor&&c.constructor.isBuffer&&c.constructor.isBuffer(c)):!1},isRegExp:function(c){return"[object RegExp]"===Object.prototype.toString.call(c)},maybeMap:function(c,b){if(e(c)){for(var g=[],f=0;f<c.length;f+=1)g.push(b(c[f]));
return g}return b(c)},merge:function h(b,g,f){if(!g)return b;if("object"!==typeof g){if(e(b))b.push(g);else if(b&&"object"===typeof b){if(f&&(f.plainObjects||f.allowPrototypes)||!p.call(Object.prototype,g))b[g]=!0}else return[b,g];return b}if(!b||"object"!==typeof b)return[b].concat(g);var n=b;e(b)&&!e(g)&&(n=a(b,f));return e(b)&&e(g)?(g.forEach(function(q,t){if(p.call(b,t)){var u=b[t];u&&"object"===typeof u&&q&&"object"===typeof q?b[t]=h(u,q,f):b.push(q)}else b[t]=q}),b):Object.keys(g).reduce(function(q,
t){var u=g[t];p.call(q,t)?q[t]=h(q[t],u,f):q[t]=u;return q},n)}}};
shadow$provide[27]=function(r,l,B,k){var m=l(24),p=l(26),e=l(25),d=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,u){return t+"["+u+"]"},repeat:function(t){return t}},c=Array.isArray,b=Array.prototype.push,g=function(t,u){b.apply(t,c(u)?u:[u])},f=Date.prototype.toISOString;r=e["default"];var h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"\x26",encode:!0,encoder:p.encode,encodeValuesOnly:!1,format:r,formatter:e.formatters[r],
indices:!1,serializeDate:function(t){return f.call(t)},skipNulls:!1,strictNullHandling:!1},n={},q=function G(u,w,x,y,z,C,A,v,F,I,H,M,K,E,L,D){for(var J=u,N=D,R=0,Q=!1;void 0!==(N=N.get(n))&&!Q;){var S=N.get(u);R+=1;if("undefined"!==typeof S){if(S===R)throw new RangeError("Cyclic object value");Q=!0}"undefined"===typeof N.get(n)&&(R=0)}"function"===typeof v?J=v(w,J):J instanceof Date?J=H(J):"comma"===x&&c(J)&&(J=p.maybeMap(J,function(ba){return ba instanceof Date?H(ba):ba}));if(null===J){if(z)return A&&
!E?A(w,h.encoder,L,"key",M):w;J=""}if("string"===typeof J||"number"===typeof J||"boolean"===typeof J||"symbol"===typeof J||"bigint"===typeof J||p.isBuffer(J))return A?(u=E?w:A(w,h.encoder,L,"key",M),[K(u)+"\x3d"+K(A(J,h.encoder,L,"value",M))]):[K(w)+"\x3d"+K(String(J))];N=[];if("undefined"===typeof J)return N;"comma"===x&&c(J)?(E&&A&&(J=p.maybeMap(J,A)),Q=[{value:0<J.length?J.join(",")||null:void 0}]):c(v)?Q=v:(Q=Object.keys(J),Q=F?Q.sort(F):Q);w=y&&c(J)&&1===J.length?w+"[]":w;for(S=0;S<Q.length;++S){var W=
Q[S],X="object"===typeof W&&"undefined"!==typeof W.value?W.value:J[W];if(!C||null!==X){W=c(J)?"function"===typeof x?x(w,W):w:w+(I?"."+W:"["+W+"]");D.set(u,R);var ha=m();ha.set(n,D);g(N,G(X,W,x,y,z,C,"comma"===x&&E&&c(J)?null:A,v,F,I,H,M,K,E,L,ha))}}return N};B.exports=function(u,w){if(w){if(null!==w.encoder&&"undefined"!==typeof w.encoder&&"function"!==typeof w.encoder)throw new TypeError("Encoder has to be a function.");var x=w.charset||h.charset;if("undefined"!==typeof w.charset&&"utf-8"!==w.charset&&
"iso-8859-1"!==w.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var y=e["default"];if("undefined"!==typeof w.format){if(!d.call(e.formatters,w.format))throw new TypeError("Unknown format option provided.");y=w.format}var z=e.formatters[y],C=h.filter;if("function"===typeof w.filter||c(w.filter))C=w.filter;x={addQueryPrefix:"boolean"===typeof w.addQueryPrefix?w.addQueryPrefix:h.addQueryPrefix,allowDots:"undefined"===typeof w.allowDots?h.allowDots:!!w.allowDots,
charset:x,charsetSentinel:"boolean"===typeof w.charsetSentinel?w.charsetSentinel:h.charsetSentinel,delimiter:"undefined"===typeof w.delimiter?h.delimiter:w.delimiter,encode:"boolean"===typeof w.encode?w.encode:h.encode,encoder:"function"===typeof w.encoder?w.encoder:h.encoder,encodeValuesOnly:"boolean"===typeof w.encodeValuesOnly?w.encodeValuesOnly:h.encodeValuesOnly,filter:C,format:y,formatter:z,serializeDate:"function"===typeof w.serializeDate?w.serializeDate:h.serializeDate,skipNulls:"boolean"===
typeof w.skipNulls?w.skipNulls:h.skipNulls,sort:"function"===typeof w.sort?w.sort:null,strictNullHandling:"boolean"===typeof w.strictNullHandling?w.strictNullHandling:h.strictNullHandling}}else x=h;if("function"===typeof x.filter)y=x.filter,u=y("",u);else if(c(x.filter))var A=y=x.filter;y=[];if("object"!==typeof u||null===u)return"";z=a[w&&w.arrayFormat in a?w.arrayFormat:w&&"indices"in w?w.indices?"indices":"repeat":"indices"];if(w&&"commaRoundTrip"in w&&"boolean"!==typeof w.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");
w="comma"===z&&w&&w.commaRoundTrip;A||(A=Object.keys(u));x.sort&&A.sort(x.sort);C=m();for(var v=0;v<A.length;++v){var F=A[v];x.skipNulls&&null===u[F]||g(y,q(u[F],F,z,w,x.strictNullHandling,x.skipNulls,x.encode?x.encoder:null,x.filter,x.sort,x.allowDots,x.serializeDate,x.format,x.formatter,x.encodeValuesOnly,x.charset,C))}A=y.join(x.delimiter);u=!0===x.addQueryPrefix?"?":"";x.charsetSentinel&&(u="iso-8859-1"===x.charset?u+"utf8\x3d%26%2310003%3B\x26":u+"utf8\x3d%E2%9C%93\x26");return 0<A.length?u+
A:""}};
shadow$provide[28]=function(r,l,B,k){var m=l(26),p=Object.prototype.hasOwnProperty,e=Array.isArray,d={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:m.decode,delimiter:"\x26",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1E3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(g){return g.replace(/&#(\d+);/g,function(f,h){return String.fromCharCode(parseInt(h,10))})},c=function(g,f){return g&&"string"===
typeof g&&f.comma&&-1<g.indexOf(",")?g.split(","):g},b=function(g,f){var h={__proto__:null};g=(f.ignoreQueryPrefix?g.replace(/^\?/,""):g).split(f.delimiter,Infinity===f.parameterLimit?void 0:f.parameterLimit);var n=-1,q,t=f.charset;if(f.charsetSentinel)for(q=0;q<g.length;++q)0===g[q].indexOf("utf8\x3d")&&("utf8\x3d%E2%9C%93"===g[q]?t="utf-8":"utf8\x3d%26%2310003%3B"===g[q]&&(t="iso-8859-1"),n=q,q=g.length);for(q=0;q<g.length;++q)if(q!==n){var u=g[q],w=u.indexOf("]\x3d"),x=-1===w?u.indexOf("\x3d"):
w+1;-1===x?(w=f.decoder(u,d.decoder,t,"key"),x=f.strictNullHandling?null:""):(w=f.decoder(u.slice(0,x),d.decoder,t,"key"),x=m.maybeMap(c(u.slice(x+1),f),function(y){return f.decoder(y,d.decoder,t,"value")}));x&&f.interpretNumericEntities&&"iso-8859-1"===t&&(x=a(x));-1<u.indexOf("[]\x3d")&&(x=e(x)?[x]:x);p.call(h,w)?h[w]=m.combine(h[w],x):h[w]=x}return h};B.exports=function(g,f){if(f){if(null!==f.decoder&&void 0!==f.decoder&&"function"!==typeof f.decoder)throw new TypeError("Decoder has to be a function.");
if("undefined"!==typeof f.charset&&"utf-8"!==f.charset&&"iso-8859-1"!==f.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");f={allowDots:"undefined"===typeof f.allowDots?d.allowDots:!!f.allowDots,allowPrototypes:"boolean"===typeof f.allowPrototypes?f.allowPrototypes:d.allowPrototypes,allowSparse:"boolean"===typeof f.allowSparse?f.allowSparse:d.allowSparse,arrayLimit:"number"===typeof f.arrayLimit?f.arrayLimit:d.arrayLimit,charset:"undefined"===typeof f.charset?
d.charset:f.charset,charsetSentinel:"boolean"===typeof f.charsetSentinel?f.charsetSentinel:d.charsetSentinel,comma:"boolean"===typeof f.comma?f.comma:d.comma,decoder:"function"===typeof f.decoder?f.decoder:d.decoder,delimiter:"string"===typeof f.delimiter||m.isRegExp(f.delimiter)?f.delimiter:d.delimiter,depth:"number"===typeof f.depth||!1===f.depth?+f.depth:d.depth,ignoreQueryPrefix:!0===f.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof f.interpretNumericEntities?f.interpretNumericEntities:
d.interpretNumericEntities,parameterLimit:"number"===typeof f.parameterLimit?f.parameterLimit:d.parameterLimit,parseArrays:!1!==f.parseArrays,plainObjects:"boolean"===typeof f.plainObjects?f.plainObjects:d.plainObjects,strictNullHandling:"boolean"===typeof f.strictNullHandling?f.strictNullHandling:d.strictNullHandling}}else f=d;if(""===g||null===g||"undefined"===typeof g)return f.plainObjects?Object.create(null):{};for(var h="string"===typeof g?b(g,f):g,n=f.plainObjects?Object.create(null):{},q=Object.keys(h),
t=0;t<q.length;++t){var u=q[t];a:{var w=u;u=h[u];var x=f,y="string"===typeof g;if(w){w=x.allowDots?w.replace(/\.([^.[]+)/g,"[$1]"):w;var z=/(\[[^[\]]*])/,C=/(\[[^[\]]*])/g,A=(z=0<x.depth&&z.exec(w))?w.slice(0,z.index):w,v=[];if(A){if(!x.plainObjects&&p.call(Object.prototype,A)&&!x.allowPrototypes){u=void 0;break a}v.push(A)}for(A=0;0<x.depth&&null!==(z=C.exec(w))&&A<x.depth;){A+=1;if(!x.plainObjects&&p.call(Object.prototype,z[1].slice(1,-1))&&!x.allowPrototypes){u=void 0;break a}v.push(z[1])}z&&v.push("["+
w.slice(z.index)+"]");w=v;u=y?u:c(u,x);for(y=w.length-1;0<=y;--y)z=w[y],"[]"===z&&x.parseArrays?C=[].concat(u):(C=x.plainObjects?Object.create(null):{},v="["===z.charAt(0)&&"]"===z.charAt(z.length-1)?z.slice(1,-1):z,A=parseInt(v,10),x.parseArrays||""!==v?!isNaN(A)&&z!==v&&String(A)===v&&0<=A&&x.parseArrays&&A<=x.arrayLimit?(C=[],C[A]=u):"__proto__"!==v&&(C[v]=u):C={0:u}),u=C}else u=void 0}n=m.merge(n,u,f)}return!0===f.allowSparse?n:m.compact(n)}};
shadow$provide[29]=function(r,l,B,k){r=l(27);k=l(28);l=l(25);B.exports={formats:l,parse:k,stringify:r}};
shadow$provide[30]=function(r,l,B,k){function m(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function p(x,y,z){if(x&&"object"===typeof x&&x instanceof m)return x;var C=new m;C.parse(x,y,z);return C}var e=l(12),d=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/;r="{}|\\^`".split("").concat('\x3c\x3e"` \r\n\t'.split(""));var b=["'"].concat(r),g=["%","/","?",";","#"].concat(b),f=
["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,n=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,q={javascript:!0,"javascript:":!0},t={javascript:!0,"javascript:":!0},u={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=l(29);m.prototype.parse=function(x,y,z){if("string"!==typeof x)throw new TypeError("Parameter 'url' must be a string, not "+typeof x);var C=x.indexOf("?");C=-1!==C&&C<x.indexOf("#")?"?":"#";x=x.split(C);x[0]=x[0].replace(/\\/g,"/");x=x.join(C);C=x.trim();
if(!z&&1===x.split("#").length&&(x=c.exec(C)))return this.href=this.path=C,this.pathname=x[1],x[2]?(this.search=x[2],this.query=y?w.parse(this.search.substr(1)):this.search.substr(1)):y&&(this.search="",this.query={}),this;if(x=d.exec(C)){x=x[0];var A=x.toLowerCase();this.protocol=A;C=C.substr(x.length)}if(z||x||C.match(/^\/\/[^@/]+@[^@/]+/)){var v="//"===C.substr(0,2);!v||x&&t[x]||(C=C.substr(2),this.slashes=!0)}if(!t[x]&&(v||x&&!u[x])){v=-1;for(z=0;z<f.length;z++)x=C.indexOf(f[z]),-1!==x&&(-1===
v||x<v)&&(v=x);v=-1===v?C.lastIndexOf("@"):C.lastIndexOf("@",v);-1!==v&&(z=C.slice(0,v),C=C.slice(v+1),this.auth=decodeURIComponent(z));v=-1;for(z=0;z<g.length;z++)x=C.indexOf(g[z]),-1!==x&&(-1===v||x<v)&&(v=x);-1===v&&(v=C.length);this.host=C.slice(0,v);C=C.slice(v);this.parseHost();this.hostname=this.hostname||"";v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v){var F=this.hostname.split(/\./);z=0;for(x=F.length;z<x;z++){var I=F[z];if(I&&!I.match(h)){for(var H="",M=0,
K=I.length;M<K;M++)H=127<I.charCodeAt(M)?H+"x":H+I[M];if(!H.match(h)){x=F.slice(0,z);z=F.slice(z+1);if(I=I.match(n))x.push(I[1]),z.unshift(I[2]);z.length&&(C="/"+z.join(".")+C);this.hostname=x.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();v||(this.hostname=e.toASCII(this.hostname));z=this.port?":"+this.port:"";this.host=(this.hostname||"")+z;this.href+=this.host;v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==C[0]&&(C="/"+C))}if(!q[A])for(z=
0,x=b.length;z<x;z++)v=b[z],-1!==C.indexOf(v)&&(I=encodeURIComponent(v),I===v&&(I=escape(v)),C=C.split(v).join(I));z=C.indexOf("#");-1!==z&&(this.hash=C.substr(z),C=C.slice(0,z));z=C.indexOf("?");-1!==z?(this.search=C.substr(z),this.query=C.substr(z+1),y&&(this.query=w.parse(this.query)),C=C.slice(0,z)):y&&(this.search="",this.query={});C&&(this.pathname=C);u[A]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)z=this.pathname||"",this.path=z+(this.search||"");this.href=
this.format();return this};m.prototype.format=function(){var x=this.auth||"";x&&(x=encodeURIComponent(x),x=x.replace(/%3A/i,":"),x+="@");var y=this.protocol||"",z=this.pathname||"",C=this.hash||"",A=!1,v="";this.host?A=x+this.host:this.hostname&&(A=x+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(A+=":"+this.port));this.query&&"object"===typeof this.query&&Object.keys(this.query).length&&(v=w.stringify(this.query));x=this.search||v&&"?"+v||"";y&&":"!==y.substr(-1)&&
(y+=":");this.slashes||(!y||u[y])&&!1!==A?(A="//"+(A||""),z&&"/"!==z.charAt(0)&&(z="/"+z)):A||(A="");C&&"#"!==C.charAt(0)&&(C="#"+C);x&&"?"!==x.charAt(0)&&(x="?"+x);z=z.replace(/[?#]/g,function(F){return encodeURIComponent(F)});x=x.replace("#","%23");return y+A+z+x+C};m.prototype.resolve=function(x){return this.resolveObject(p(x,!1,!0)).format()};m.prototype.resolveObject=function(x){if("string"===typeof x){var y=new m;y.parse(x,!1,!0);x=y}y=new m;for(var z=Object.keys(this),C=0;C<z.length;C++){var A=
z[C];y[A]=this[A]}y.hash=x.hash;if(""===x.href)return y.href=y.format(),y;if(x.slashes&&!x.protocol){z=Object.keys(x);for(C=0;C<z.length;C++)A=z[C],"protocol"!==A&&(y[A]=x[A]);u[y.protocol]&&y.hostname&&!y.pathname&&(y.pathname="/",y.path=y.pathname);y.href=y.format();return y}if(x.protocol&&x.protocol!==y.protocol){if(!u[x.protocol]){z=Object.keys(x);for(C=0;C<z.length;C++)A=z[C],y[A]=x[A];y.href=y.format();return y}y.protocol=x.protocol;if(x.host||t[x.protocol])y.pathname=x.pathname;else{for(var v=
(x.pathname||"").split("/");v.length&&!(x.host=v.shift()););x.host||(x.host="");x.hostname||(x.hostname="");""!==v[0]&&v.unshift("");2>v.length&&v.unshift("");y.pathname=v.join("/")}y.search=x.search;y.query=x.query;y.host=x.host||"";y.auth=x.auth;y.hostname=x.hostname||x.host;y.port=x.port;if(y.pathname||y.search)y.path=(y.pathname||"")+(y.search||"");y.slashes=y.slashes||x.slashes;y.href=y.format();return y}z=y.pathname&&"/"===y.pathname.charAt(0);var F=x.host||x.pathname&&"/"===x.pathname.charAt(0),
I=z=F||z||y.host&&x.pathname;C=y.pathname&&y.pathname.split("/")||[];v=x.pathname&&x.pathname.split("/")||[];if(A=y.protocol&&!u[y.protocol])y.hostname="",y.port=null,y.host&&(""===C[0]?C[0]=y.host:C.unshift(y.host)),y.host="",x.protocol&&(x.hostname=null,x.port=null,x.host&&(""===v[0]?v[0]=x.host:v.unshift(x.host)),x.host=null),z=z&&(""===v[0]||""===C[0]);if(F)y.host=x.host||""===x.host?x.host:y.host,y.hostname=x.hostname||""===x.hostname?x.hostname:y.hostname,y.search=x.search,y.query=x.query,C=
v;else if(v.length)C||(C=[]),C.pop(),C=C.concat(v),y.search=x.search,y.query=x.query;else if(null!=x.search){A&&(y.host=C.shift(),A=(y.hostname=y.host)&&0<y.host.indexOf("@")?y.host.split("@"):!1)&&(y.auth=A.shift(),y.hostname=A.shift(),y.host=y.hostname);y.search=x.search;y.query=x.query;if(null!==y.pathname||null!==y.search)y.path=(y.pathname?y.pathname:"")+(y.search?y.search:"");y.href=y.format();return y}if(!C.length)return y.pathname=null,y.path=y.search?"/"+y.search:null,y.href=y.format(),y;
F=C.slice(-1)[0];v=(y.host||x.host||1<C.length)&&("."===F||".."===F)||""===F;for(var H=0,M=C.length;0<=M;M--)F=C[M],"."===F?C.splice(M,1):".."===F?(C.splice(M,1),H++):H&&(C.splice(M,1),H--);if(!z&&!I)for(;H--;H)C.unshift("..");!z||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift("");v&&"/"!==C.join("/").substr(-1)&&C.push("");I=""===C[0]||C[0]&&"/"===C[0].charAt(0);A&&(y.hostname=I?"":C.length?C.shift():"",y.host=y.hostname,A=y.host&&0<y.host.indexOf("@")?y.host.split("@"):!1)&&(y.auth=A.shift(),
y.hostname=A.shift(),y.host=y.hostname);(z=z||y.host&&C.length)&&!I&&C.unshift("");0<C.length?y.pathname=C.join("/"):(y.pathname=null,y.path=null);if(null!==y.pathname||null!==y.search)y.path=(y.pathname?y.pathname:"")+(y.search?y.search:"");y.auth=x.auth||y.auth;y.slashes=y.slashes||x.slashes;y.href=y.format();return y};m.prototype.parseHost=function(){var x=this.host,y=a.exec(x);y&&(y=y[0],":"!==y&&(this.port=y.substr(1)),x=x.substr(0,x.length-y.length));x&&(this.hostname=x)};k.parse=p;k.resolve=
function(x,y){return p(x,!1,!0).resolve(y)};k.resolveObject=function(x,y){return x?p(x,!1,!0).resolveObject(y):y};k.format=function(x){"string"===typeof x&&(x=p(x));return x instanceof m?x.format():m.prototype.format.call(x)};k.Url=m};
shadow$provide[31]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(30);k.url={parse:r.parse,format:r.format,resolve:r.resolve}};
shadow$provide[32]=function(r,l,B,k){function m(a){if("string"!==typeof a)throw new TypeError(`Path must be a string. Received ${JSON.stringify(a)}`);}function p(a){return a.split("?")[0].split("#")[0]}Object.defineProperty(k,"__esModule",{value:!0});var e=l(8);const d={toPosix(a){return a.replace(new RegExp("\\".replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26"),"g"),"/")},isUrl(a){return/^https?:/.test(this.toPosix(a))},isDataUrl(a){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(a)},
hasProtocol(a){return/^[^/:]+:\//.test(this.toPosix(a))},getProtocol(a){m(a);a=this.toPosix(a);let c="";var b=/^file:\/\/\//.exec(a);const g=/^[^/:]+:\/\//.exec(a),f=/^[^/:]+:\//.exec(a);if(b||g||f)c=b=b?.[0]||g?.[0]||f?.[0],a.slice(b.length);return c},toAbsolute(a,c,b){if(this.isDataUrl(a))return a;c=p(this.toPosix(c??e.settings.ADAPTER.getBaseUrl()));b=p(this.toPosix(b??this.rootname(c)));m(a);a=this.toPosix(a);return a.startsWith("/")?d.join(b,a.slice(1)):this.isAbsolute(a)?a:this.join(c,a)},normalize(a){a=
this.toPosix(a);m(a);if(0===a.length)return".";let c="";const b=a.startsWith("/");this.hasProtocol(a)&&(c=this.rootname(a),a=a.slice(c.length));const g=a.endsWith("/");let f="",h=0;var n=-1;let q=0,t=-1;for(let u=0;u<=a.length;++u){if(u<a.length)t=a.charCodeAt(u);else if(47===t)break;else t=47;if(47===t){if(n!==u-1&&1!==q)if(n!==u-1&&2===q){if(2>f.length||2!==h||46!==f.charCodeAt(f.length-1)||46!==f.charCodeAt(f.length-2))if(2<f.length){if(n=f.lastIndexOf("/"),n!==f.length-1){-1===n?(f="",h=0):(f=
f.slice(0,n),h=f.length-1-f.lastIndexOf("/"));n=u;q=0;continue}}else if(2===f.length||1===f.length){f="";h=0;n=u;q=0;continue}}else f=0<f.length?f+`/${a.slice(n+1,u)}`:a.slice(n+1,u),h=u-n-1;n=u;q=0}else 46===t&&-1!==q?++q:q=-1}a=f;0<a.length&&g&&(a+="/");return b?`/${a}`:c+a},isAbsolute(a){m(a);a=this.toPosix(a);return this.hasProtocol(a)?!0:a.startsWith("/")},join(...a){if(0===a.length)return".";let c;for(let b=0;b<a.length;++b){const g=a[b];m(g);0<g.length&&(c=void 0===c?g:this.extname(a[b-1]??
"")?c+`/../${g}`:c+`/${g}`)}return void 0===c?".":this.normalize(c)},dirname(a){m(a);if(0===a.length)return".";a=this.toPosix(a);let c=a.charCodeAt(0);const b=47===c;let g=-1,f=!0;const h=this.getProtocol(a),n=a;a=a.slice(h.length);for(let q=a.length-1;1<=q;--q)if(c=a.charCodeAt(q),47===c){if(!f){g=q;break}}else f=!1;return-1===g?b?"/":this.isUrl(n)?h+a:h:b&&1===g?"//":h+a.slice(0,g)},rootname(a){m(a);a=this.toPosix(a);var c=a.startsWith("/")?"/":this.getProtocol(a);this.isUrl(a)&&(c=a.indexOf("/",
c.length),c=-1!==c?a.slice(0,c):a,c.endsWith("/")||(c+="/"));return c},basename(a,c){m(a);c&&m(c);a=p(this.toPosix(a));let b=0,g=-1,f=!0,h;if(void 0!==c&&0<c.length&&c.length<=a.length){if(c.length===a.length&&c===a)return"";let n=c.length-1,q=-1;for(h=a.length-1;0<=h;--h){const t=a.charCodeAt(h);if(47===t){if(!f){b=h+1;break}}else-1===q&&(f=!1,q=h+1),0<=n&&(t===c.charCodeAt(n)?-1===--n&&(g=h):(n=-1,g=q))}b===g?g=q:-1===g&&(g=a.length);return a.slice(b,g)}for(h=a.length-1;0<=h;--h)if(47===a.charCodeAt(h)){if(!f){b=
h+1;break}}else-1===g&&(f=!1,g=h+1);return-1===g?"":a.slice(b,g)},extname(a){m(a);a=p(this.toPosix(a));let c=-1,b=0,g=-1,f=!0,h=0;for(let n=a.length-1;0<=n;--n){const q=a.charCodeAt(n);if(47===q){if(!f){b=n+1;break}}else-1===g&&(f=!1,g=n+1),46===q?-1===c?c=n:1!==h&&(h=1):-1!==c&&(h=-1)}return-1===c||-1===g||0===h||1===h&&c===g-1&&c===b+1?"":a.slice(c,g)},parse(a){m(a);const c={root:"",dir:"",base:"",ext:"",name:""};if(0===a.length)return c;a=p(this.toPosix(a));let b;a.charCodeAt(0);const g=this.isAbsolute(a);
let f;c.root=this.rootname(a);f=g||this.hasProtocol(a)?1:0;let h=-1,n=0,q=-1,t=!0,u=a.length-1,w=0;for(;u>=f;--u)if(b=a.charCodeAt(u),47===b){if(!t){n=u+1;break}}else-1===q&&(t=!1,q=u+1),46===b?-1===h?h=u:1!==w&&(w=1):-1!==h&&(w=-1);-1===h||-1===q||0===w||1===w&&h===q-1&&h===n+1?-1!==q&&(c.base=0===n&&g?c.name=a.slice(1,q):c.name=a.slice(n,q)):(0===n&&g?(c.name=a.slice(1,h),c.base=a.slice(1,q)):(c.name=a.slice(n,h),c.base=a.slice(n,q)),c.ext=a.slice(h,q));c.dir=this.dirname(a);return c},sep:"/",delimiter:":"};
k.path=d};
shadow$provide[33]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});const m={};k.deprecation=function(p,e,d=3){if(!m[e]){var a=Error().stack;"undefined"===typeof a?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${p}`):(a=a.split("\n").splice(d).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${p}`),console.warn(a),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${p}`),console.warn(a)));m[e]=!0}}};
shadow$provide[34]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(33);k.sayHello=function(){m.deprecation("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')};k.skipHello=function(){m.deprecation("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}};
shadow$provide[35]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});l(9);var m=l(8);let p;k.isWebGLSupported=function(){"undefined"===typeof p&&(p=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:m.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!m.settings.ADAPTER.getWebGLRenderingContext())return!1;const d=m.settings.ADAPTER.createCanvas();let a=d.getContext("webgl",e)||d.getContext("experimental-webgl",e);e=!!a?.getContextAttributes()?.stencil;if(a){const c=a.getExtension("WEBGL_lose_context");
c&&c.loseContext()}return e}catch(d){return!1}}());return p}};
shadow$provide[36]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m={grad:.9,turn:360,rad:360/(2*Math.PI)},p=function(D){return"string"==typeof D?0<D.length:"number"==typeof D},e=function(D,G,J){return void 0===G&&(G=0),void 0===J&&(J=Math.pow(10,G)),Math.round(J*D)/J},d=function(D,G,J){return void 0===G&&(G=0),void 0===J&&(J=1),D>J?J:D>G?D:G},a=function(D){return 0<(D=isFinite(D)?D%360:0)?D:D+360},c=function(D){return{r:d(D.r,0,255),g:d(D.g,0,255),b:d(D.b,0,255),a:d(D.a)}},
b=function(D){return{r:e(D.r),g:e(D.g),b:e(D.b),a:e(D.a,3)}},g=/^#([0-9a-f]{3,8})$/i,f=function(D){D=D.toString(16);return 2>D.length?"0"+D:D},h=function(D){var G=D.r,J=D.g,N=D.b,R=Math.max(G,J,N),Q=R-Math.min(G,J,N);G=Q?R===G?(J-N)/Q:R===J?2+(N-G)/Q:4+(G-J)/Q:0;return{h:60*(0>G?G+6:G),s:R?Q/R*100:0,v:R/255*100,a:D.a}},n=function(D){var G=D.h,J=D.s,N=D.v;D=D.a;G=G/360*6;J/=100;N/=100;var R=Math.floor(G),Q=N*(1-J),S=N*(1-(G-R)*J);G=N*(1-(1-G+R)*J);J=R%6;return{r:255*[N,S,Q,Q,G,N][J],g:255*[G,N,N,S,
Q,Q][J],b:255*[Q,Q,G,N,N,S][J],a:D}},q=function(D){return{h:a(D.h),s:d(D.s,0,100),l:d(D.l,0,100),a:d(D.a)}},t=function(D){return{h:e(D.h),s:e(D.s),l:e(D.l),a:e(D.a,3)}},u=function(D){return n((J=(G=D).s,{h:G.h,s:0<(J*=(50>(N=G.l)?N:100-N)/100)?2*J/(N+J)*100:0,v:N+J,a:G.a}));var G,J,N},w=function(D){return{h:(G=h(D)).h,s:0<(R=(200-(J=G.s))*(N=G.v)/100)&&200>R?J*N/100/(100>=R?R:200-R)*100:0,l:R/2,a:G.a};var G,J,N,R},x=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
y=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,z=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,C=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,A={string:[[function(D){var G=g.exec(D);return G?4>=(D=G[1]).length?{r:parseInt(D[0]+D[0],16),g:parseInt(D[1]+D[1],16),
b:parseInt(D[2]+D[2],16),a:4===D.length?e(parseInt(D[3]+D[3],16)/255,2):1}:6===D.length||8===D.length?{r:parseInt(D.substr(0,2),16),g:parseInt(D.substr(2,2),16),b:parseInt(D.substr(4,2),16),a:8===D.length?e(parseInt(D.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(D){return(D=z.exec(D)||C.exec(D))?D[2]!==D[4]||D[4]!==D[6]?null:c({r:Number(D[1])/(D[2]?100/255:1),g:Number(D[3])/(D[4]?100/255:1),b:Number(D[5])/(D[6]?100/255:1),a:void 0===D[7]?1:Number(D[7])/(D[8]?100:1)}):null},"rgb"],[function(D){D=
x.exec(D)||y.exec(D);if(!D)return null;var G,J,N=q({h:(G=D[1],J=D[2],void 0===J&&(J="deg"),Number(G)*(m[J]||1)),s:Number(D[3]),l:Number(D[4]),a:void 0===D[5]?1:Number(D[5])/(D[6]?100:1)});return u(N)},"hsl"]],object:[[function(D){var G=D.r,J=D.g,N=D.b;D=D.a;D=void 0===D?1:D;return p(G)&&p(J)&&p(N)?c({r:Number(G),g:Number(J),b:Number(N),a:Number(D)}):null},"rgb"],[function(D){var G=D.h,J=D.s,N=D.l;D=D.a;D=void 0===D?1:D;if(!p(G)||!p(J)||!p(N))return null;G=q({h:Number(G),s:Number(J),l:Number(N),a:Number(D)});
return u(G)},"hsl"],[function(D){var G=D.h,J=D.s,N=D.v;D=D.a;D=void 0===D?1:D;if(!p(G)||!p(J)||!p(N))return null;J=Number(J);N=Number(N);D=Number(D);G={h:a(Number(G)),s:d(J,0,100),v:d(N,0,100),a:d(D)};return n(G)},"hsv"]]},v=function(D,G){for(var J=0;J<G.length;J++){var N=G[J][0](D);if(N)return[N,G[J][1]]}return[null,void 0]},F=function(D){return"string"==typeof D?v(D.trim(),A.string):"object"==typeof D&&null!==D?v(D,A.object):[null,void 0]},I=function(D,G){D=w(D);return{h:D.h,s:d(D.s+100*G,0,100),
l:D.l,a:D.a}},H=function(D){return(299*D.r+587*D.g+114*D.b)/1E3/255},M=function(D,G){D=w(D);return{h:D.h,s:D.s,l:d(D.l+100*G,0,100),a:D.a}},K=function(){function D(G){this.rgba=(this.parsed=F(G)[0])||{r:0,g:0,b:0,a:1}}return D.prototype.isValid=function(){return null!==this.parsed},D.prototype.brightness=function(){return e(H(this.rgba),2)},D.prototype.isDark=function(){return.5>H(this.rgba)},D.prototype.isLight=function(){return.5<=H(this.rgba)},D.prototype.toHex=function(){return G=b(this.rgba),
J=G.r,N=G.g,R=G.b,S=1>(Q=G.a)?f(e(255*Q)):"","#"+f(J)+f(N)+f(R)+S;var G,J,N,R,Q,S},D.prototype.toRgb=function(){return b(this.rgba)},D.prototype.toRgbString=function(){return G=b(this.rgba),J=G.r,N=G.g,R=G.b,1>(Q=G.a)?"rgba("+J+", "+N+", "+R+", "+Q+")":"rgb("+J+", "+N+", "+R+")";var G,J,N,R,Q},D.prototype.toHsl=function(){return t(w(this.rgba))},D.prototype.toHslString=function(){return G=t(w(this.rgba)),J=G.h,N=G.s,R=G.l,1>(Q=G.a)?"hsla("+J+", "+N+"%, "+R+"%, "+Q+")":"hsl("+J+", "+N+"%, "+R+"%)";
var G,J,N,R,Q},D.prototype.toHsv=function(){return G=h(this.rgba),{h:e(G.h),s:e(G.s),v:e(G.v),a:e(G.a,3)};var G},D.prototype.invert=function(){return E({r:255-(G=this.rgba).r,g:255-G.g,b:255-G.b,a:G.a});var G},D.prototype.saturate=function(G){return void 0===G&&(G=.1),E(I(this.rgba,G))},D.prototype.desaturate=function(G){return void 0===G&&(G=.1),E(I(this.rgba,-G))},D.prototype.grayscale=function(){return E(I(this.rgba,-1))},D.prototype.lighten=function(G){return void 0===G&&(G=.1),E(M(this.rgba,
G))},D.prototype.darken=function(G){return void 0===G&&(G=.1),E(M(this.rgba,-G))},D.prototype.rotate=function(G){return void 0===G&&(G=15),this.hue(this.hue()+G)},D.prototype.alpha=function(G){return"number"==typeof G?E({r:(J=this.rgba).r,g:J.g,b:J.b,a:G}):e(this.rgba.a,3);var J},D.prototype.hue=function(G){var J=w(this.rgba);return"number"==typeof G?E({h:G,s:J.s,l:J.l,a:J.a}):e(J.h)},D.prototype.isEqual=function(G){return this.toHex()===E(G).toHex()},D}(),E=function(D){return D instanceof K?D:new K(D)},
L=[];k.Colord=K;k.colord=E;k.extend=function(D){D.forEach(function(G){0>L.indexOf(G)&&(G(K,A),L.push(G))})};k.getFormat=function(D){return F(D)[1]};k.random=function(){return new K({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}};
shadow$provide[37]=function(r,l,B,k){B.exports=function(m,p){var e={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",
crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",
magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",
khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",
lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",
seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},d={},a;for(a in e)d[e[a]]=
a;var c={};m.prototype.toName=function(b){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var g,f,h=d[this.toHex()];if(h)return h;if(null==b?0:b.closest){b=this.toRgb();h=1/0;var n="black";if(!c.length)for(var q in e)c[q]=(new m(e[q])).toRgb();for(var t in e)q=(g=b,f=c[t],Math.pow(g.r-f.r,2)+Math.pow(g.g-f.g,2)+Math.pow(g.b-f.b,2)),q<h&&(h=q,n=t);return n}};p.string.push([function(b){b=b.toLowerCase();return(b="transparent"===b?"#0000":e[b])?(new m(b)).toRgb():null},"name"])}};
shadow$provide[38]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(36);r=l(37);m.extend([(r&&"object"===typeof r&&"default"in r?r:{"default":r})["default"]]);const p=class{constructor(e=16777215){this._value=null;this._components=new Float32Array(4);this._components.fill(1);this._int=16777215;this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){this.value=
e;return this}set value(e){if(e instanceof p)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(null===e)throw Error("Cannot set PIXI.Color#value to null");null!==this._value&&this.isSourceEqual(this._value,e)||(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){if(!("string"===typeof e||"number"===typeof e||e instanceof Number||null===e)){if(Array.isArray(e)||ArrayBuffer.isView(e))return e.slice(0);if("object"===
typeof e&&null!==e)return{...e}}return e}isSourceEqual(e,d){var a=typeof e;if(a!==typeof d)return!1;if(!("number"===a||"string"===a||e instanceof Number)){if(Array.isArray(e)&&Array.isArray(d)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(d))return e.length!==d.length?!1:e.every((c,b)=>c===d[b]);if(null!==e&&null!==d){a=Object.keys(e);const c=Object.keys(d);return a.length!==c.length?!1:a.every(b=>e[b]===d[b])}}return e===d}toRgba(){const [e,d,a,c]=this._components;return{r:e,g:d,b:a,a:c}}toRgb(){const [e,
d,a]=this._components;return{r:e,g:d,b:a}}toRgbaString(){const [e,d,a]=this.toUint8RgbArray();return`rgba(${e},${d},${a},${this.alpha})`}toUint8RgbArray(e){const [d,a,c]=this._components;e=e??[];e[0]=Math.round(255*d);e[1]=Math.round(255*a);e[2]=Math.round(255*c);return e}toRgbArray(e){e=e??[];const [d,a,c]=this._components;e[0]=d;e[1]=a;e[2]=c;return e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const [d,a,c,b]=p.temp.setValue(e)._components;
this._components[0]*=d;this._components[1]*=a;this._components[2]*=c;this._components[3]*=b;this.refreshInt();this._value=null;return this}premultiply(e,d=!0){d&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e);this._components[3]=e;this.refreshInt();this._value=null;return this}toPremultiplied(e,d=!0){if(1===e)return-16777216+this._int;if(0===e)return d?0:this._int;let a=this._int>>16&255,c=this._int>>8&255,b=this._int&255;d&&(a=a*e+.5|0,c=c*e+.5|0,b=b*e+.5|0);return(255*e<<
24)+(a<<16)+(c<<8)+b}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){this._components[3]=this._clamp(e);return this}round(e){const [d,a,c]=this._components;this._components[0]=Math.round(d*e)/e;this._components[1]=Math.round(a*e)/e;this._components[2]=Math.round(c*e)/e;this.refreshInt();this._value=null;return this}toArray(e){e=e??[];
const [d,a,c,b]=this._components;e[0]=d;e[1]=a;e[2]=c;e[3]=b;return e}normalize(e){let d,a;let c;if(("number"===typeof e||e instanceof Number)&&0<=e&&16777215>=e){var b=e;d=(b>>16&255)/255;a=(b>>8&255)/255;b=(b&255)/255;c=1}else if((Array.isArray(e)||e instanceof Float32Array)&&3<=e.length&&4>=e.length)e=this._clamp(e),[d,a,b,c=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&3<=e.length&&4>=e.length)e=this._clamp(e,0,255),[d,a,b,c=255]=e,d/=255,a/=255,b/=255,c/=255;else if("string"===
typeof e||"object"===typeof e){if("string"===typeof e){var g=p.HEX_PATTERN.exec(e);g&&(e=`#${g[2]}`)}g=m.colord(e);g.isValid()&&({r:d,g:a,b,a:c}=g.rgba,d/=255,a/=255,b/=255)}if(void 0!==d)this._components[0]=d,this._components[1]=a,this._components[2]=b,this._components[3]=c,this.refreshInt();else throw Error(`Unable to convert color ${e}`);}refreshInt(){this._clamp(this._components);const [e,d,a]=this._components;this._int=(255*e<<16)+(255*d<<8)+(255*a|0)}_clamp(e,d=0,a=1){if("number"===typeof e)return Math.min(Math.max(e,
d),a);e.forEach((c,b)=>{e[b]=Math.min(Math.max(c,d),a)});return e}};r=p;r.shared=new p;r.temp=new p;r.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;k.Color=r};
shadow$provide[39]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(38);k.Color=r.Color};
shadow$provide[40]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(39),p=l(33);k.hex2rgb=function(e,d=[]){p.deprecation("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead");return m.Color.shared.setValue(e).toRgbArray(d)};k.hex2string=function(e){p.deprecation("7.2.0","utils.hex2string is deprecated, use Color#toHex instead");return m.Color.shared.setValue(e).toHex()};k.rgb2hex=function(e){p.deprecation("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead");
return m.Color.shared.setValue(e).toNumber()};k.string2hex=function(e){p.deprecation("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead");return m.Color.shared.setValue(e).toNumber()}};
shadow$provide[41]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(39),p=l(0),e=l(33);const d=function(){const a=[],c=[];for(var b=0;32>b;b++)a[b]=b,c[b]=b;a[p.BLEND_MODES.NORMAL_NPM]=p.BLEND_MODES.NORMAL;a[p.BLEND_MODES.ADD_NPM]=p.BLEND_MODES.ADD;a[p.BLEND_MODES.SCREEN_NPM]=p.BLEND_MODES.SCREEN;c[p.BLEND_MODES.NORMAL]=p.BLEND_MODES.NORMAL_NPM;c[p.BLEND_MODES.ADD]=p.BLEND_MODES.ADD_NPM;c[p.BLEND_MODES.SCREEN]=p.BLEND_MODES.SCREEN_NPM;b=[];b.push(c);b.push(a);return b}();
k.correctBlendMode=function(a,c){return d[c?1:0][a]};k.premultiplyBlendMode=d;k.premultiplyRgba=function(a,c,b,g=!0){e.deprecation("7.2.0","utils.premultiplyRgba has moved to Color.premultiply");return m.Color.shared.setValue(a).premultiply(c,g).toArray(b??new Float32Array(4))};k.premultiplyTint=function(a,c){e.deprecation("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied");return m.Color.shared.setValue(a).toPremultiplied(c)};k.premultiplyTintToRgba=function(a,c,b,g=!0){e.deprecation("7.2.0",
"utils.premultiplyTintToRgba has moved to Color.premultiply");return m.Color.shared.setValue(a).premultiply(c,g).toArray(b??new Float32Array(4))}};
shadow$provide[42]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i};
shadow$provide[43]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.createIndicesForQuads=function(m,p=null){m*=6;p=p||new Uint16Array(m);if(p.length!==m)throw Error(`Out buffer length is incorrect, got ${p.length} and expected ${m}`);for(let e=0,d=0;e<m;e+=6,d+=4)p[e+0]=d+0,p[e+1]=d+1,p[e+2]=d+2,p[e+3]=d+0,p[e+4]=d+2,p[e+5]=d+3;return p}};
shadow$provide[44]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.getBufferType=function(m){if(4===m.BYTES_PER_ELEMENT)return m instanceof Float32Array?"Float32Array":m instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===m.BYTES_PER_ELEMENT){if(m instanceof Uint16Array)return"Uint16Array"}else if(1===m.BYTES_PER_ELEMENT&&m instanceof Uint8Array)return"Uint8Array";return null}};
shadow$provide[45]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(44);const p={Float32Array,Uint32Array,Int32Array,Uint8Array};k.interleaveTypedArrays=function(e,d){var a=0;let c=0;const b={};for(var g=0;g<e.length;g++)c+=d[g],a+=e[g].length;a=new ArrayBuffer(4*a);g=0;for(let h=0;h<e.length;h++){const n=d[h],q=e[h];var f=m.getBufferType(q);b[f]||(b[f]=new p[f](a));f=b[f];for(let t=0;t<q.length;t++)f[(t/n|0)*c+g+t%n]=q[t];g+=n}return new Float32Array(a)}};
shadow$provide[46]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.isPow2=function(m){return!(m&m-1)&&!!m};k.log2=function(m){let p=(65535<m?1:0)<<4;m>>>=p;let e=(255<m?1:0)<<3;m>>>=e;p|=e;e=(15<m?1:0)<<2;m>>>=e;p|=e;e=(3<m?1:0)<<1;m>>>=e;return p|e|m>>1};k.nextPow2=function(m){m+=0===m?1:0;--m;m|=m>>>1;m|=m>>>2;m|=m>>>4;m|=m>>>8;return(m|m>>>16)+1}};
shadow$provide[47]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.removeItems=function(m,p,e){var d=m.length;if(!(p>=d||0===e)){e=p+e>d?d-p:e;for(d-=e;p<d;++p)m[p]=m[p+e];m.length=d}}};
shadow$provide[48]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.sign=function(m){return 0===m?0:0>m?-1:1}};
shadow$provide[49]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});let m=0;k.uid=function(){return++m}};
shadow$provide[50]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=class{constructor(m,p,e,d){this.left=m;this.top=p;this.right=e;this.bottom=d}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};r.EMPTY=new r(0,0,0,0);k.BoundingBox=r};
shadow$provide[51]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});const m=Object.create(null),p=Object.create(null);k.BaseTextureCache=p;k.ProgramCache={};k.TextureCache=m;k.clearTextureCache=function(){let e;for(e in m)delete m[e];for(e in p)delete p[e]};k.destroyTextureCache=function(){let e;for(e in m)m[e].destroy();for(e in p)p[e].destroy()}};
shadow$provide[52]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(8);class p{constructor(e,d,a){this._canvas=m.settings.ADAPTER.createCanvas();this._context=this._canvas.getContext("2d");this.resolution=a||m.settings.RESOLUTION;this.resize(e,d)}clear(){this._checkDestroyed();this._context.setTransform(1,0,0,1,0,0);this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,d){this._checkDestroyed();this._canvas.width=Math.round(e*this.resolution);this._canvas.height=
Math.round(d*this.resolution)}destroy(){this._canvas=this._context=null}get width(){this._checkDestroyed();return this._canvas.width}set width(e){this._checkDestroyed();this._canvas.width=Math.round(e)}get height(){this._checkDestroyed();return this._canvas.height}set height(e){this._checkDestroyed();this._canvas.height=Math.round(e)}get canvas(){this._checkDestroyed();return this._canvas}get context(){this._checkDestroyed();return this._context}_checkDestroyed(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed");
}}k.CanvasRenderTarget=p};
shadow$provide[53]=function(r,l,B,k){function m(d,a,c){for(let b=0,g=4*c*a;b<a;++b,g+=4)if(0!==d[g+3])return!1;return!0}function p(d,a,c,b,g){a*=4;for(let f=b,h=b*a+4*c;f<=g;++f,h+=a)if(0!==d[h+3])return!1;return!0}Object.defineProperty(k,"__esModule",{value:!0});var e=l(50);k.getCanvasBoundingBox=function(d){const {width:a,height:c}=d;d=d.getContext("2d",{willReadFrequently:!0});if(null===d)throw new TypeError("Failed to get canvas 2D context");d=d.getImageData(0,0,a,c).data;let b=0,g=0,f=a-1,h=
c-1;for(;g<c&&m(d,a,g);)++g;if(g===c)return e.BoundingBox.EMPTY;for(;m(d,a,h);)--h;for(;p(d,a,b,g,h);)++b;for(;p(d,a,f,g,h);)--f;++f;++h;return new e.BoundingBox(b,g,f,h)}};
shadow$provide[54]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(53);k.trimCanvas=function(p){const e=m.getCanvasBoundingBox(p),{width:d,height:a}=e;let c=null;if(!e.isEmpty()){p=p.getContext("2d");if(null===p)throw new TypeError("Failed to get canvas 2D context");c=p.getImageData(e.left,e.top,d,a)}return{width:d,height:a,data:c}}};
shadow$provide[55]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(42);k.decomposeDataUri=function(p){if(p=m.DATA_URI.exec(p))return{mediaType:p[1]?p[1].toLowerCase():void 0,subType:p[2]?p[2].toLowerCase():void 0,charset:p[3]?p[3].toLowerCase():void 0,encoding:p[4]?p[4].toLowerCase():void 0,data:p[5]}}};
shadow$provide[56]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(31);let p;k.determineCrossOrigin=function(e,d=globalThis.location){if(e.startsWith("data:"))return"";d=d||globalThis.location;p||(p=document.createElement("a"));p.href=e;e=m.url.parse(p.href);const a=!e.port&&""===d.port||e.port===d.port;return e.hostname===d.hostname&&a&&e.protocol===d.protocol?"":"anonymous"}};
shadow$provide[57]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});l(9);var m=l(8);k.getResolutionOfUrl=function(p,e=1){return(p=m.settings.RETINA_PREFIX?.exec(p))?parseFloat(p[1]):e}};
shadow$provide[58]=function(r,l,B,k){};
shadow$provide[59]=function(r,l,B,k){function m(L){return L&&"object"===typeof L&&"default"in L?L:{"default":L}}Object.defineProperty(k,"__esModule",{value:!0});l(9);var p=l(8);r=l(10);B=l(11);var e=l(31),d=l(32),a=l(34),c=l(35),b=l(40),g=l(41),f=l(42),h=l(43),n=l(44),q=l(45),t=l(46),u=l(47),w=l(48),x=l(49),y=l(33),z=l(50),C=l(51),A=l(52),v=l(53),F=l(54),I=l(55),H=l(56),M=l(57);l(58);var K=m(r),E=m(B);Object.defineProperty(k,"isMobile",{enumerable:!0,get:function(){return p.isMobile}});Object.defineProperty(k,
"EventEmitter",{enumerable:!0,get:function(){return K["default"]}});Object.defineProperty(k,"earcut",{enumerable:!0,get:function(){return E["default"]}});k.url=e.url;k.path=d.path;k.sayHello=a.sayHello;k.skipHello=a.skipHello;k.isWebGLSupported=c.isWebGLSupported;k.hex2rgb=b.hex2rgb;k.hex2string=b.hex2string;k.rgb2hex=b.rgb2hex;k.string2hex=b.string2hex;k.correctBlendMode=g.correctBlendMode;k.premultiplyBlendMode=g.premultiplyBlendMode;k.premultiplyRgba=g.premultiplyRgba;k.premultiplyTint=g.premultiplyTint;
k.premultiplyTintToRgba=g.premultiplyTintToRgba;k.DATA_URI=f.DATA_URI;k.createIndicesForQuads=h.createIndicesForQuads;k.getBufferType=n.getBufferType;k.interleaveTypedArrays=q.interleaveTypedArrays;k.isPow2=t.isPow2;k.log2=t.log2;k.nextPow2=t.nextPow2;k.removeItems=u.removeItems;k.sign=w.sign;k.uid=x.uid;k.deprecation=y.deprecation;k.BoundingBox=z.BoundingBox;k.BaseTextureCache=C.BaseTextureCache;k.ProgramCache=C.ProgramCache;k.TextureCache=C.TextureCache;k.clearTextureCache=C.clearTextureCache;k.destroyTextureCache=
C.destroyTextureCache;k.CanvasRenderTarget=A.CanvasRenderTarget;k.getCanvasBoundingBox=v.getCanvasBoundingBox;k.trimCanvas=F.trimCanvas;k.decomposeDataUri=I.decomposeDataUri;k.determineCrossOrigin=H.determineCrossOrigin;k.getResolutionOfUrl=M.getResolutionOfUrl};
shadow$provide[60]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=(e=>{e.Renderer="renderer";e.Application="application";e.RendererSystem="renderer-webgl-system";e.RendererPlugin="renderer-webgl-plugin";e.CanvasRendererSystem="renderer-canvas-system";e.CanvasRendererPlugin="renderer-canvas-plugin";e.Asset="asset";e.LoadParser="load-parser";e.ResolveParser="resolve-parser";e.CacheParser="cache-parser";e.DetectionParser="detection-parser";return e})(m||{});const p=e=>{if("function"===
typeof e||"object"===typeof e&&e.extension){if(!e.extension)throw Error("Extension class must have an extension object");e={...("object"!==typeof e.extension?{type:e.extension}:e.extension),ref:e}}if("object"===typeof e)e={...e};else throw Error("Invalid extension type");"string"===typeof e.type&&(e.type=[e.type]);return e};k.ExtensionType=m;k.extensions={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...e){e.map(p).forEach(d=>{d.type.forEach(a=>this._removeHandlers[a]?.(d))});return this},add(...e){e.map(p).forEach(d=>
{d.type.forEach(a=>{const c=this._addHandlers,b=this._queue;if(c[a])c[a](d);else b[a]=b[a]||[],b[a].push(d)})});return this},handle(e,d,a){const c=this._addHandlers,b=this._removeHandlers;if(c[e]||b[e])throw Error(`Extension type ${e} already has a handler`);c[e]=d;b[e]=a;a=this._queue;a[e]&&(a[e].forEach(g=>d(g)),delete a[e]);return this},handleByMap(e,d){return this.handle(e,a=>{d[a.name]=a.ref},a=>{delete d[a.name]})},handleByList(e,d,a=-1){return this.handle(e,c=>{d.includes(c.ref)||(d.push(c.ref),
d.sort((b,g)=>{g=p(g).priority??a;b=p(b).priority??a;return g-b}))},c=>{c=d.indexOf(c.ref);-1!==c&&d.splice(c,1)})}}};
shadow$provide[61]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{constructor(p){this.rawBinaryData="number"===typeof p?new ArrayBuffer(p):p instanceof Uint8Array?p.buffer:p;this.uint32View=new Uint32Array(this.rawBinaryData);this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){this._int8View||(this._int8View=new Int8Array(this.rawBinaryData));return this._int8View}get uint8View(){this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData));return this._uint8View}get int16View(){this._int16View||
(this._int16View=new Int16Array(this.rawBinaryData));return this._int16View}get uint16View(){this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData));return this._uint16View}get int32View(){this._int32View||(this._int32View=new Int32Array(this.rawBinaryData));return this._int32View}view(p){return this[`${p}View`]}destroy(){this.float32View=this.uint32View=this._int32View=this._uint16View=this._int16View=this._uint8View=this._int8View=this.rawBinaryData=null}static sizeOf(p){switch(p){case "int8":case "uint8":return 1;
case "int16":case "uint16":return 2;case "int32":case "uint32":case "float32":return 4;default:throw Error(`${p} isn't a valid view type`);}}}k.ViewableBuffer=m};
shadow$provide[62]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.checkMaxIfStatementsInShader=function(m,p){if(0===m)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const e=p.createShader(p.FRAGMENT_SHADER);for(;;){var d="precision mediump float;\nvoid main(void){\nfloat test \x3d 0.1;\n%forloop%\ngl_FragColor \x3d vec4(0.0);\n}".replace;let a="";for(let c=0;c<m;++c)0<c&&(a+="\nelse "),c<m-1&&(a+=`if(test == ${c}.0){}`);d=d.call("precision mediump float;\nvoid main(void){\nfloat test \x3d 0.1;\n%forloop%\ngl_FragColor \x3d vec4(0.0);\n}",
/%forloop%/gi,a);p.shaderSource(e,d);p.compileShader(e);if(p.getShaderParameter(e,p.COMPILE_STATUS))break;else m=m/2|0}return m}};
shadow$provide[63]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);class p{constructor(){this.data=0;this.blendMode=m.BLEND_MODES.NORMAL;this.polygonOffset=0;this.depthMask=this.blend=!0}get blend(){return!!(this.data&1)}set blend(e){!!(this.data&1)!==e&&(this.data^=1)}get offsets(){return!!(this.data&2)}set offsets(e){!!(this.data&2)!==e&&(this.data^=2)}get culling(){return!!(this.data&4)}set culling(e){!!(this.data&4)!==e&&(this.data^=4)}get depthTest(){return!!(this.data&
8)}set depthTest(e){!!(this.data&8)!==e&&(this.data^=8)}get depthMask(){return!!(this.data&32)}set depthMask(e){!!(this.data&32)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(this.data&16)}set clockwiseFrontFace(e){!!(this.data&16)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==m.BLEND_MODES.NONE;this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e;this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=
new p;e.depthTest=!1;e.blend=!0;return e}}k.State=p};
shadow$provide[64]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});const m=[];k.INSTALLED=m;k.autoDetectResource=function(p,e){if(!p)return null;let d="";if("string"===typeof p){var a=/\.(\w{3,4})(?:$|\?|#)/i.exec(p);a&&(d=a[1].toLowerCase())}for(a=m.length-1;0<=a;--a){const c=m[a];if(c.test&&c.test(p,d))return new c(p,e)}throw Error("Unrecognized source type to auto-detect Resource");}};
shadow$provide[65]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{constructor(p){this.items=[];this._name=p;this._aliasCount=0}emit(p,e,d,a,c,b,g,f){if(8<arguments.length)throw Error("max arguments reached");const {name:h,items:n}=this;this._aliasCount++;for(let q=0,t=n.length;q<t;q++)n[q][h](p,e,d,a,c,b,g,f);n===this.items&&this._aliasCount--;return this}ensureNonAliasedItems(){0<this._aliasCount&&1<this.items.length&&(this._aliasCount=0,this.items=this.items.slice(0))}add(p){p[this._name]&&
(this.ensureNonAliasedItems(),this.remove(p),this.items.push(p));return this}remove(p){p=this.items.indexOf(p);-1!==p&&(this.ensureNonAliasedItems(),this.items.splice(p,1));return this}contains(p){return this.items.includes(p)}removeAll(){this.ensureNonAliasedItems();this.items.length=0;return this}destroy(){this.removeAll();this._name=this.items=null}get empty(){return 0===this.items.length}get name(){return this._name}}Object.defineProperties(m.prototype,{dispatch:{value:m.prototype.emit},run:{value:m.prototype.emit}});
k.Runner=m};
shadow$provide[66]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(65);k.Runner=r.Runner};
shadow$provide[67]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(66);class p{constructor(e=0,d=0){this._width=e;this._height=d;this.internal=this.destroyed=!1;this.onResize=new m.Runner("setRealSize");this.onUpdate=new m.Runner("update");this.onError=new m.Runner("onError")}bind(e){this.onResize.add(e);this.onUpdate.add(e);this.onError.add(e);(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e);this.onUpdate.remove(e);
this.onError.remove(e)}resize(e,d){if(e!==this._width||d!==this._height)this._width=e,this._height=d,this.onResize.emit(e,d)}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,d,a){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),
this.onUpdate=null)}static test(e,d){return!1}}k.Resource=p};
shadow$provide[68]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);r=l(67);class p extends r.Resource{constructor(e,d){const {width:a,height:c}=d||{};if(!a||!c)throw Error("BufferResource width or height invalid");super(a,c);this.data=e}upload(e,d,a){e=e.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d.alphaMode===m.ALPHA_MODES.UNPACK);const c=d.realWidth,b=d.realHeight;a.width===c&&a.height===b?e.texSubImage2D(d.target,0,0,0,c,b,d.format,a.type,this.data):(a.width=
c,a.height=b,e.texImage2D(d.target,0,a.internalFormat,c,b,0,d.format,a.type,this.data));return!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}k.BufferResource=p};
shadow$provide[69]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0),p=l(8),e=l(59),d=l(64),a=l(68),c=l(67);const b={scaleMode:m.SCALE_MODES.NEAREST,format:m.FORMATS.RGBA,alphaMode:m.ALPHA_MODES.NPM},g=class extends e.EventEmitter{constructor(f=null,h=null){super();h=Object.assign({},g.defaultOptions,h);const {alphaMode:n,mipmap:q,anisotropicLevel:t,scaleMode:u,width:w,height:x,wrapMode:y,format:z,type:C,target:A,resolution:v,resourceOptions:F}=h;!f||f instanceof c.Resource||
(f=d.autoDetectResource(f,F),f.internal=!0);this.resolution=v||p.settings.RESOLUTION;this.width=Math.round((w||0)*this.resolution)/this.resolution;this.height=Math.round((x||0)*this.resolution)/this.resolution;this._mipmap=q;this.anisotropicLevel=t;this._wrapMode=y;this._scaleMode=u;this.format=z;this.type=C;this.target=A;this.alphaMode=n;this.uid=e.uid();this.touched=0;this.isPowerOfTwo=!1;this._refreshPOT();this._glTextures={};this.dirtyStyleId=this.dirtyId=0;this.cacheId=null;this.valid=0<w&&0<
x;this.textureCacheIds=[];this.destroyed=!1;this.resource=null;this._batchLocation=this._batchEnabled=0;this.parentTextureArray=null;this.setResource(f)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(f){this._mipmap!==f&&(this._mipmap=f,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(f){this._scaleMode!==f&&(this._scaleMode=f,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(f){this._wrapMode!==
f&&(this._wrapMode=f,this.dirtyStyleId++)}setStyle(f,h){let n;void 0!==f&&f!==this.scaleMode&&(this.scaleMode=f,n=!0);void 0!==h&&h!==this.mipmap&&(this.mipmap=h,n=!0);n&&this.dirtyStyleId++;return this}setSize(f,h,n){n=n||this.resolution;return this.setRealSize(f*n,h*n,n)}setRealSize(f,h,n){this.resolution=n||this.resolution;this.width=Math.round(f)/this.resolution;this.height=Math.round(h)/this.resolution;this._refreshPOT();this.update();return this}_refreshPOT(){this.isPowerOfTwo=e.isPow2(this.realWidth)&&
e.isPow2(this.realHeight)}setResolution(f){const h=this.resolution;if(h===f)return this;this.resolution=f;this.valid&&(this.width=Math.round(this.width*h)/f,this.height=Math.round(this.height*h)/f,this.emit("update",this));this._refreshPOT();return this}setResource(f){if(this.resource===f)return this;if(this.resource)throw Error("Resource can be set only once");f.bind(this);this.resource=f;return this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):0<this.width&&
0<this.height&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(f){this.emit("error",this,f)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null);this.cacheId&&(delete e.BaseTextureCache[this.cacheId],delete e.TextureCache[this.cacheId],this.cacheId=null);this.dispose();g.removeFromCache(this);this.textureCacheIds=null;this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(f,
h,n=p.settings.STRICT_TEXTURE_CACHE){const q="string"===typeof f;let t;q?t=f:(f._pixiId||(f._pixiId=`${h?.pixiIdPrefix||"pixiid"}_${e.uid()}`),t=f._pixiId);let u=e.BaseTextureCache[t];if(q&&n&&!u)throw Error(`The cacheId "${t}" does not exist in BaseTextureCache.`);u||(u=new g(f,h),u.cacheId=t,g.addToCache(u,t));return u}static fromBuffer(f,h,n,q){f=f||new Float32Array(h*n*4);h=new a.BufferResource(f,{width:h,height:n});return new g(h,Object.assign({},b,{type:f instanceof Float32Array?m.TYPES.FLOAT:
m.TYPES.UNSIGNED_BYTE},q))}static addToCache(f,h){h&&(f.textureCacheIds.includes(h)||f.textureCacheIds.push(h),e.BaseTextureCache[h]&&e.BaseTextureCache[h]!==f&&console.warn(`BaseTexture added to the cache with an id [${h}] that already had an entry`),e.BaseTextureCache[h]=f)}static removeFromCache(f){if("string"===typeof f){var h=e.BaseTextureCache[f];if(h){const n=h.textureCacheIds.indexOf(f);-1<n&&h.textureCacheIds.splice(n,1);delete e.BaseTextureCache[f];return h}}else if(f?.textureCacheIds){for(h=
0;h<f.textureCacheIds.length;++h)delete e.BaseTextureCache[f.textureCacheIds[h]];f.textureCacheIds.length=0;return f}return null}};r=g;r.defaultOptions={mipmap:m.MIPMAP_MODES.POW2,anisotropicLevel:0,scaleMode:m.SCALE_MODES.LINEAR,wrapMode:m.WRAP_MODES.CLAMP,alphaMode:m.ALPHA_MODES.UNPACK,target:m.TARGETS.TEXTURE_2D,format:m.FORMATS.RGBA,type:m.TYPES.UNSIGNED_BYTE};r._globalBatch=0;k.BaseTexture=r};
shadow$provide[70]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);class p{constructor(){this.texArray=null;this.blend=0;this.type=m.DRAW_MODES.TRIANGLES;this.size=this.start=0;this.data=null}}k.BatchDrawCall=p};
shadow$provide[71]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0),p=l(66);let e=0;class d{constructor(a,c=!0,b=!1){this.data=a||new Float32Array(1);this._glBuffers={};this._updateID=0;this.index=b;this.static=c;this.id=e++;this.disposeRunner=new p.Runner("disposeBuffer")}update(a){a instanceof Array&&(a=new Float32Array(a));this.data=a||this.data;this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose();this.data=null}set index(a){this.type=
a?m.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:m.BUFFER_TYPE.ARRAY_BUFFER}get index(){return this.type===m.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER}static from(a){a instanceof Array&&(a=new Float32Array(a));return new d(a)}}k.Buffer=d};
shadow$provide[72]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);class p{constructor(e,d=0,a=!1,c=m.TYPES.FLOAT,b,g,f,h=1){this.buffer=e;this.size=d;this.normalized=a;this.type=c;this.stride=b;this.start=g;this.instance=f;this.divisor=h}destroy(){this.buffer=null}static from(e,d,a,c,b){return new p(e,d,a,c,b)}}k.Attribute=p};
shadow$provide[73]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(59);const p={Float32Array,Uint32Array,Int32Array,Uint8Array};k.interleaveTypedArrays=function(e,d){var a=0;let c=0;const b={};for(var g=0;g<e.length;g++)c+=d[g],a+=e[g].length;a=new ArrayBuffer(4*a);g=0;for(let h=0;h<e.length;h++){const n=d[h],q=e[h];var f=m.getBufferType(q);b[f]||(b[f]=new p[f](a));f=b[f];for(let t=0;t<q.length;t++)f[(t/n|0)*c+g+t%n]=q[t];g+=n}return new Float32Array(a)}};
shadow$provide[74]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0),p=l(66),e=l(59),d=l(72),a=l(71),c=l(73);const b={5126:4,5123:2,5121:1};let g=0;const f={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class h{constructor(n=[],q={}){this.buffers=n;this.indexBuffer=null;this.attributes=q;this.glVertexArrayObjects={};this.id=g++;this.instanced=!1;this.instanceCount=1;this.disposeRunner=new p.Runner("disposeGeometry");this.refCount=0}addAttribute(n,q,t=0,u=
!1,w,x,y,z=!1){if(!q)throw Error("You must pass a buffer when creating an attribute");q instanceof a.Buffer||(q instanceof Array&&(q=new Float32Array(q)),q=new a.Buffer(q));var C=n.split("|");if(1<C.length){for(n=0;n<C.length;n++)this.addAttribute(C[n],q,t,u,w);return this}C=this.buffers.indexOf(q);-1===C&&(this.buffers.push(q),C=this.buffers.length-1);this.attributes[n]=new d.Attribute(C,t,u,w,x,y,z);this.instanced=this.instanced||z;return this}getAttribute(n){return this.attributes[n]}getBuffer(n){return this.buffers[this.getAttribute(n).buffer]}addIndex(n){n instanceof
a.Buffer||(n instanceof Array&&(n=new Uint16Array(n)),n=new a.Buffer(n));n.type=m.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;this.indexBuffer=n;this.buffers.includes(n)||this.buffers.push(n);return this}getIndex(){return this.indexBuffer}interleave(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;const n=[],q=[],t=new a.Buffer;let u;for(u in this.attributes){const w=this.attributes[u];n.push(this.buffers[w.buffer].data);q.push(w.size*b[w.type]/4);w.buffer=0}t.data=c.interleaveTypedArrays(n,
q);for(u=0;u<this.buffers.length;u++)this.buffers[u]!==this.indexBuffer&&this.buffers[u].destroy();this.buffers=[t];this.indexBuffer&&this.buffers.push(this.indexBuffer);return this}getSize(){for(var n in this.attributes)return n=this.attributes[n],this.buffers[n.buffer].data.length/(n.stride/4||n.size);return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose();this.attributes=this.indexBuffer=this.buffers=null}clone(){const n=new h;for(var q=0;q<this.buffers.length;q++)n.buffers[q]=
new a.Buffer(this.buffers[q].data.slice(0));for(const t in this.attributes)q=this.attributes[t],n.attributes[t]=new d.Attribute(q.buffer,q.size,q.normalized,q.type,q.stride,q.start,q.instance);this.indexBuffer&&(n.indexBuffer=n.buffers[this.buffers.indexOf(this.indexBuffer)],n.indexBuffer.type=m.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER);return n}static merge(n){const q=new h;var t=[],u=[],w=[];for(var x=0;x<n.length;x++){var y=n[x];for(var z=0;z<y.buffers.length;z++)u[z]=u[z]||0,u[z]+=y.buffers[z].data.length,
w[z]=0}for(x=0;x<y.buffers.length;x++)t[x]=new (f[e.getBufferType(y.buffers[x].data)])(u[x]),q.buffers[x]=new a.Buffer(t[x]);for(u=0;u<n.length;u++)for(y=n[u],x=0;x<y.buffers.length;x++)t[x].set(y.buffers[x].data,w[x]),w[x]+=y.buffers[x].data.length;q.attributes=y.attributes;if(y.indexBuffer){q.indexBuffer=q.buffers[y.buffers.indexOf(y.indexBuffer)];q.indexBuffer.type=m.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;x=u=w=t=0;for(z=0;z<y.buffers.length;z++)if(y.buffers[z]!==y.indexBuffer){x=z;break}for(var C in y.attributes)z=
y.attributes[C],(z.buffer|0)===x&&(w+=z.size*b[z.type]/4);for(y=0;y<n.length;y++){C=n[y].indexBuffer.data;for(z=0;z<C.length;z++)q.indexBuffer.data[z+u]+=t;t+=n[y].buffers[x].data.length/w;u+=C.length}}return q}}k.Geometry=h};
shadow$provide[75]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0),p=l(71);r=l(74);class e extends r.Geometry{constructor(d=!1){super();this._buffer=new p.Buffer(null,d,!1);this._indexBuffer=new p.Buffer(null,d,!0);this.addAttribute("aVertexPosition",this._buffer,2,!1,m.TYPES.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,m.TYPES.FLOAT).addAttribute("aColor",this._buffer,4,!0,m.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,m.TYPES.FLOAT).addIndex(this._indexBuffer)}}
k.BatchGeometry=e};
shadow$provide[76]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=2*Math.PI;l=180/Math.PI;B=Math.PI/180;var m=m||{};m[m.POLY=0]="POLY";m[m.RECT=1]="RECT";m[m.CIRC=2]="CIRC";m[m.ELIP=3]="ELIP";m[m.RREC=4]="RREC";k.DEG_TO_RAD=B;k.PI_2=r;k.RAD_TO_DEG=l;k.SHAPES=m};
shadow$provide[77]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{constructor(p=0,e=0){this.y=this.x=0;this.x=p;this.y=e}clone(){return new m(this.x,this.y)}copyFrom(p){this.set(p.x,p.y);return this}copyTo(p){p.set(this.x,this.y);return p}equals(p){return p.x===this.x&&p.y===this.y}set(p=0,e=p){this.x=p;this.y=e;return this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}k.Point=m};
shadow$provide[78]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(76);r=l(77);const p=[new r.Point,new r.Point,new r.Point,new r.Point];class e{constructor(d=0,a=0,c=0,b=0){this.x=Number(d);this.y=Number(a);this.width=Number(c);this.height=Number(b);this.type=m.SHAPES.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new e(0,0,0,0)}clone(){return new e(this.x,this.y,
this.width,this.height)}copyFrom(d){this.x=d.x;this.y=d.y;this.width=d.width;this.height=d.height;return this}copyTo(d){d.x=this.x;d.y=this.y;d.width=this.width;d.height=this.height;return d}contains(d,a){return 0>=this.width||0>=this.height?!1:d>=this.x&&d<this.x+this.width&&a>=this.y&&a<this.y+this.height?!0:!1}intersects(d,a){if(!a)return(this.right>d.right?d.right:this.right)<=(this.x<d.x?d.x:this.x)?!1:(this.bottom>d.bottom?d.bottom:this.bottom)>(this.y<d.y?d.y:this.y);var c=this.left,b=this.right,
g=this.top;const f=this.bottom;if(b<=c||f<=g)return!1;const h=p[0].set(d.left,d.top);var n=p[1].set(d.left,d.bottom),q=p[2].set(d.right,d.top);d=p[3].set(d.right,d.bottom);if(q.x<=h.x||n.y<=h.y)return!1;var t=Math.sign(a.a*a.d-a.b*a.c);if(0===t)return!1;a.apply(h,h);a.apply(n,n);a.apply(q,q);a.apply(d,d);if(Math.max(h.x,n.x,q.x,d.x)<=c||Math.min(h.x,n.x,q.x,d.x)>=b||Math.max(h.y,n.y,q.y,d.y)<=g||Math.min(h.y,n.y,q.y,d.y)>=f)return!1;a=t*(n.y-h.y);n=t*(h.x-n.x);const u=a*c+n*g,w=a*b+n*g,x=a*c+n*f,
y=a*b+n*f;if(Math.max(u,w,x,y)<=a*h.x+n*h.y||Math.min(u,w,x,y)>=a*d.x+n*d.y)return!1;a=t*(h.y-q.y);q=t*(q.x-h.x);t=a*c+q*g;g=a*b+q*g;c=a*c+q*f;b=a*b+q*f;return Math.max(t,g,c,b)<=a*h.x+q*h.y||Math.min(t,g,c,b)>=a*d.x+q*d.y?!1:!0}pad(d=0,a=d){this.x-=d;this.y-=a;this.width+=2*d;this.height+=2*a;return this}fit(d){const a=Math.max(this.x,d.x),c=Math.min(this.x+this.width,d.x+d.width),b=Math.max(this.y,d.y);d=Math.min(this.y+this.height,d.y+d.height);this.x=a;this.width=Math.max(c-a,0);this.y=b;this.height=
Math.max(d-b,0);return this}ceil(d=1,a=.001){const c=Math.ceil((this.x+this.width-a)*d)/d,b=Math.ceil((this.y+this.height-a)*d)/d;this.x=Math.floor((this.x+a)*d)/d;this.y=Math.floor((this.y+a)*d)/d;this.width=c-this.x;this.height=b-this.y;return this}enlarge(d){const a=Math.min(this.x,d.x),c=Math.max(this.x+this.width,d.x+d.width),b=Math.min(this.y,d.y);d=Math.max(this.y+this.height,d.y+d.height);this.x=a;this.width=c-a;this.y=b;this.height=d-b;return this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}
k.Rectangle=e};
shadow$provide[79]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(76),p=l(78);class e{constructor(d=0,a=0,c=0){this.x=d;this.y=a;this.radius=c;this.type=m.SHAPES.CIRC}clone(){return new e(this.x,this.y,this.radius)}contains(d,a){if(0>=this.radius)return!1;d=this.x-d;a=this.y-a;return d*d+a*a<=this.radius*this.radius}getBounds(){return new p.Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}
k.Circle=e};
shadow$provide[80]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(76),p=l(78);class e{constructor(d=0,a=0,c=0,b=0){this.x=d;this.y=a;this.width=c;this.height=b;this.type=m.SHAPES.ELIP}clone(){return new e(this.x,this.y,this.width,this.height)}contains(d,a){if(0>=this.width||0>=this.height)return!1;d=(d-this.x)/this.width;a=(a-this.y)/this.height;return 1>=d*d+a*a}getBounds(){return new p.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}
k.Ellipse=e};
shadow$provide[81]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(76);class p{constructor(...e){e=Array.isArray(e[0])?e[0]:e;if("number"!==typeof e[0]){const d=[];for(let a=0,c=e.length;a<c;a++)d.push(e[a].x,e[a].y);e=d}this.points=e;this.type=m.SHAPES.POLY;this.closeStroke=!0}clone(){var e=this.points.slice();e=new p(e);e.closeStroke=this.closeStroke;return e}contains(e,d){let a=!1;const c=this.points.length/2;for(let b=0,g=c-1;b<c;g=b++){const f=this.points[2*b],h=this.points[2*
b+1],n=this.points[2*g],q=this.points[2*g+1];h>d!==q>d&&e<(d-h)/(q-h)*(n-f)+f&&(a=!a)}return a}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,d)=>`${e}, ${d}`,"")}]`}}k.Polygon=p};
shadow$provide[82]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(76);class p{constructor(e=0,d=0,a=0,c=0,b=20){this.x=e;this.y=d;this.width=a;this.height=c;this.radius=b;this.type=m.SHAPES.RREC}clone(){return new p(this.x,this.y,this.width,this.height,this.radius)}contains(e,d){if(0>=this.width||0>=this.height)return!1;if(e>=this.x&&e<=this.x+this.width&&d>=this.y&&d<=this.y+this.height){const a=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(d>=
this.y+a&&d<=this.y+this.height-a||e>=this.x+a&&e<=this.x+this.width-a)return!0;let c=e-(this.x+a),b=d-(this.y+a);const g=a*a;if(c*c+b*b<=g)return!0;c=e-(this.x+this.width-a);if(c*c+b*b<=g)return!0;b=d-(this.y+this.height-a);if(c*c+b*b<=g)return!0;c=e-(this.x+a);if(c*c+b*b<=g)return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}k.RoundedRectangle=p};
shadow$provide[83]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(76),p=l(77);class e{constructor(d=1,a=0,c=0,b=1,g=0,f=0){this.array=null;this.a=d;this.b=a;this.c=c;this.d=b;this.tx=g;this.ty=f}fromArray(d){this.a=d[0];this.b=d[1];this.c=d[3];this.d=d[4];this.tx=d[2];this.ty=d[5]}set(d,a,c,b,g,f){this.a=d;this.b=a;this.c=c;this.d=b;this.tx=g;this.ty=f;return this}toArray(d,a){this.array||(this.array=new Float32Array(9));a=a||this.array;d?(a[0]=this.a,a[1]=this.b,a[2]=
0,a[3]=this.c,a[4]=this.d,a[5]=0,a[6]=this.tx,a[7]=this.ty):(a[0]=this.a,a[1]=this.c,a[2]=this.tx,a[3]=this.b,a[4]=this.d,a[5]=this.ty,a[6]=0,a[7]=0);a[8]=1;return a}apply(d,a){a=a||new p.Point;const c=d.x;d=d.y;a.x=this.a*c+this.c*d+this.tx;a.y=this.b*c+this.d*d+this.ty;return a}applyInverse(d,a){a=a||new p.Point;const c=1/(this.a*this.d+this.c*-this.b),b=d.x;d=d.y;a.x=this.d*c*b+-this.c*c*d+(this.ty*this.c-this.tx*this.d)*c;a.y=this.a*c*d+-this.b*c*b+(-this.ty*this.a+this.tx*this.b)*c;return a}translate(d,
a){this.tx+=d;this.ty+=a;return this}scale(d,a){this.a*=d;this.d*=a;this.c*=d;this.b*=a;this.tx*=d;this.ty*=a;return this}rotate(d){const a=Math.cos(d);d=Math.sin(d);const c=this.a,b=this.c,g=this.tx;this.a=c*a-this.b*d;this.b=c*d+this.b*a;this.c=b*a-this.d*d;this.d=b*d+this.d*a;this.tx=g*a-this.ty*d;this.ty=g*d+this.ty*a;return this}append(d){const a=this.a,c=this.b,b=this.c,g=this.d;this.a=d.a*a+d.b*b;this.b=d.a*c+d.b*g;this.c=d.c*a+d.d*b;this.d=d.c*c+d.d*g;this.tx=d.tx*a+d.ty*b+this.tx;this.ty=
d.tx*c+d.ty*g+this.ty;return this}setTransform(d,a,c,b,g,f,h,n,q){this.a=Math.cos(h+q)*g;this.b=Math.sin(h+q)*g;this.c=-Math.sin(h-n)*f;this.d=Math.cos(h-n)*f;this.tx=d-(c*this.a+b*this.c);this.ty=a-(c*this.b+b*this.d);return this}prepend(d){const a=this.tx;if(1!==d.a||0!==d.b||0!==d.c||1!==d.d){const c=this.a,b=this.c;this.a=c*d.a+this.b*d.c;this.b=c*d.b+this.b*d.d;this.c=b*d.a+this.d*d.c;this.d=b*d.b+this.d*d.d}this.tx=a*d.a+this.ty*d.c+d.tx;this.ty=a*d.b+this.ty*d.d+d.ty;return this}decompose(d){const a=
this.a,c=this.b,b=this.c,g=this.d,f=d.pivot,h=-Math.atan2(-b,g),n=Math.atan2(c,a),q=Math.abs(h+n);1E-5>q||1E-5>Math.abs(m.PI_2-q)?(d.rotation=n,d.skew.x=d.skew.y=0):(d.rotation=0,d.skew.x=h,d.skew.y=n);d.scale.x=Math.sqrt(a*a+c*c);d.scale.y=Math.sqrt(b*b+g*g);d.position.x=this.tx+(f.x*a+f.y*b);d.position.y=this.ty+(f.x*c+f.y*g);return d}invert(){const d=this.a,a=this.b,c=this.c,b=this.d,g=this.tx,f=d*b-a*c;this.a=b/f;this.b=-a/f;this.c=-c/f;this.d=d/f;this.tx=(c*this.ty-b*g)/f;this.ty=-(d*this.ty-
a*g)/f;return this}identity(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this}clone(){const d=new e;d.a=this.a;d.b=this.b;d.c=this.c;d.d=this.d;d.tx=this.tx;d.ty=this.ty;return d}copyTo(d){d.a=this.a;d.b=this.b;d.c=this.c;d.d=this.d;d.tx=this.tx;d.ty=this.ty;return d}copyFrom(d){this.a=d.a;this.b=d.b;this.c=d.c;this.d=d.d;this.tx=d.tx;this.ty=d.ty;return this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new e}static get TEMP_MATRIX(){return new e}}
k.Matrix=e};
shadow$provide[84]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(83);const p=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],e=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],d=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],a=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],c=[],b=[],g=Math.sign;(function(){for(var h=0;16>h;h++){var n=[];c.push(n);for(let q=0;16>q;q++){const t=g(p[h]*p[q]+d[h]*e[q]),u=g(e[h]*p[q]+a[h]*e[q]),w=g(p[h]*d[q]+d[h]*a[q]),x=g(e[h]*d[q]+a[h]*a[q]);for(let y=0;16>y;y++)if(p[y]===
t&&e[y]===u&&d[y]===w&&a[y]===x){n.push(y);break}}}for(h=0;16>h;h++)n=new m.Matrix,n.set(p[h],e[h],d[h],a[h],0,0),b.push(n)})();const f={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:h=>p[h],uY:h=>e[h],vX:h=>d[h],vY:h=>a[h],inv:h=>h&8?h&15:-h&7,add:(h,n)=>c[h][n],sub:(h,n)=>c[h][f.inv(n)],rotate180:h=>h^4,isVertical:h=>2===(h&3),byDirection:(h,n)=>2*Math.abs(h)<=Math.abs(n)?0<=n?f.S:f.N:2*Math.abs(n)<=Math.abs(h)?0<h?f.E:f.W:0<n?
0<h?f.SE:f.SW:0<h?f.NE:f.NW,matrixAppendRotationInv:(h,n,q=0,t=0)=>{n=b[f.inv(n)];n.tx=q;n.ty=t;h.append(n)}};k.groupD8=f};
shadow$provide[85]=function(r,l,B,k){};
shadow$provide[86]=function(r,l,B,k){};
shadow$provide[87]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{constructor(p,e,d=0,a=0){this._x=d;this._y=a;this.cb=p;this.scope=e}clone(p=this.cb,e=this.scope){return new m(p,e,this._x,this._y)}set(p=0,e=p){if(this._x!==p||this._y!==e)this._x=p,this._y=e,this.cb.call(this.scope);return this}copyFrom(p){if(this._x!==p.x||this._y!==p.y)this._x=p.x,this._y=p.y,this.cb.call(this.scope);return this}copyTo(p){p.set(this._x,this._y);return p}equals(p){return p.x===this._x&&
p.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(p){this._x!==p&&(this._x=p,this.cb.call(this.scope))}get y(){return this._y}set y(p){this._y!==p&&(this._y=p,this.cb.call(this.scope))}}k.ObservablePoint=m};
shadow$provide[88]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(83),p=l(87);r=class{constructor(){this.worldTransform=new m.Matrix;this.localTransform=new m.Matrix;this.position=new p.ObservablePoint(this.onChange,this,0,0);this.scale=new p.ObservablePoint(this.onChange,this,1,1);this.pivot=new p.ObservablePoint(this.onChange,this,0,0);this.skew=new p.ObservablePoint(this.updateSkew,this,0,0);this._rotation=0;this._cx=1;this._cy=this._sx=0;this._sy=1;this._parentID=this._worldID=
this._currentLocalID=this._localID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y);this._sx=Math.sin(this._rotation+this.skew.y);this._cy=-Math.sin(this._rotation-this.skew.x);this._sy=Math.cos(this._rotation-this.skew.x);this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const e=
this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){const d=this.localTransform;this._localID!==this._currentLocalID&&(d.a=this._cx*this.scale.x,d.b=this._sx*this.scale.x,d.c=this._cy*this.scale.y,d.d=this._sy*
this.scale.y,d.tx=this.position.x-(this.pivot.x*d.a+this.pivot.y*d.c),d.ty=this.position.y-(this.pivot.x*d.b+this.pivot.y*d.d),this._currentLocalID=this._localID,this._parentID=-1);if(this._parentID!==e._worldID){const a=e.worldTransform,c=this.worldTransform;c.a=d.a*a.a+d.b*a.c;c.b=d.a*a.b+d.b*a.d;c.c=d.c*a.a+d.d*a.c;c.d=d.c*a.b+d.d*a.d;c.tx=d.tx*a.a+d.ty*a.c+a.tx;c.ty=d.tx*a.b+d.ty*a.d+a.ty;this._parentID=e._worldID;this._worldID++}}setFromMatrix(e){e.decompose(this);this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==
e&&(this._rotation=e,this.updateSkew())}};r.IDENTITY=new r;k.Transform=r};
shadow$provide[89]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(79);B=l(80);var m=l(81),p=l(78),e=l(82),d=l(84);l(85);l(86);var a=l(83),c=l(87),b=l(77),g=l(88);l=l(76);k.Circle=r.Circle;k.Ellipse=B.Ellipse;k.Polygon=m.Polygon;k.Rectangle=p.Rectangle;k.RoundedRectangle=e.RoundedRectangle;k.groupD8=d.groupD8;k.Matrix=a.Matrix;k.ObservablePoint=c.ObservablePoint;k.Point=b.Point;k.Transform=g.Transform;k.DEG_TO_RAD=l.DEG_TO_RAD;k.PI_2=l.PI_2;k.RAD_TO_DEG=l.RAD_TO_DEG;k.SHAPES=
l.SHAPES};
shadow$provide[90]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *\x3d texture2D(uSampler, vTextureCoord);\n}"};
shadow$provide[91]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position \x3d vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord \x3d aTextureCoord;\n}\n"};
shadow$provide[92]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.compileShader=function(m,p,e){p=m.createShader(p);m.shaderSource(p,e);m.compileShader(p);return p}};
shadow$provide[93]=function(r,l,B,k){function m(p){p=Array(p);for(let e=0;e<p.length;e++)p[e]=!1;return p}Object.defineProperty(k,"__esModule",{value:!0});k.defaultValue=function(p,e){switch(p){case "float":return 0;case "vec2":return new Float32Array(2*e);case "vec3":return new Float32Array(3*e);case "vec4":return new Float32Array(4*e);case "int":case "uint":case "sampler2D":case "sampler2DArray":return 0;case "ivec2":return new Int32Array(2*e);case "ivec3":return new Int32Array(3*e);case "ivec4":return new Int32Array(4*
e);case "uvec2":return new Uint32Array(2*e);case "uvec3":return new Uint32Array(3*e);case "uvec4":return new Uint32Array(4*e);case "bool":return!1;case "bvec2":return m(2*e);case "bvec3":return m(3*e);case "bvec4":return m(4*e);case "mat2":return new Float32Array([1,0,0,1]);case "mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case "mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}};
shadow$provide[94]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.uniformParsers=[{test:m=>"float"===m.type&&1===m.size&&!m.isArray,code:m=>`
            if(uv["${m}"] !== ud["${m}"].value)
            {
                ud["${m}"].value = uv["${m}"]
                gl.uniform1f(ud["${m}"].location, uv["${m}"])
            }
            `},{test:(m,p)=>("sampler2D"===m.type||"samplerCube"===m.type||"sampler2DArray"===m.type)&&1===m.size&&!m.isArray&&(null==p||void 0!==p.castToBaseTexture),code:m=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${m}"], t);

            if(ud["${m}"].value !== t)
            {
                ud["${m}"].value = t;
                gl.uniform1i(ud["${m}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(m,p)=>"mat3"===m.type&&1===m.size&&!m.isArray&&void 0!==p.a,code:m=>`
            gl.uniformMatrix3fv(ud["${m}"].location, false, uv["${m}"].toArray(true));
            `,codeUbo:m=>`
                var ${m}_matrix = uv.${m}.toArray(true);

                data[offset] = ${m}_matrix[0];
                data[offset+1] = ${m}_matrix[1];
                data[offset+2] = ${m}_matrix[2];
        
                data[offset + 4] = ${m}_matrix[3];
                data[offset + 5] = ${m}_matrix[4];
                data[offset + 6] = ${m}_matrix[5];
        
                data[offset + 8] = ${m}_matrix[6];
                data[offset + 9] = ${m}_matrix[7];
                data[offset + 10] = ${m}_matrix[8];
            `},{test:(m,p)=>"vec2"===m.type&&1===m.size&&!m.isArray&&void 0!==p.x,code:m=>`
                cv = ud["${m}"].value;
                v = uv["${m}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${m}"].location, v.x, v.y);
                }`,codeUbo:m=>`
                v = uv.${m};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:m=>"vec2"===m.type&&1===m.size&&!m.isArray,code:m=>`
                cv = ud["${m}"].value;
                v = uv["${m}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${m}"].location, v[0], v[1]);
                }
            `},{test:(m,p)=>"vec4"===m.type&&1===m.size&&!m.isArray&&void 0!==p.width,code:m=>`
                cv = ud["${m}"].value;
                v = uv["${m}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${m}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:m=>`
                    v = uv.${m};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(m,p)=>"vec4"===m.type&&1===m.size&&!m.isArray&&void 0!==p.red,code:m=>`
                cv = ud["${m}"].value;
                v = uv["${m}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${m}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:m=>`
                    v = uv.${m};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(m,p)=>"vec3"===m.type&&1===m.size&&!m.isArray&&void 0!==p.red,code:m=>`
                cv = ud["${m}"].value;
                v = uv["${m}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${m}"].location, v.red, v.green, v.blue)
                }`,codeUbo:m=>`
                    v = uv.${m};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:m=>"vec4"===m.type&&1===m.size&&!m.isArray,code:m=>`
                cv = ud["${m}"].value;
                v = uv["${m}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${m}"].location, v[0], v[1], v[2], v[3])
                }`}]};
shadow$provide[95]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(94);const p={float:"\n    if (cv !\x3d\x3d v)\n    {\n        cu.value \x3d v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !\x3d\x3d v[0] || cv[1] !\x3d\x3d v[1])\n    {\n        cv[0] \x3d v[0];\n        cv[1] \x3d v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !\x3d\x3d v[0] || cv[1] !\x3d\x3d v[1] || cv[2] !\x3d\x3d v[2])\n    {\n        cv[0] \x3d v[0];\n        cv[1] \x3d v[1];\n        cv[2] \x3d v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",
vec4:"\n    if (cv[0] !\x3d\x3d v[0] || cv[1] !\x3d\x3d v[1] || cv[2] !\x3d\x3d v[2] || cv[3] !\x3d\x3d v[3])\n    {\n        cv[0] \x3d v[0];\n        cv[1] \x3d v[1];\n        cv[2] \x3d v[2];\n        cv[3] \x3d v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !\x3d\x3d v)\n    {\n        cu.value \x3d v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !\x3d\x3d v[0] || cv[1] !\x3d\x3d v[1])\n    {\n        cv[0] \x3d v[0];\n        cv[1] \x3d v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",
ivec3:"\n    if (cv[0] !\x3d\x3d v[0] || cv[1] !\x3d\x3d v[1] || cv[2] !\x3d\x3d v[2])\n    {\n        cv[0] \x3d v[0];\n        cv[1] \x3d v[1];\n        cv[2] \x3d v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !\x3d\x3d v[0] || cv[1] !\x3d\x3d v[1] || cv[2] !\x3d\x3d v[2] || cv[3] !\x3d\x3d v[3])\n    {\n        cv[0] \x3d v[0];\n        cv[1] \x3d v[1];\n        cv[2] \x3d v[2];\n        cv[3] \x3d v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",
uint:"\n    if (cv !\x3d\x3d v)\n    {\n        cu.value \x3d v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !\x3d\x3d v[0] || cv[1] !\x3d\x3d v[1])\n    {\n        cv[0] \x3d v[0];\n        cv[1] \x3d v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !\x3d\x3d v[0] || cv[1] !\x3d\x3d v[1] || cv[2] !\x3d\x3d v[2])\n    {\n        cv[0] \x3d v[0];\n        cv[1] \x3d v[1];\n        cv[2] \x3d v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",
uvec4:"\n    if (cv[0] !\x3d\x3d v[0] || cv[1] !\x3d\x3d v[1] || cv[2] !\x3d\x3d v[2] || cv[3] !\x3d\x3d v[3])\n    {\n        cv[0] \x3d v[0];\n        cv[1] \x3d v[1];\n        cv[2] \x3d v[2];\n        cv[3] \x3d v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !\x3d\x3d v)\n    {\n        cu.value \x3d v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] !\x3d v[0] || cv[1] !\x3d v[1])\n    {\n        cv[0] \x3d v[0];\n        cv[1] \x3d v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",
bvec3:"\n    if (cv[0] !\x3d\x3d v[0] || cv[1] !\x3d\x3d v[1] || cv[2] !\x3d\x3d v[2])\n    {\n        cv[0] \x3d v[0];\n        cv[1] \x3d v[1];\n        cv[2] \x3d v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !\x3d\x3d v[0] || cv[1] !\x3d\x3d v[1] || cv[2] !\x3d\x3d v[2] || cv[3] !\x3d\x3d v[3])\n    {\n        cv[0] \x3d v[0];\n        cv[1] \x3d v[1];\n        cv[2] \x3d v[2];\n        cv[3] \x3d v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",
mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !\x3d\x3d v)\n    {\n        cu.value \x3d v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !\x3d\x3d v)\n    {\n        cu.value \x3d v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !\x3d\x3d v)\n    {\n        cu.value \x3d v;\n\n        gl.uniform1i(location, v);\n    }"},e={float:"gl.uniform1fv(location, v)",
vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",
bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};k.generateUniformsSync=function(d,a){const c=["\n        var v \x3d null;\n        var cv \x3d null;\n        var cu \x3d null;\n        var t \x3d 0;\n        var gl \x3d renderer.gl;\n    "];for(const g in d.uniforms){var b=a[g];if(!b){d.uniforms[g]?.group&&
(d.uniforms[g].ubo?c.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${g}, '${g}');
                    `):c.push(`
                        renderer.shader.syncUniformGroup(uv.${g}, syncData);
                    `));continue}const f=d.uniforms[g];let h=!1;for(let n=0;n<m.uniformParsers.length;n++)if(m.uniformParsers[n].test(b,f)){c.push(m.uniformParsers[n].code(g,f));h=!0;break}h||(b=(1!==b.size||b.isArray?e:p)[b.type].replace("location",`ud["${g}"].location`),c.push(`
            cu = ud["${g}"];
            cv = cu.value;
            v = uv["${g}"];
            ${b};`))}return new Function("ud","uv","renderer","syncData",c.join("\n"))}};
shadow$provide[96]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0),p=l(8);const e={};let d=e;k.getTestContext=function(){if(d===e||d?.isContextLost()){const a=p.settings.ADAPTER.createCanvas();let c;p.settings.PREFER_ENV>=m.ENV.WEBGL2&&(c=a.getContext("webgl2",{}));c||((c=a.getContext("webgl",{})||a.getContext("experimental-webgl",{}))?c.getExtension("WEBGL_draw_buffers"):c=null);d=c}return d}};
shadow$provide[97]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0),p=l(96);let e;k.getMaxFragmentPrecision=function(){if(!e){e=m.PRECISION.MEDIUM;const d=p.getTestContext();d&&d.getShaderPrecisionFormat&&(e=d.getShaderPrecisionFormat(d.FRAGMENT_SHADER,d.HIGH_FLOAT).precision?m.PRECISION.HIGH:m.PRECISION.MEDIUM)}return e}};
shadow$provide[98]=function(r,l,B,k){function m(p,e){const d=p.getShaderSource(e).split("\n").map((b,g)=>`${g}: ${b}`);p=p.getShaderInfoLog(e);const a={},c=[""];p.split("\n").map(b=>parseFloat(b.replace(/^ERROR: 0:([\d]+):.*$/,"$1"))).filter(b=>b&&!a[b]?a[b]=!0:!1).forEach(b=>{d[b-1]=`%c${d[b-1]}%c`;c.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});e=d.join("\n");c[0]=e;console.error(p);console.groupCollapsed("click to view full shader code");console.warn(...c);console.groupEnd()}
Object.defineProperty(k,"__esModule",{value:!0});k.logProgramError=function(p,e,d,a){p.getProgramParameter(e,p.LINK_STATUS)||(p.getShaderParameter(d,p.COMPILE_STATUS)||m(p,d),p.getShaderParameter(a,p.COMPILE_STATUS)||m(p,a),console.error("PixiJS Error: Could not initialize shader."),""!==p.getProgramInfoLog(e)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",p.getProgramInfoLog(e)))}};
shadow$provide[99]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});const m={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};k.mapSize=function(p){return m[p]}};
shadow$provide[100]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});let m=null;const p={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",
UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};k.mapType=function(e,d){if(!m){const a=Object.keys(p);m={};for(let c=0;c<a.length;++c){const b=a[c];m[e[b]]=p[b]}}return m[d]}};
shadow$provide[101]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);k.setPrecision=function(p,e,d){if("precision"!==p.substring(0,9)){let a=e;e===m.PRECISION.HIGH&&d!==m.PRECISION.HIGH&&(a=m.PRECISION.MEDIUM);return`precision ${a} float;
${p}`}return d!==m.PRECISION.HIGH&&"precision highp"===p.substring(0,15)?p.replace("precision highp","precision mediump"):p}};
shadow$provide[102]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});let m;k.unsafeEvalSupported=function(){if("boolean"===typeof m)return m;try{m=!0===(new Function("param1","param2","param3","return param1[param2] \x3d\x3d\x3d param3;"))({a:"b"},"a","b")}catch(p){m=!1}return m}};
shadow$provide[103]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(62);B=l(92);var m=l(93),p=l(95),e=l(97),d=l(96),a=l(98),c=l(99),b=l(100),g=l(101),f=l(94);l=l(102);k.checkMaxIfStatementsInShader=r.checkMaxIfStatementsInShader;k.compileShader=B.compileShader;k.defaultValue=m.defaultValue;k.generateUniformsSync=p.generateUniformsSync;k.getMaxFragmentPrecision=e.getMaxFragmentPrecision;k.getTestContext=d.getTestContext;k.logProgramError=a.logProgramError;k.mapSize=c.mapSize;
k.mapType=b.mapType;k.setPrecision=g.setPrecision;k.uniformParsers=f.uniformParsers;k.unsafeEvalSupported=l.unsafeEvalSupported};
shadow$provide[104]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0),p=l(59),e=l(90),d=l(91);l(103);var a=l(101),c=l(97);let b=0;const g={},f=class{constructor(h,n,q="pixi-shader",t={}){this.extra={};this.id=b++;this.vertexSrc=h||f.defaultVertexSrc;this.fragmentSrc=n||f.defaultFragmentSrc;this.vertexSrc=this.vertexSrc.trim();this.fragmentSrc=this.fragmentSrc.trim();this.extra=t;"#version"!==this.vertexSrc.substring(0,8)&&(q=q.replace(/\s+/g,"-"),g[q]?(g[q]++,q+=`-${g[q]}`):
g[q]=1,this.vertexSrc=`#define SHADER_NAME ${q}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${q}
${this.fragmentSrc}`,this.vertexSrc=a.setPrecision(this.vertexSrc,f.defaultVertexPrecision,m.PRECISION.HIGH),this.fragmentSrc=a.setPrecision(this.fragmentSrc,f.defaultFragmentPrecision,c.getMaxFragmentPrecision()));this.glPrograms={};this.syncUniforms=null}static get defaultVertexSrc(){return d["default"]}static get defaultFragmentSrc(){return e["default"]}static from(h,n,q){const t=h+n;let u=p.ProgramCache[t];u||(p.ProgramCache[t]=u=new f(h,n,q));return u}};r=f;r.defaultVertexPrecision=m.PRECISION.HIGH;
r.defaultFragmentPrecision=p.isMobile.apple.device?m.PRECISION.HIGH:m.PRECISION.MEDIUM;k.Program=r};
shadow$provide[105]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0),p=l(71);let e=0;class d{constructor(a,c,b){this.group=!0;this.syncUniforms={};this.dirtyId=0;this.id=e++;this.static=!!c;this.ubo=!!b;a instanceof p.Buffer?(this.buffer=a,this.buffer.type=m.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=a,this.ubo&&(this.buffer=new p.Buffer(new Float32Array(1)),this.buffer.type=m.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++;
!this.autoManage&&this.buffer&&this.buffer.update()}add(a,c,b){if(this.ubo)throw Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[a]=new d(c,b)}static from(a,c,b){return new d(a,c,b)}static uboFrom(a,c){return new d(a,c??!0,!0)}}k.UniformGroup=d};
shadow$provide[106]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(66),p=l(104),e=l(105);class d{constructor(a,c){this.uniformBindCount=0;this.program=a;this.uniformGroup=c?c instanceof e.UniformGroup?c:new e.UniformGroup(c):new e.UniformGroup({});this.disposeRunner=new m.Runner("disposeShader")}checkUniformExists(a,c){if(c.uniforms[a])return!0;for(const b in c.uniforms){const g=c.uniforms[b];if(g.group&&this.checkUniformExists(a,g))return!0}return!1}destroy(){this.uniformGroup=
null;this.disposeRunner.emit(this);this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(a,c,b){a=p.Program.from(a,c);return new d(a,b)}}k.Shader=d};
shadow$provide[107]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(89),p=l(104),e=l(106),d=l(105);class a{constructor(c,b){this.vertexSrc=c;this.fragTemplate=b;this.programCache={};this.defaultGroupCache={};if(!b.includes("%count%"))throw Error('Fragment template must contain "%count%".');if(!b.includes("%forloop%"))throw Error('Fragment template must contain "%forloop%".');}generateShader(c){if(!this.programCache[c]){var b=new Int32Array(c);for(let g=0;g<c;g++)b[g]=g;
this.defaultGroupCache[c]=d.UniformGroup.from({uSamplers:b},!0);b=this.fragTemplate;b=b.replace(/%count%/gi,`${c}`);b=b.replace(/%forloop%/gi,this.generateSampleSrc(c));this.programCache[c]=new p.Program(this.vertexSrc,b)}b={tint:new Float32Array([1,1,1,1]),translationMatrix:new m.Matrix,default:this.defaultGroupCache[c]};return new e.Shader(this.programCache[c],b)}generateSampleSrc(c){let b;b="\n\n";for(let g=0;g<c;g++)0<g&&(b+="\nelse "),g<c-1&&(b+=`if(vTextureId < ${g}.5)`),b+="\n{",b+=`
	color = texture2D(uSamplers[${g}], vTextureCoord);`,b+="\n}";return b+"\n\n"}}k.BatchShaderGenerator=a};
shadow$provide[108]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{constructor(){this.elements=[];this.ids=[];this.count=0}clear(){for(let p=0;p<this.count;p++)this.elements[p]=null;this.count=0}}k.BatchTextureArray=m};
shadow$provide[109]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(8);k.canUploadSameBuffer=function(){return!m.isMobile.apple.device}};
shadow$provide[110]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(8);k.maxRecommendedTextures=function(p){let e=!0;var d=m.settings.ADAPTER.getNavigator();if(m.isMobile.tablet||m.isMobile.phone){if(m.isMobile.apple.device){const a=d.userAgent.match(/OS (\d+)_(\d+)?/);a&&11>parseInt(a[1],10)&&(e=!1)}m.isMobile.android.device&&(d=d.userAgent.match(/Android\s([0-9.]*)/))&&7>parseInt(d[1],10)&&(e=!1)}return e?p:4}};
shadow$provide[111]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{constructor(p){this.renderer=p}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(p){}}k.ObjectRenderer=m};
shadow$provide[112]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor \x3d color * vColor;\n}\n"};
shadow$provide[113]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position \x3d vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord \x3d aTextureCoord;\n    vTextureId \x3d aTextureId;\n    vColor \x3d aColor * tint;\n}\n"};
shadow$provide[114]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(39),p=l(0);r=l(60);var e=l(8),d=l(59),a=l(61),c=l(62),b=l(63),g=l(69),f=l(70),h=l(75),n=l(107),q=l(108),t=l(109),u=l(110);B=l(111);var w=l(112),x=l(113);const y=class extends B.ObjectRenderer{constructor(z){super(z);this.setShaderGenerator();this.geometryClass=h.BatchGeometry;this.vertexSize=6;this.state=b.State.for2d();this.size=4*y.defaultBatchSize;this._indexCount=this._vertexCount=0;this._bufferedElements=
[];this._bufferedTextures=[];this._bufferSize=0;this._shader=null;this._packedGeometries=[];this._packedGeometryPoolSize=2;this._flushId=0;this._aBuffers={};this._iBuffers={};this.maxTextures=1;this.renderer.on("prerender",this.onPrerender,this);z.runners.contextChange.add(this);this._iIndex=this._aIndex=this._dcIndex=0;this._indexBuffer=this._attributeBuffer=null;this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??u.maxRecommendedTextures(32)}static set defaultMaxTextures(z){this._defaultMaxTextures=
z}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??t.canUploadSameBuffer()}static set canUploadSameBuffer(z){this._canUploadSameBuffer=z}get MAX_TEXTURES(){d.deprecation("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures");return this.maxTextures}static get defaultVertexSrc(){return x["default"]}static get defaultFragmentTemplate(){return w["default"]}setShaderGenerator({vertex:z=y.defaultVertexSrc,fragment:C=y.defaultFragmentTemplate}=
{}){this.shaderGenerator=new n.BatchShaderGenerator(z,C)}contextChange(){var z=this.renderer.gl;e.settings.PREFER_ENV===p.ENV.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(z.getParameter(z.MAX_TEXTURE_IMAGE_UNITS),y.defaultMaxTextures),this.maxTextures=c.checkMaxIfStatementsInShader(this.maxTextures,z));this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(z=0;z<this._packedGeometryPoolSize;z++)this._packedGeometries[z]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const {_drawCallPool:z,
_textureArrayPool:C}=y;var A=this.size/4;const v=Math.floor(A/this.maxTextures)+1;for(;z.length<A;)z.push(new f.BatchDrawCall);for(;C.length<v;)C.push(new q.BatchTextureArray);for(A=0;A<this.maxTextures;A++)this._tempBoundTextures[A]=null}onPrerender(){this._flushId=0}render(z){z._texture.valid&&(this._vertexCount+z.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=z.vertexData.length/2,this._indexCount+=z.indices.length,this._bufferedTextures[this._bufferSize]=z._texture.baseTexture,
this._bufferedElements[this._bufferSize++]=z)}buildTexturesAndDrawCalls(){const {_bufferedTextures:z,maxTextures:C}=this;var A=y._textureArrayPool;const v=this.renderer.batch,F=this._tempBoundTextures,I=this.renderer.textureGC.count;let H=++g.BaseTexture._globalBatch,M=0,K=A[0],E=0;v.copyBoundTextures(F,C);for(let L=0;L<this._bufferSize;++L){const D=z[L];z[L]=null;D._batchEnabled!==H&&(K.count>=C&&(v.boundArray(K,F,H,C),this.buildDrawCalls(K,E,L),E=L,K=A[++M],++H),D._batchEnabled=H,D.touched=I,K.elements[K.count++]=
D)}0<K.count&&(v.boundArray(K,F,H,C),this.buildDrawCalls(K,E,this._bufferSize),++H);for(A=0;A<F.length;A++)F[A]=null;g.BaseTexture._globalBatch=H}buildDrawCalls(z,C,A){const {_bufferedElements:v,_attributeBuffer:F,_indexBuffer:I,vertexSize:H}=this,M=y._drawCallPool;let K=this._dcIndex,E=this._aIndex,L=this._iIndex,D=M[K];D.start=this._iIndex;D.texArray=z;for(let G=C;G<A;++G){const J=v[G],N=d.premultiplyBlendMode[J._texture.baseTexture.alphaMode?1:0][J.blendMode];v[G]=null;C<G&&D.blend!==N&&(D.size=
L-D.start,C=G,D=M[++K],D.texArray=z,D.start=L);this.packInterleavedGeometry(J,F,I,E,L);E+=J.vertexData.length/2*H;L+=J.indices.length;D.blend=N}C<A&&(D.size=L-D.start,++K);this._dcIndex=K;this._aIndex=E;this._iIndex=L}bindAndClearTexArray(z){const C=this.renderer.texture;for(let A=0;A<z.count;A++)C.bind(z.elements[A],z.ids[A]),z.elements[A]=null;z.count=0}updateGeometry(){const {_packedGeometries:z,_attributeBuffer:C,_indexBuffer:A}=this;y.canUploadSameBuffer?(z[this._flushId]._buffer.update(C.rawBinaryData),
z[this._flushId]._indexBuffer.update(A),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,z[this._flushId]=new this.geometryClass),z[this._flushId]._buffer.update(C.rawBinaryData),z[this._flushId]._indexBuffer.update(A),this.renderer.geometry.bind(z[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const z=this._dcIndex,{gl:C,state:A}=this.renderer,v=y._drawCallPool;let F=null;for(let I=0;I<z;I++){const {texArray:H,
type:M,size:K,start:E,blend:L}=v[I];F!==H&&(F=H,this.bindAndClearTexArray(H));this.state.blendMode=L;A.set(this.state);C.drawElements(M,K,C.UNSIGNED_SHORT,2*E)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._dcIndex=this._iIndex=this._aIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._indexCount=this._vertexCount=this._bufferSize=0)}start(){this.renderer.state.set(this.state);
this.renderer.texture.ensureSamplerType(this.maxTextures);this.renderer.shader.bind(this._shader);y.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let z=0;z<this._packedGeometryPoolSize;z++)this._packedGeometries[z]&&this._packedGeometries[z].destroy();this.renderer.off("prerender",this.onPrerender,this);this._indexBuffer=this._attributeBuffer=this._packedGeometries=this._iBuffers=this._aBuffers=null;this._shader&&(this._shader.destroy(),
this._shader=null);super.destroy()}getAttributeBuffer(z){var C=d.nextPow2(Math.ceil(z/8));z=d.log2(C);C*=8;this._aBuffers.length<=z&&(this._iBuffers.length=z+1);(z=this._aBuffers[C])||(this._aBuffers[C]=z=new a.ViewableBuffer(C*this.vertexSize*4));return z}getIndexBuffer(z){z=d.nextPow2(Math.ceil(z/12));const C=d.log2(z);this._iBuffers.length<=C&&(this._iBuffers.length=C+1);let A=this._iBuffers[C];A||(this._iBuffers[C]=A=new Uint16Array(12*z));return A}packInterleavedGeometry(z,C,A,v,F){const {uint32View:I,
float32View:H}=C;C=v/this.vertexSize;const M=z.uvs,K=z.indices,E=z.vertexData,L=z._texture.baseTexture._batchLocation;var D=Math.min(z.worldAlpha,1);z=m.Color.shared.setValue(z._tintRGB).toPremultiplied(D,0<z._texture.baseTexture.alphaMode);for(D=0;D<E.length;D+=2)H[v++]=E[D],H[v++]=E[D+1],H[v++]=M[D],H[v++]=M[D+1],I[v++]=z,H[v++]=L;for(v=0;v<K.length;v++)A[F++]=C+K[v]}};l=y;l.defaultBatchSize=4096;l.extension={name:"batch",type:r.ExtensionType.RendererPlugin};l._drawCallPool=[];l._textureArrayPool=
[];r.extensions.add(l);k.BatchRenderer=l};
shadow$provide[115]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor \x3d texture2D(uSampler, vTextureCoord);\n}\n"};
shadow$provide[116]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position \x3d aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position \x3d filterVertexPosition();\n    vTextureCoord \x3d filterTextureCoord();\n}\n"};
shadow$provide[117]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(0);var m=l(104);B=l(106);var p=l(63),e=l(115),d=l(116);const a=class extends B.Shader{constructor(c,b,g){super(m.Program.from(c||a.defaultVertexSrc,b||a.defaultFragmentSrc),g);this.padding=0;this.resolution=a.defaultResolution;this.multisample=a.defaultMultisample;this.autoFit=this.enabled=!0;this.state=new p.State}apply(c,b,g,f,h){c.applyFilter(this,b,g,f)}get blendMode(){return this.state.blendMode}set blendMode(c){this.state.blendMode=
c}get resolution(){return this._resolution}set resolution(c){this._resolution=c}static get defaultVertexSrc(){return d["default"]}static get defaultFragmentSrc(){return e["default"]}};l=a;l.defaultResolution=1;l.defaultMultisample=r.MSAA_QUALITY.NONE;k.Filter=l};
shadow$provide[118]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(39);r=l(60);class p{constructor(){this.clearBeforeRender=!0;this._backgroundColor=new m.Color(0);this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const {backgroundColor:d,background:a,backgroundAlpha:c}=e;e=a??d;void 0!==e&&(this.color=e);this.alpha=c}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}
p.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};p.extension={type:[r.ExtensionType.RendererSystem,r.ExtensionType.CanvasRendererSystem],name:"background"};r.extensions.add(p);k.BackgroundSystem=p};
shadow$provide[119]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(60);var m=l(111);class p{constructor(e){this.renderer=e;this.currentRenderer=this.emptyRenderer=new m.ObjectRenderer(e)}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,d){const {boundTextures:a}=this.renderer.texture;
for(--d;0<=d;--d)e[d]=a[d]||null,e[d]&&(e[d]._batchLocation=d)}boundArray(e,d,a,c){const {elements:b,ids:g,count:f}=e;e=0;for(let n=0;n<f;n++){const q=b[n];var h=q._batchLocation;if(0<=h&&h<c&&d[h]===q)g[n]=h;else for(;e<c;)if((h=d[e])&&h._batchEnabled===a&&h._batchLocation===e)e++;else{g[n]=e;q._batchLocation=e;d[e]=q;break}}}destroy(){this.renderer=null}}p.extension={type:r.ExtensionType.RendererSystem,name:"batch"};r.extensions.add(p);k.BatchSystem=p};
shadow$provide[120]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);r=l(60);var p=l(8);let e=0;class d{constructor(a){this.renderer=a;this.webGLVersion=1;this.extensions={};this.supports={uint32Indices:!1};this.handleContextLost=this.handleContextLost.bind(this);this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(a){this.gl=a;this.renderer.gl=a;this.renderer.CONTEXT_UID=e++}init(a){if(a.context)this.initFromContext(a.context);
else{const c=1>this.renderer.background.alpha,b=a.premultipliedAlpha;this.preserveDrawingBuffer=a.preserveDrawingBuffer;this.useContextAlpha=a.useContextAlpha;this.powerPreference=a.powerPreference;this.initFromOptions({alpha:c,premultipliedAlpha:b,antialias:a.antialias,stencil:!0,preserveDrawingBuffer:a.preserveDrawingBuffer,powerPreference:a.powerPreference})}}initFromContext(a){this.gl=a;this.validateContext(a);this.renderer.gl=a;this.renderer.CONTEXT_UID=e++;this.renderer.runners.contextChange.emit(a);
a=this.renderer.view;void 0!==a.addEventListener&&(a.addEventListener("webglcontextlost",this.handleContextLost,!1),a.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(a){a=this.createContext(this.renderer.view,a);this.initFromContext(a)}createContext(a,c){let b;p.settings.PREFER_ENV>=m.ENV.WEBGL2&&(b=a.getContext("webgl2",c));if(b)this.webGLVersion=2;else if(this.webGLVersion=1,b=a.getContext("webgl",c)||a.getContext("experimental-webgl",c),!b)throw Error("This browser does not support WebGL. Try using the canvas renderer");
this.gl=b;this.getExtensions();return this.gl}getExtensions(){const {gl:a}=this,c={loseContext:a.getExtension("WEBGL_lose_context"),anisotropicFiltering:a.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:a.getExtension("OES_texture_float_linear"),s3tc:a.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:a.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:a.getExtension("WEBGL_compressed_texture_etc"),etc1:a.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:a.getExtension("WEBGL_compressed_texture_pvrtc")||
a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:a.getExtension("WEBGL_compressed_texture_atc"),astc:a.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,c,{drawBuffers:a.getExtension("WEBGL_draw_buffers"),depthTexture:a.getExtension("WEBGL_depth_texture"),vertexArrayObject:a.getExtension("OES_vertex_array_object")||a.getExtension("MOZ_OES_vertex_array_object")||a.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:a.getExtension("OES_element_index_uint"),
floatTexture:a.getExtension("OES_texture_float"),floatTextureLinear:a.getExtension("OES_texture_float_linear"),textureHalfFloat:a.getExtension("OES_texture_half_float"),textureHalfFloatLinear:a.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,c,{colorBufferFloat:a.getExtension("EXT_color_buffer_float")})}handleContextLost(a){a.preventDefault();setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},
0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const a=this.renderer.view;this.renderer=null;void 0!==a.removeEventListener&&(a.removeEventListener("webglcontextlost",this.handleContextLost),a.removeEventListener("webglcontextrestored",this.handleContextRestored));this.gl.useProgram(null);this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(a){const c=
a.getContextAttributes(),b="WebGL2RenderingContext"in globalThis&&a instanceof globalThis.WebGL2RenderingContext;b&&(this.webGLVersion=2);c&&!c.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");a=b||!!a.getExtension("OES_element_index_uint");(this.supports.uint32Indices=a)||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}d.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,
preserveDrawingBuffer:!1,powerPreference:"default"};d.extension={type:r.ExtensionType.RendererSystem,name:"context"};r.extensions.add(d);k.ContextSystem=d};
shadow$provide[121]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);r=l(68);class p extends r.BufferResource{upload(e,d,a){e=e.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d.alphaMode===m.ALPHA_MODES.UNPACK);const c=d.realWidth,b=d.realHeight;a.width===c&&a.height===b?e.texSubImage2D(d.target,0,0,0,c,b,d.format,a.type,this.data):(a.width=c,a.height=b,e.texImage2D(d.target,0,a.internalFormat,c,b,0,d.format,a.type,this.data));return!0}}k.DepthResource=p};
shadow$provide[122]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0),p=l(66),e=l(69),d=l(121);class a{constructor(c,b){this.width=Math.round(c||100);this.height=Math.round(b||100);this.depth=this.stencil=!1;this.dirtySize=this.dirtyFormat=this.dirtyId=0;this.depthTexture=null;this.colorTextures=[];this.glFramebuffers={};this.disposeRunner=new p.Runner("disposeFramebuffer");this.multisample=m.MSAA_QUALITY.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(c=
0,b){this.colorTextures[c]=b||new e.BaseTexture(null,{scaleMode:m.SCALE_MODES.NEAREST,resolution:1,mipmap:m.MIPMAP_MODES.OFF,width:this.width,height:this.height});this.dirtyId++;this.dirtyFormat++;return this}addDepthTexture(c){this.depthTexture=c||new e.BaseTexture(new d.DepthResource(null,{width:this.width,height:this.height}),{scaleMode:m.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:m.MIPMAP_MODES.OFF,format:m.FORMATS.DEPTH_COMPONENT,type:m.TYPES.UNSIGNED_SHORT});
this.dirtyId++;this.dirtyFormat++;return this}enableDepth(){this.depth=!0;this.dirtyId++;this.dirtyFormat++;return this}enableStencil(){this.stencil=!0;this.dirtyId++;this.dirtyFormat++;return this}resize(c,b){c=Math.round(c);b=Math.round(b);if(c!==this.width||b!==this.height){this.width=c;this.height=b;this.dirtyId++;this.dirtySize++;for(var g=0;g<this.colorTextures.length;g++){const f=this.colorTextures[g],h=f.resolution;f.setSize(c/h,b/h)}this.depthTexture&&(g=this.depthTexture.resolution,this.depthTexture.setSize(c/
g,b/g))}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}k.Framebuffer=a};
shadow$provide[123]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(39),p=l(0),e=l(122);r=l(69);class d extends r.BaseTexture{constructor(a={},c,b,g){"number"===typeof a&&(a={width:arguments[0],height:c,scaleMode:b,resolution:g});a.width=a.width||100;a.height=a.height||100;a.multisample??(a.multisample=p.MSAA_QUALITY.NONE);super(null,a);this.mipmap=p.MIPMAP_MODES.OFF;this.valid=!0;this._clear=new m.Color([0,0,0,0]);this.framebuffer=(new e.Framebuffer(this.realWidth,this.realHeight)).addColorTexture(0,
this);this.framebuffer.multisample=a.multisample;this.maskStack=[];this.filterStack=[{}]}set clearColor(a){this._clear.setValue(a)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(a,c){this.framebuffer.resize(a*this.resolution,c*this.resolution);this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose();super.dispose()}destroy(){super.destroy();this.framebuffer.destroyDepthTexture();this.framebuffer=null}}k.BaseRenderTexture=
d};
shadow$provide[124]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0),p=l(59);r=l(67);class e extends r.Resource{constructor(d){super(d.naturalWidth||d.videoWidth||d.width,d.naturalHeight||d.videoHeight||d.height);this.source=d;this.noSubImage=!1}static crossOrigin(d,a,c){void 0!==c||a.startsWith("data:")?!1!==c&&(d.crossOrigin="string"===typeof c?c:"anonymous"):d.crossOrigin=p.determineCrossOrigin(a)}upload(d,a,c,b){d=d.gl;const g=a.realWidth,f=a.realHeight;b=b||this.source;
if("undefined"!==typeof HTMLImageElement&&b instanceof HTMLImageElement){if(!b.complete||0===b.naturalWidth)return!1}else if("undefined"!==typeof HTMLVideoElement&&b instanceof HTMLVideoElement&&1>=b.readyState&&0===b.buffered.length)return!1;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.alphaMode===m.ALPHA_MODES.UNPACK);this.noSubImage||a.target!==d.TEXTURE_2D||c.width!==g||c.height!==f?(c.width=g,c.height=f,d.texImage2D(a.target,0,c.internalFormat,a.format,c.type,b)):d.texSubImage2D(d.TEXTURE_2D,
0,0,0,a.format,c.type,b);return!0}update(){if(!this.destroyed){var d=this.source;this.resize(d.naturalWidth||d.videoWidth||d.width,d.naturalHeight||d.videoHeight||d.height);super.update()}}dispose(){this.source=null}}k.BaseImageResource=e};
shadow$provide[125]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0),p=l(8),e=l(124);class d extends e.BaseImageResource{constructor(a,c){c=c||{};if("string"===typeof a){const b=new Image;e.BaseImageResource.crossOrigin(b,a,c.crossorigin);b.src=a;a=b}super(a);!a.complete&&this._width&&this._height&&(this._height=this._width=0);this.url=a.src;this._process=null;this.preserveBitmap=!1;this.createBitmap=(c.createBitmap??p.settings.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap;
this.alphaMode="number"===typeof c.alphaMode?c.alphaMode:null;this._load=this.bitmap=null;!1!==c.autoLoad&&this.load()}load(a){if(this._load)return this._load;void 0!==a&&(this.createBitmap=a);return this._load=new Promise((c,b)=>{const g=this.source;this.url=g.src;const f=()=>{this.destroyed||(g.onload=null,g.onerror=null,this.resize(g.width,g.height),this._load=null,this.createBitmap?c(this.process()):c(this))};g.complete&&g.src?f():(g.onload=f,g.onerror=h=>{b(h);this.onError.emit(h)})})}process(){const a=
this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);const c=globalThis.createImageBitmap;return this._process=fetch(a.src,{mode:a.crossOrigin&&"anonymous"!==a.crossOrigin?"no-cors":"cors"}).then(b=>b.blob()).then(b=>c(b,0,0,a.width,a.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===m.ALPHA_MODES.UNPACK?"premultiply":"none"})).then(b=>{if(this.destroyed)return Promise.reject();this.bitmap=b;this.update();
this._process=null;return Promise.resolve(this)})}upload(a,c,b){"number"===typeof this.alphaMode&&(c.alphaMode=this.alphaMode);if(!this.createBitmap)return super.upload(a,c,b);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;super.upload(a,c,b,this.bitmap);if(!this.preserveBitmap){a=!0;const g=c._glTextures;for(const f in g){const h=g[f];if(h!==b&&h.dirtyId!==c.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null;this.source.onerror=
null;super.dispose();this.bitmap&&(this.bitmap.close(),this.bitmap=null);this._load=this._process=null}static test(a){return"undefined"!==typeof HTMLImageElement&&("string"===typeof a||a instanceof HTMLImageElement)}}k.ImageResource=d};
shadow$provide[126]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(89);class p{constructor(){this.y0=this.x0=0;this.x1=1;this.y1=0;this.y2=this.x2=1;this.x3=0;this.y3=1;this.uvsFloat32=new Float32Array(8)}set(e,d,a){var c=d.width;const b=d.height;if(a){d=e.width/2/c;const g=e.height/2/b;c=e.x/c+d;e=e.y/b+g;a=m.groupD8.add(a,m.groupD8.NW);this.x0=c+d*m.groupD8.uX(a);this.y0=e+g*m.groupD8.uY(a);a=m.groupD8.add(a,2);this.x1=c+d*m.groupD8.uX(a);this.y1=e+g*m.groupD8.uY(a);
a=m.groupD8.add(a,2);this.x2=c+d*m.groupD8.uX(a);this.y2=e+g*m.groupD8.uY(a);a=m.groupD8.add(a,2);this.x3=c+d*m.groupD8.uX(a);this.y3=e+g*m.groupD8.uY(a)}else this.x0=e.x/c,this.y0=e.y/b,this.x1=(e.x+e.width)/c,this.y1=e.y/b,this.x2=(e.x+e.width)/c,this.y2=(e.y+e.height)/b,this.x3=e.x/c,this.y3=(e.y+e.height)/b;this.uvsFloat32[0]=this.x0;this.uvsFloat32[1]=this.y0;this.uvsFloat32[2]=this.x1;this.uvsFloat32[3]=this.y1;this.uvsFloat32[4]=this.x2;this.uvsFloat32[5]=this.y2;this.uvsFloat32[6]=this.x3;
this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}k.TextureUvs=p};
shadow$provide[127]=function(r,l,B,k){function m(h){h.destroy=function(){};h.on=function(){};h.once=function(){};h.emit=function(){}}Object.defineProperty(k,"__esModule",{value:!0});var p=l(89),e=l(8),d=l(59),a=l(69),c=l(125),b=l(126);const g=new b.TextureUvs;class f extends d.EventEmitter{constructor(h,n,q,t,u,w,x){super();this.noFrame=!1;n||(this.noFrame=!0,n=new p.Rectangle(0,0,1,1));h instanceof f&&(h=h.baseTexture);this.baseTexture=h;this._frame=n;this.trim=t;this.valid=!1;this._uvs=g;this.uvMatrix=
null;this.orig=q||n;this._rotate=Number(u||0);if(!0===u)this._rotate=2;else if(0!==this._rotate%2)throw Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=w?new p.Point(w.x,w.y):new p.Point(0,0);this.defaultBorders=x;this._updateID=0;this.textureCacheIds=[];if(h.valid)if(this.noFrame){if(h.valid)this.onBaseTextureUpdated(h)}else this.frame=n;else h.once("loaded",this.onBaseTextureUpdated,this);if(this.noFrame)h.on("update",this.onBaseTextureUpdated,
this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(h){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=h.width;this._frame.height=h.height;this.valid=!0;this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(h){this.baseTexture&&(h&&({resource:h}=this.baseTexture,h?.url&&d.TextureCache[h.url]&&f.removeFromCache(h.url),this.baseTexture.destroy()),this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",
this.onBaseTextureUpdated,this),this.baseTexture=null);this.orig=this.trim=this._uvs=this._frame=null;this.valid=!1;f.removeFromCache(this);this.textureCacheIds=null}clone(){const h=this._frame.clone();var n=this._frame===this.orig?h:this.orig.clone();n=new f(this.baseTexture,!this.noFrame&&h,n,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);this.noFrame&&(n._frame=h);return n}updateUvs(){this._uvs===g&&(this._uvs=new b.TextureUvs);this._uvs.set(this._frame,this.baseTexture,
this.rotate);this._updateID++}static from(h,n={},q=e.settings.STRICT_TEXTURE_CACHE){const t="string"===typeof h;let u;t?u=h:h instanceof a.BaseTexture?(h.cacheId||(h.cacheId=`${n?.pixiIdPrefix||"pixiid"}-${d.uid()}`,a.BaseTexture.addToCache(h,h.cacheId)),u=h.cacheId):(h._pixiId||(h._pixiId=`${n?.pixiIdPrefix||"pixiid"}_${d.uid()}`),u=h._pixiId);let w=d.TextureCache[u];if(t&&q&&!w)throw Error(`The cacheId "${u}" does not exist in TextureCache.`);w||h instanceof a.BaseTexture?!w&&h instanceof a.BaseTexture&&
(w=new f(h),f.addToCache(w,u)):(n.resolution||(n.resolution=d.getResolutionOfUrl(h)),w=new f(new a.BaseTexture(h,n)),w.baseTexture.cacheId=u,a.BaseTexture.addToCache(w.baseTexture,u),f.addToCache(w,u));return w}static fromURL(h,n){const q=Object.assign({autoLoad:!1},n?.resourceOptions),t=f.from(h,Object.assign({resourceOptions:q},n),!1);h=t.baseTexture.resource;return t.baseTexture.valid?Promise.resolve(t):h.load().then(()=>Promise.resolve(t))}static fromBuffer(h,n,q,t){return new f(a.BaseTexture.fromBuffer(h,
n,q,t))}static fromLoader(h,n,q,t){h=new a.BaseTexture(h,Object.assign({scaleMode:a.BaseTexture.defaultOptions.scaleMode,resolution:d.getResolutionOfUrl(n)},t));({resource:t}=h);t instanceof c.ImageResource&&(t.url=n);const u=new f(h);q||(q=n);a.BaseTexture.addToCache(u.baseTexture,q);f.addToCache(u,q);q!==n&&(a.BaseTexture.addToCache(u.baseTexture,n),f.addToCache(u,n));return u.baseTexture.valid?Promise.resolve(u):new Promise(w=>{u.baseTexture.once("loaded",()=>w(u))})}static addToCache(h,n){n&&
(h.textureCacheIds.includes(n)||h.textureCacheIds.push(n),d.TextureCache[n]&&d.TextureCache[n]!==h&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),d.TextureCache[n]=h)}static removeFromCache(h){if("string"===typeof h){var n=d.TextureCache[h];if(n){const q=n.textureCacheIds.indexOf(h);-1<q&&n.textureCacheIds.splice(q,1);delete d.TextureCache[h];return n}}else if(h?.textureCacheIds){for(n=0;n<h.textureCacheIds.length;++n)d.TextureCache[h.textureCacheIds[n]]===
h&&delete d.TextureCache[h.textureCacheIds[n]];h.textureCacheIds.length=0;return h}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(h){this._frame=h;this.noFrame=!1;const {x:n,y:q,width:t,height:u}=h,w=n+t>this.baseTexture.width,x=q+u>this.baseTexture.height;if(w||x)throw Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${`X: ${n} + ${t} = ${n+t} > ${this.baseTexture.width}`} ${w&&x?"and":"or"} ${`Y: ${q} + ${u} = ${q+
u} > ${this.baseTexture.height}`}`);this.valid=t&&u&&this.baseTexture.valid;this.trim||this.rotate||(this.orig=h);this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(h){this._rotate=h;this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){f._EMPTY||(f._EMPTY=new f(new a.BaseTexture),m(f._EMPTY),m(f._EMPTY.baseTexture));return f._EMPTY}static get WHITE(){if(!f._WHITE){const h=
e.settings.ADAPTER.createCanvas(16,16),n=h.getContext("2d");h.width=16;h.height=16;n.fillStyle="white";n.fillRect(0,0,16,16);f._WHITE=new f(a.BaseTexture.from(h));m(f._WHITE);m(f._WHITE.baseTexture)}return f._WHITE}}k.Texture=f};
shadow$provide[128]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(127);var m=l(123);class p extends r.Texture{constructor(e,d){super(e,d);this.valid=!0;this.filterPoolKey=this.filterFrame=null;this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,d,a=!0){const c=this.baseTexture.resolution;e=Math.round(e*c)/c;d=Math.round(d*c)/c;this.valid=0<e&&
0<d;this._frame.width=this.orig.width=e;this._frame.height=this.orig.height=d;a&&this.baseTexture.resize(e,d);this.updateUvs()}setResolution(e){const {baseTexture:d}=this;d.resolution!==e&&(d.setResolution(e),this.resize(d.width,d.height,!1))}static create(e){return new p(new m.BaseRenderTexture(e))}}k.RenderTexture=p};
shadow$provide[129]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0),p=l(59),e=l(123),d=l(128);class a{constructor(c){this.texturePool={};this.textureOptions=c||{};this.enableFullScreen=!1;this._pixelsHeight=this._pixelsWidth=0}createTexture(c,b,g=m.MSAA_QUALITY.NONE){c=new e.BaseRenderTexture(Object.assign({width:c,height:b,resolution:1,multisample:g},this.textureOptions));return new d.RenderTexture(c)}getOptimalTexture(c,b,g=1,f=m.MSAA_QUALITY.NONE){let h;c=Math.ceil(c*
g-1E-6);b=Math.ceil(b*g-1E-6);this.enableFullScreen&&c===this._pixelsWidth&&b===this._pixelsHeight?h=1<f?-f:-1:(c=p.nextPow2(c),b=p.nextPow2(b),h=((c&65535)<<16|b&65535)>>>0,1<f&&(h+=4294967296*f));this.texturePool[h]||(this.texturePool[h]=[]);let n=this.texturePool[h].pop();n||(n=this.createTexture(c,b,f));n.filterPoolKey=h;n.setResolution(g);return n}getFilterTexture(c,b,g){b=this.getOptimalTexture(c.width,c.height,b||c.resolution,g||m.MSAA_QUALITY.NONE);b.filterFrame=c.filterFrame;return b}returnTexture(c){const b=
c.filterPoolKey;c.filterFrame=null;this.texturePool[b].push(c)}returnFilterTexture(c){this.returnTexture(c)}clear(c){if(!1!==c)for(const b in this.texturePool)if(c=this.texturePool[b])for(let g=0;g<c.length;g++)c[g].destroy(!0);this.texturePool={}}setScreenSize(c){if(c.width!==this._pixelsWidth||c.height!==this._pixelsHeight){this.enableFullScreen=0<c.width&&0<c.height;for(const b in this.texturePool){if(!(0>Number(b)))continue;const g=this.texturePool[b];if(g)for(let f=0;f<g.length;f++)g[f].destroy(!0);
this.texturePool[b]=[]}this._pixelsWidth=c.width;this._pixelsHeight=c.height}}}a.SCREEN_KEY=-1;k.RenderTexturePool=a};
shadow$provide[130]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(74);class m extends r.Geometry{constructor(){super();this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}k.Quad=m};
shadow$provide[131]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(71);r=l(74);class p extends r.Geometry{constructor(){super();this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.vertexBuffer=new m.Buffer(this.vertices);this.uvBuffer=new m.Buffer(this.uvs);this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,d){let a=0,c=0;this.uvs[0]=a;this.uvs[1]=
c;this.uvs[2]=a+d.width/e.width;this.uvs[3]=c;this.uvs[4]=a+d.width/e.width;this.uvs[5]=c+d.height/e.height;this.uvs[6]=a;this.uvs[7]=c+d.height/e.height;a=d.x;c=d.y;this.vertices[0]=a;this.vertices[1]=c;this.vertices[2]=a+d.width;this.vertices[3]=c;this.vertices[4]=a+d.width;this.vertices[5]=c+d.height;this.vertices[6]=a;this.vertices[7]=c+d.height;this.invalidate();return this}invalidate(){this.vertexBuffer._updateID++;this.uvBuffer._updateID++;return this}}k.QuadUv=p};
shadow$provide[132]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0),p=l(89);class e{constructor(){this.target=this.renderTexture=null;this.legacy=!1;this.resolution=1;this.multisample=m.MSAA_QUALITY.NONE;this.sourceFrame=new p.Rectangle;this.destinationFrame=new p.Rectangle;this.bindingSourceFrame=new p.Rectangle;this.bindingDestinationFrame=new p.Rectangle;this.filters=[];this.transform=null}clear(){this.renderTexture=this.filters=this.target=null}}k.FilterState=e};
shadow$provide[133]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);r=l(60);var p=l(89),e=l(129),d=l(105),a=l(130),c=l(131),b=l(132);const g=[new p.Point,new p.Point,new p.Point,new p.Point],f=new p.Matrix;class h{constructor(n){this.renderer=n;this.defaultFilterStack=[{}];this.texturePool=new e.RenderTexturePool;this.statePool=[];this.quad=new a.Quad;this.quadUv=new c.QuadUv;this.tempRect=new p.Rectangle;this.activeState={};this.globalUniforms=new d.UniformGroup({outputFrame:new p.Rectangle,
inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0);this.useMaxPadding=this.forceClear=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(n,q){const t=this.renderer,u=this.defaultFilterStack,w=this.statePool.pop()||new b.FilterState,x=this.renderer.renderTexture;let y=q[0].resolution,z=q[0].multisample,C=q[0].padding,A=q[0].autoFit,v=q[0].legacy??!0;for(let F=1;F<
q.length;F++){const I=q[F];y=Math.min(y,I.resolution);z=Math.min(z,I.multisample);C=this.useMaxPadding?Math.max(C,I.padding):C+I.padding;A=A&&I.autoFit;v=v||(I.legacy??!0)}1===u.length&&(this.defaultFilterStack[0].renderTexture=x.current);u.push(w);w.resolution=y;w.multisample=z;w.legacy=v;w.target=n;w.sourceFrame.copyFrom(n.filterArea||n.getBounds(!0));w.sourceFrame.pad(C);n=this.tempRect.copyFrom(x.sourceFrame);t.projection.transform&&this.transformAABB(f.copyFrom(t.projection.transform).invert(),
n);if(A){if(w.sourceFrame.fit(n),0>=w.sourceFrame.width||0>=w.sourceFrame.height)w.sourceFrame.width=0,w.sourceFrame.height=0}else w.sourceFrame.intersects(n)||(w.sourceFrame.width=0,w.sourceFrame.height=0);this.roundFrame(w.sourceFrame,x.current?x.current.resolution:t.resolution,x.sourceFrame,x.destinationFrame,t.projection.transform);w.renderTexture=this.getOptimalFilterTexture(w.sourceFrame.width,w.sourceFrame.height,y,z);w.filters=q;w.destinationFrame.width=w.renderTexture.width;w.destinationFrame.height=
w.renderTexture.height;q=this.tempRect;q.x=0;q.y=0;q.width=w.sourceFrame.width;q.height=w.sourceFrame.height;w.renderTexture.filterFrame=w.sourceFrame;w.bindingSourceFrame.copyFrom(x.sourceFrame);w.bindingDestinationFrame.copyFrom(x.destinationFrame);w.transform=t.projection.transform;t.projection.transform=null;x.bind(w.renderTexture,w.sourceFrame,q);t.framebuffer.clear(0,0,0,0)}pop(){var n=this.defaultFilterStack;const q=n.pop(),t=q.filters;this.activeState=q;var u=this.globalUniforms.uniforms;
u.outputFrame=q.sourceFrame;u.resolution=q.resolution;var w=u.inputSize,x=u.inputPixel,y=u.inputClamp;w[0]=q.destinationFrame.width;w[1]=q.destinationFrame.height;w[2]=1/w[0];w[3]=1/w[1];x[0]=Math.round(w[0]*q.resolution);x[1]=Math.round(w[1]*q.resolution);x[2]=1/x[0];x[3]=1/x[1];y[0]=.5*x[2];y[1]=.5*x[3];y[2]=q.sourceFrame.width*w[2]-.5*x[2];y[3]=q.sourceFrame.height*w[3]-.5*x[3];q.legacy&&(w=u.filterArea,w[0]=q.destinationFrame.width,w[1]=q.destinationFrame.height,w[2]=q.sourceFrame.x,w[3]=q.sourceFrame.y,
u.filterClamp=u.inputClamp);this.globalUniforms.update();n=n[n.length-1];this.renderer.framebuffer.blit();if(1===t.length)t[0].apply(this,q.renderTexture,n.renderTexture,m.CLEAR_MODES.BLEND,q),this.returnFilterTexture(q.renderTexture);else{u=q.renderTexture;w=this.getOptimalFilterTexture(u.width,u.height,q.resolution);w.filterFrame=u.filterFrame;for(x=0;x<t.length-1;++x)1===x&&1<q.multisample&&(w=this.getOptimalFilterTexture(u.width,u.height,q.resolution),w.filterFrame=u.filterFrame),t[x].apply(this,
u,w,m.CLEAR_MODES.CLEAR,q),y=u,u=w,w=y;t[x].apply(this,u,n.renderTexture,m.CLEAR_MODES.BLEND,q);1<x&&1<q.multisample&&this.returnFilterTexture(q.renderTexture);this.returnFilterTexture(u);this.returnFilterTexture(w)}q.clear();this.statePool.push(q)}bindAndClear(n,q=m.CLEAR_MODES.CLEAR){const {renderTexture:t,state:u}=this.renderer;this.renderer.projection.transform=n===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null;if(n?.filterFrame){const w=
this.tempRect;w.x=0;w.y=0;w.width=n.filterFrame.width;w.height=n.filterFrame.height;t.bind(n,n.filterFrame,w)}else n!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?t.bind(n):this.renderer.renderTexture.bind(n,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);n=u.stateId&1||this.forceClear;(q===m.CLEAR_MODES.CLEAR||q===m.CLEAR_MODES.BLIT&&n)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(n,q,t,u){const w=this.renderer;w.state.set(n.state);
this.bindAndClear(t,u);n.uniforms.uSampler=q;n.uniforms.filterGlobals=this.globalUniforms;w.shader.bind(n);n.legacy=!!n.program.attributeData.aTextureCoord;n.legacy?(this.quadUv.map(q._frame,q.filterFrame),w.geometry.bind(this.quadUv),w.geometry.draw(m.DRAW_MODES.TRIANGLES)):(w.geometry.bind(this.quad),w.geometry.draw(m.DRAW_MODES.TRIANGLE_STRIP))}calculateSpriteMatrix(n,q){const {sourceFrame:t,destinationFrame:u}=this.activeState,{orig:w}=q._texture;n=n.set(u.width,0,0,u.height,t.x,t.y);const x=
q.worldTransform.copyTo(p.Matrix.TEMP_MATRIX);x.invert();n.prepend(x);n.scale(1/w.width,1/w.height);n.translate(q.anchor.x,q.anchor.y);return n}destroy(){this.renderer=null;this.texturePool.clear(!1)}getOptimalFilterTexture(n,q,t=1,u=m.MSAA_QUALITY.NONE){return this.texturePool.getOptimalTexture(n,q,t,u)}getFilterTexture(n,q,t){if("number"===typeof n){const u=n;n=q;q=u}n=n||this.activeState.renderTexture;q=this.texturePool.getOptimalTexture(n.width,n.height,q||n.resolution,t||m.MSAA_QUALITY.NONE);
q.filterFrame=n.filterFrame;return q}returnFilterTexture(n){this.texturePool.returnTexture(n)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(n,q){var t=g[0];const u=g[1],w=g[2],x=g[3];t.set(q.left,q.top);u.set(q.left,q.bottom);w.set(q.right,q.top);x.set(q.right,q.bottom);n.apply(t,t);n.apply(u,u);n.apply(w,w);n.apply(x,x);n=Math.min(t.x,u.x,w.x,x.x);const y=Math.min(t.y,u.y,w.y,x.y),z=Math.max(t.x,u.x,w.x,x.x);t=Math.max(t.y,u.y,w.y,
x.y);q.x=n;q.y=y;q.width=z-n;q.height=t-y}roundFrame(n,q,t,u,w){if(!(0>=n.width||0>=n.height||0>=t.width||0>=t.height)){if(w){const {a:x,b:y,c:z,d:C}=w;if((1E-4<Math.abs(y)||1E-4<Math.abs(z))&&(1E-4<Math.abs(x)||1E-4<Math.abs(C)))return}w=w?f.copyFrom(w):f.identity();w.translate(-t.x,-t.y).scale(u.width/t.width,u.height/t.height).translate(u.x,u.y);this.transformAABB(w,n);n.ceil(q);this.transformAABB(w.invert(),n)}}}h.extension={type:r.ExtensionType.RendererSystem,name:"filter"};r.extensions.add(h);
k.FilterSystem=h};
shadow$provide[134]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);class p{constructor(e){this.framebuffer=e;this.stencil=null;this.dirtySize=this.dirtyFormat=this.dirtyId=-1;this.multisample=m.MSAA_QUALITY.NONE;this.blitFramebuffer=this.msaaBuffer=null;this.mipLevel=0}}k.GLFramebuffer=p};
shadow$provide[135]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);r=l(60);var p=l(89),e=l(8),d=l(122),a=l(134);const c=new p.Rectangle;class b{constructor(g){this.renderer=g;this.managedFramebuffers=[];this.unknownFramebuffer=new d.Framebuffer(10,10);this.msaaSamples=null}contextChange(){this.disposeAll(!0);const g=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.current=this.unknownFramebuffer;this.viewport=new p.Rectangle;this.writeDepthTexture=
this.hasMRT=!0;if(1===this.renderer.context.webGLVersion){let f=this.renderer.context.extensions.drawBuffers,h=this.renderer.context.extensions.depthTexture;e.settings.PREFER_ENV===m.ENV.WEBGL_LEGACY&&(h=f=null);f?g.drawBuffers=n=>f.drawBuffersWEBGL(n):(this.hasMRT=!1,g.drawBuffers=()=>{});h||(this.writeDepthTexture=!1)}else this.msaaSamples=g.getInternalformatParameter(g.RENDERBUFFER,g.RGBA8,g.SAMPLES)}bind(g,f,h=0){var {gl:n}=this;if(g){var q=g.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(g);
this.current!==g&&(this.current=g,n.bindFramebuffer(n.FRAMEBUFFER,q.framebuffer));q.mipLevel!==h&&(g.dirtyId++,g.dirtyFormat++,q.mipLevel=h);q.dirtyId!==g.dirtyId&&(q.dirtyId=g.dirtyId,q.dirtyFormat!==g.dirtyFormat?(q.dirtyFormat=g.dirtyFormat,q.dirtySize=g.dirtySize,this.updateFramebuffer(g,h)):q.dirtySize!==g.dirtySize&&(q.dirtySize=g.dirtySize,this.resizeFramebuffer(g)));for(n=0;n<g.colorTextures.length;n++)q=g.colorTextures[n],this.renderer.texture.unbind(q.parentTextureArray||q);g.depthTexture&&
this.renderer.texture.unbind(g.depthTexture);f?(g=f.width>>h,n=g/f.width,this.setViewport(f.x*n,f.y*n,g,f.height>>h)):this.setViewport(0,0,g.width>>h,g.height>>h)}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),f?this.setViewport(f.x,f.y,f.width,f.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(g,f,h,n){const q=this.viewport;g=Math.round(g);f=Math.round(f);h=Math.round(h);n=Math.round(n);if(q.width!==h||q.height!==n||q.x!==g||q.y!==f)q.x=
g,q.y=f,q.width=h,q.height=n,this.gl.viewport(g,f,h,n)}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(g,f,h,n,q=m.BUFFER_BITS.COLOR|m.BUFFER_BITS.DEPTH){const {gl:t}=this;t.clearColor(g,f,h,n);t.clear(q)}initFramebuffer(g){var {gl:f}=this;f=new a.GLFramebuffer(f.createFramebuffer());f.multisample=this.detectSamples(g.multisample);g.glFramebuffers[this.CONTEXT_UID]=f;this.managedFramebuffers.push(g);
g.disposeRunner.add(this);return f}resizeFramebuffer(g){const {gl:f}=this,h=g.glFramebuffers[this.CONTEXT_UID];h.stencil&&(f.bindRenderbuffer(f.RENDERBUFFER,h.stencil),h.msaaBuffer?f.renderbufferStorageMultisample(f.RENDERBUFFER,h.multisample,f.DEPTH24_STENCIL8,g.width,g.height):f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_STENCIL,g.width,g.height));const n=g.colorTextures;let q=n.length;f.drawBuffers||(q=Math.min(q,1));for(let u=0;u<q;u++){var t=n[u];t=t.parentTextureArray||t;this.renderer.texture.bind(t,
0);0===u&&h.msaaBuffer&&(f.bindRenderbuffer(f.RENDERBUFFER,h.msaaBuffer),f.renderbufferStorageMultisample(f.RENDERBUFFER,h.multisample,t._glTextures[this.CONTEXT_UID].internalFormat,g.width,g.height))}g.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(g.depthTexture,0)}updateFramebuffer(g,f){const {gl:h}=this,n=g.glFramebuffers[this.CONTEXT_UID];var q=g.colorTextures;let t=q.length;h.drawBuffers||(t=Math.min(t,1));1<n.multisample&&this.canMultisampleFramebuffer(g)?n.msaaBuffer=n.msaaBuffer||
h.createRenderbuffer():n.msaaBuffer&&(h.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));const u=[];for(let w=0;w<t;w++){const x=q[w],y=x.parentTextureArray||x;this.renderer.texture.bind(y,0);0===w&&n.msaaBuffer?(h.bindRenderbuffer(h.RENDERBUFFER,n.msaaBuffer),h.renderbufferStorageMultisample(h.RENDERBUFFER,n.multisample,y._glTextures[this.CONTEXT_UID].internalFormat,g.width,g.height),h.framebufferRenderbuffer(h.FRAMEBUFFER,
h.COLOR_ATTACHMENT0,h.RENDERBUFFER,n.msaaBuffer)):(h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0+w,x.target,y._glTextures[this.CONTEXT_UID].texture,f),u.push(h.COLOR_ATTACHMENT0+w))}1<u.length&&h.drawBuffers(u);g.depthTexture&&this.writeDepthTexture&&(q=g.depthTexture,this.renderer.texture.bind(q,0),h.framebufferTexture2D(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.TEXTURE_2D,q._glTextures[this.CONTEXT_UID].texture,f));!g.stencil&&!g.depth||g.depthTexture&&this.writeDepthTexture?n.stencil&&(h.deleteRenderbuffer(n.stencil),
n.stencil=null):(n.stencil=n.stencil||h.createRenderbuffer(),h.bindRenderbuffer(h.RENDERBUFFER,n.stencil),n.msaaBuffer?h.renderbufferStorageMultisample(h.RENDERBUFFER,n.multisample,h.DEPTH24_STENCIL8,g.width,g.height):h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_STENCIL,g.width,g.height),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,n.stencil))}canMultisampleFramebuffer(g){return 1!==this.renderer.context.webGLVersion&&1>=g.colorTextures.length&&!g.depthTexture}detectSamples(g){const {msaaSamples:f}=
this;let h=m.MSAA_QUALITY.NONE;if(1>=g||null===f)return h;for(let n=0;n<f.length;n++)if(f[n]<=g){h=f[n];break}1===h&&(h=m.MSAA_QUALITY.NONE);return h}blit(g,f,h){const {current:n,renderer:q,gl:t,CONTEXT_UID:u}=this;if(2===q.context.webGLVersion&&n){var w=n.glFramebuffers[u];if(w){if(!g){if(!w.msaaBuffer)return;var x=n.colorTextures[0];if(!x)return;w.blitFramebuffer||(w.blitFramebuffer=new d.Framebuffer(n.width,n.height),w.blitFramebuffer.addColorTexture(0,x));g=w.blitFramebuffer;g.colorTextures[0]!==
x&&(g.colorTextures[0]=x,g.dirtyId++,g.dirtyFormat++);if(g.width!==n.width||g.height!==n.height)g.width=n.width,g.height=n.height,g.dirtyId++,g.dirtySize++}f||(f=c,f.width=n.width,f.height=n.height);h||(h=f);x=f.width===h.width&&f.height===h.height;this.bind(g);t.bindFramebuffer(t.READ_FRAMEBUFFER,w.framebuffer);t.blitFramebuffer(f.left,f.top,f.right,f.bottom,h.left,h.top,h.right,h.bottom,t.COLOR_BUFFER_BIT,x?t.NEAREST:t.LINEAR);t.bindFramebuffer(t.READ_FRAMEBUFFER,g.glFramebuffers[this.CONTEXT_UID].framebuffer)}}}disposeFramebuffer(g,
f){const h=g.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(h){delete g.glFramebuffers[this.CONTEXT_UID];var q=this.managedFramebuffers.indexOf(g);0<=q&&this.managedFramebuffers.splice(q,1);g.disposeRunner.remove(this);f||(n.deleteFramebuffer(h.framebuffer),h.msaaBuffer&&n.deleteRenderbuffer(h.msaaBuffer),h.stencil&&n.deleteRenderbuffer(h.stencil));h.blitFramebuffer&&this.disposeFramebuffer(h.blitFramebuffer,f)}}disposeAll(g){const f=this.managedFramebuffers;this.managedFramebuffers=[];for(let h=0;h<
f.length;h++)this.disposeFramebuffer(f[h],g)}forceStencil(){var g=this.current;if(g){var f=g.glFramebuffers[this.CONTEXT_UID];if(f&&!f.stencil){g.stencil=!0;var h=g.width;g=g.height;var n=this.gl,q=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,q);f.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,f.multisample,n.DEPTH24_STENCIL8,h,g):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,h,g);f.stencil=q;n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,
q)}}}reset(){this.current=this.unknownFramebuffer;this.viewport=new p.Rectangle}destroy(){this.renderer=null}}b.extension={type:r.ExtensionType.RendererSystem,name:"framebuffer"};r.extensions.add(b);k.FramebufferSystem=b};
shadow$provide[136]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);r=l(60);var p=l(8);const e={5126:4,5123:2,5121:1};class d{constructor(a){this.renderer=a;this._activeVao=this._activeGeometry=null;this.hasInstance=this.hasVao=!0;this.canUseUInt32ElementIndex=!1;this.managedGeometries={}}contextChange(){this.disposeAll(!0);const a=this.gl=this.renderer.gl,c=this.renderer.context;this.CONTEXT_UID=this.renderer.CONTEXT_UID;if(2!==c.webGLVersion){let b=this.renderer.context.extensions.vertexArrayObject;
p.settings.PREFER_ENV===m.ENV.WEBGL_LEGACY&&(b=null);b?(a.createVertexArray=()=>b.createVertexArrayOES(),a.bindVertexArray=g=>b.bindVertexArrayOES(g),a.deleteVertexArray=g=>b.deleteVertexArrayOES(g)):(this.hasVao=!1,a.createVertexArray=()=>null,a.bindVertexArray=()=>null,a.deleteVertexArray=()=>null)}if(2!==c.webGLVersion){const b=a.getExtension("ANGLE_instanced_arrays");b?(a.vertexAttribDivisor=(g,f)=>b.vertexAttribDivisorANGLE(g,f),a.drawElementsInstanced=(g,f,h,n,q)=>b.drawElementsInstancedANGLE(g,
f,h,n,q),a.drawArraysInstanced=(g,f,h,n)=>b.drawArraysInstancedANGLE(g,f,h,n)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===c.webGLVersion||!!c.extensions.uint32ElementIndex}bind(a,c){c=c||this.renderer.shader.shader;const {gl:b}=this;var g=a.glVertexArrayObjects[this.CONTEXT_UID];let f=!1;g||(this.managedGeometries[a.id]=a,a.disposeRunner.add(this),a.glVertexArrayObjects[this.CONTEXT_UID]=g={},f=!0);g=g[c.program.id]||this.initGeometryVao(a,c,f);this._activeGeometry=a;this._activeVao!==
g&&(this._activeVao=g,this.hasVao?b.bindVertexArray(g):this.activateVao(a,c.program));this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const a=this._activeGeometry,c=this.renderer.buffer;for(let b=0;b<a.buffers.length;b++)c.update(a.buffers[b])}checkCompatibility(a,c){a=a.attributes;c=c.attributeData;for(const b in c)if(!a[b])throw Error(`shader and geometry incompatible, geometry missing the "${b}" attribute`);}getSignature(a,c){const b=a.attributes;c=c.attributeData;a=["g",a.id];for(const g in b)c[g]&&
a.push(g,c[g].location);return a.join("-")}initGeometryVao(a,c,b=!0){const g=this.gl,f=this.CONTEXT_UID,h=this.renderer.buffer,n=c.program;n.glPrograms[f]||this.renderer.shader.generateProgram(c);this.checkCompatibility(a,n);c=this.getSignature(a,n);const q=a.glVertexArrayObjects[this.CONTEXT_UID];var t=q[c];if(t)return q[n.id]=t;const u=a.buffers;t=a.attributes;var w={};const x={};for(var y in u)w[y]=0,x[y]=0;for(var z in t)!t[z].size&&n.attributeData[z]?t[z].size=n.attributeData[z].size:t[z].size||
console.warn(`PIXI Geometry attribute '${z}' size cannot be determined (likely the bound shader does not have the attribute)`),w[t[z].buffer]+=t[z].size*e[t[z].type];for(var C in t)y=t[C],z=y.size,void 0===y.stride&&(y.stride=w[y.buffer]===z*e[y.type]?0:w[y.buffer]),void 0===y.start&&(y.start=x[y.buffer],x[y.buffer]+=z*e[y.type]);t=g.createVertexArray();g.bindVertexArray(t);for(C=0;C<u.length;C++)w=u[C],h.bind(w),b&&w._glBuffers[f].refCount++;this.activateVao(a,n);q[n.id]=t;q[c]=t;g.bindVertexArray(null);
h.unbind(m.BUFFER_TYPE.ARRAY_BUFFER);return t}disposeGeometry(a,c){if(this.managedGeometries[a.id]){delete this.managedGeometries[a.id];var b=a.glVertexArrayObjects[this.CONTEXT_UID],g=this.gl,f=a.buffers,h=this.renderer?.buffer;a.disposeRunner.remove(this);if(b){if(h)for(let n=0;n<f.length;n++){const q=f[n]._glBuffers[this.CONTEXT_UID];q&&(q.refCount--,0!==q.refCount||c||h.dispose(f[n],c))}if(!c)for(const n in b)"g"===n[0]&&(c=b[n],this._activeVao===c&&this.unbind(),g.deleteVertexArray(c));delete a.glVertexArrayObjects[this.CONTEXT_UID]}}}disposeAll(a){const c=
Object.keys(this.managedGeometries);for(let b=0;b<c.length;b++)this.disposeGeometry(this.managedGeometries[c[b]],a)}activateVao(a,c){const b=this.gl,g=this.CONTEXT_UID,f=this.renderer.buffer,h=a.buffers,n=a.attributes;a.indexBuffer&&f.bind(a.indexBuffer);a=null;for(const t in n){const u=n[t];var q=h[u.buffer];const w=q._glBuffers[g];if(c.attributeData[t]&&(a!==w&&(f.bind(q),a=w),q=c.attributeData[t].location,b.enableVertexAttribArray(q),b.vertexAttribPointer(q,u.size,u.type||b.FLOAT,u.normalized,
u.stride,u.start),u.instance))if(this.hasInstance)b.vertexAttribDivisor(q,u.divisor);else throw Error("geometry error, GPU Instancing is not supported on this device");}}draw(a,c,b,g){const {gl:f}=this,h=this._activeGeometry;if(h.indexBuffer){const n=h.indexBuffer.data.BYTES_PER_ELEMENT,q=2===n?f.UNSIGNED_SHORT:f.UNSIGNED_INT;2===n||4===n&&this.canUseUInt32ElementIndex?h.instanced?f.drawElementsInstanced(a,c||h.indexBuffer.data.length,q,(b||0)*n,g||1):f.drawElements(a,c||h.indexBuffer.data.length,
q,(b||0)*n):console.warn("unsupported index buffer type: uint32")}else h.instanced?f.drawArraysInstanced(a,b,c||h.getSize(),g||1):f.drawArrays(a,b,c||h.getSize());return this}unbind(){this.gl.bindVertexArray(null);this._activeGeometry=this._activeVao=null}destroy(){this.renderer=null}}d.extension={type:r.ExtensionType.RendererSystem,name:"geometry"};r.extensions.add(d);k.GeometrySystem=d};
shadow$provide[137]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(89);const p=new m.Matrix;class e{constructor(d,a){this._texture=d;this.mapCoord=new m.Matrix;this.uClampFrame=new Float32Array(4);this.uClampOffset=new Float32Array(2);this._textureID=-1;this.clampOffset=this._updateID=0;this.clampMargin="undefined"===typeof a?.5:a;this.isSimple=!1}get texture(){return this._texture}set texture(d){this._texture=d;this._textureID=-1}multiplyUvs(d,a){void 0===a&&(a=d);const c=
this.mapCoord;for(let b=0;b<d.length;b+=2){const g=d[b],f=d[b+1];a[b]=g*c.a+f*c.c+c.tx;a[b+1]=g*c.b+f*c.d+c.ty}return a}update(d){const a=this._texture;if(!a||!a.valid||!d&&this._textureID===a._updateID)return!1;this._textureID=a._updateID;this._updateID++;d=a._uvs;this.mapCoord.set(d.x1-d.x0,d.y1-d.y0,d.x3-d.x0,d.y3-d.y0,d.x0,d.y0);d=a.orig;var c=a.trim;c&&(p.set(d.width/c.width,0,0,d.height/c.height,-c.x/c.width,-c.y/c.height),this.mapCoord.append(p));d=a.baseTexture;c=this.uClampFrame;const b=
this.clampMargin/d.resolution,g=this.clampOffset;c[0]=(a._frame.x+b+g)/d.width;c[1]=(a._frame.y+b+g)/d.height;c[2]=(a._frame.x+a._frame.width-b+g)/d.width;c[3]=(a._frame.y+a._frame.height-b+g)/d.height;this.uClampOffset[0]=g/d.realWidth;this.uClampOffset[1]=g/d.realHeight;this.isSimple=a._frame.width===d.width&&a._frame.height===d.height&&0===a.rotate;return!0}}k.TextureMatrix=e};
shadow$provide[138]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip \x3d step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original \x3d texture2D(uSampler, vTextureCoord);\n    vec4 masky \x3d texture2D(mask, vMaskCoord);\n    float alphaMul \x3d 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *\x3d (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor \x3d original;\n}\n"};
shadow$provide[139]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position \x3d vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord \x3d aTextureCoord;\n    vMaskCoord \x3d ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n"};
shadow$provide[140]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(89),p=l(137);r=l(117);var e=l(138),d=l(139);class a extends r.Filter{constructor(c,b,g){let f=null;"string"!==typeof c&&void 0===b&&void 0===g&&(f=c,g=b=c=void 0);super(c||d["default"],b||e["default"],g);this.maskSprite=f;this.maskMatrix=new m.Matrix}get maskSprite(){return this._maskSprite}set maskSprite(c){if(this._maskSprite=c)this._maskSprite.renderable=!1}apply(c,b,g,f){const h=this._maskSprite,n=h._texture;
n.valid&&(n.uvMatrix||(n.uvMatrix=new p.TextureMatrix(n,0)),n.uvMatrix.update(),this.uniforms.npmAlpha=n.baseTexture.alphaMode?0:1,this.uniforms.mask=n,this.uniforms.otherMatrix=c.calculateSpriteMatrix(this.maskMatrix,h).prepend(n.uvMatrix.mapCoord),this.uniforms.alpha=h.worldAlpha,this.uniforms.maskClamp=n.uvMatrix.uClampFrame,c.applyFilter(this,b,g,f))}}k.SpriteMaskFilter=a};
shadow$provide[141]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0),p=l(117);class e{constructor(d=null){this.type=m.MASK_TYPES.NONE;this.autoDetect=!0;this.maskObject=d||null;this.pooled=!1;this.isMaskData=!0;this.resolution=null;this.multisample=p.Filter.defaultMultisample;this.enabled=!0;this.colorMask=15;this._filters=null;this._scissorCounter=this._stencilCounter=0;this._scissorRectLocal=this._scissorRect=null;this._colorMask=15;this._target=null}get filter(){return this._filters?
this._filters[0]:null}set filter(d){d?this._filters?this._filters[0]=d:this._filters=[d]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=m.MASK_TYPES.NONE,this.autoDetect=!0);this._scissorRectLocal=this._target=null}copyCountersOrReset(d){d?(this._stencilCounter=d._stencilCounter,this._scissorCounter=d._scissorCounter,this._scissorRect=d._scissorRect):(this._scissorCounter=this._stencilCounter=0,this._scissorRect=null)}}k.MaskData=e};
shadow$provide[142]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);r=l(60);var p=l(140),e=l(141);class d{constructor(a){this.renderer=a;this.enableScissor=!0;this.alphaMaskPool=[];this.maskDataPool=[];this.maskStack=[];this.alphaMaskIndex=0}setMaskStack(a){this.maskStack=a;this.renderer.scissor.setMaskStack(a);this.renderer.stencil.setMaskStack(a)}push(a,c){var b=c;b.isMaskData||(b=this.maskDataPool.pop()||new e.MaskData,b.pooled=!0,b.maskObject=c);c=0!==this.maskStack.length?
this.maskStack[this.maskStack.length-1]:null;b.copyCountersOrReset(c);b._colorMask=c?c._colorMask:15;b.autoDetect&&this.detect(b);b._target=a;b.type!==m.MASK_TYPES.SPRITE&&this.maskStack.push(b);if(b.enabled)switch(b.type){case m.MASK_TYPES.SCISSOR:this.renderer.scissor.push(b);break;case m.MASK_TYPES.STENCIL:this.renderer.stencil.push(b);break;case m.MASK_TYPES.SPRITE:b.copyCountersOrReset(null);this.pushSpriteMask(b);break;case m.MASK_TYPES.COLOR:this.pushColorMask(b)}b.type===m.MASK_TYPES.SPRITE&&
this.maskStack.push(b)}pop(a){const c=this.maskStack.pop();if(c&&c._target===a){if(c.enabled)switch(c.type){case m.MASK_TYPES.SCISSOR:this.renderer.scissor.pop(c);break;case m.MASK_TYPES.STENCIL:this.renderer.stencil.pop(c.maskObject);break;case m.MASK_TYPES.SPRITE:this.popSpriteMask(c);break;case m.MASK_TYPES.COLOR:this.popColorMask(c)}c.reset();c.pooled&&this.maskDataPool.push(c);0!==this.maskStack.length&&(a=this.maskStack[this.maskStack.length-1],a.type===m.MASK_TYPES.SPRITE&&a._filters&&(a._filters[0].maskSprite=
a.maskObject))}}detect(a){const c=a.maskObject;c?c.isSprite?a.type=m.MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(a)?a.type=m.MASK_TYPES.SCISSOR:a.type=m.MASK_TYPES.STENCIL:a.type=m.MASK_TYPES.COLOR}pushSpriteMask(a){const {maskObject:c}=a,b=a._target;let g=a._filters;g||(g=this.alphaMaskPool[this.alphaMaskIndex])||(g=this.alphaMaskPool[this.alphaMaskIndex]=[new p.SpriteMaskFilter]);const f=this.renderer;var h=f.renderTexture;if(h.current){var n=h.current;h=a.resolution||
n.resolution;n=a.multisample??n.multisample}else h=a.resolution||f.resolution,n=a.multisample??f.multisample;g[0].resolution=h;g[0].multisample=n;g[0].maskSprite=c;h=b.filterArea;b.filterArea=c.getBounds(!0);f.filter.push(b,g);b.filterArea=h;a._filters||this.alphaMaskIndex++}popSpriteMask(a){this.renderer.filter.pop();a._filters?a._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(a){const c=a._colorMask;a=a._colorMask=c&a.colorMask;
a!==c&&this.renderer.gl.colorMask(0!==(a&1),0!==(a&2),0!==(a&4),0!==(a&8))}popColorMask(a){const c=0<this.maskStack.length?this.maskStack[this.maskStack.length-1]._colorMask:15;c!==a._colorMask&&this.renderer.gl.colorMask(0!==(c&1),0!==(c&2),0!==(c&4),0!==(c&8))}destroy(){this.renderer=null}}d.extension={type:r.ExtensionType.RendererSystem,name:"mask"};r.extensions.add(d);k.MaskSystem=d};
shadow$provide[143]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{constructor(p){this.renderer=p;this.maskStack=[];this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(p){const {gl:e}=this.renderer,d=this.getStackLength();this.maskStack=p;p=this.getStackLength();p!==d&&(0===p?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.maskStack=this.renderer=null}}k.AbstractMaskSystem=m};
shadow$provide[144]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(60);var m=l(89),p=l(8);l=l(143);const e=new m.Matrix,d=[],a=class extends l.AbstractMaskSystem{constructor(c){super(c);this.glConst=p.settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const c=this.maskStack[this.maskStack.length-1];return c?c._scissorCounter:0}calcScissorRect(c){if(!c._scissorRectLocal){var b=c._scissorRect,{maskObject:g}=c,{renderer:f}=this,h=f.renderTexture;g=g.getBounds(!0,
d.pop()??new m.Rectangle);this.roundFrameToPixels(g,h.current?h.current.resolution:f.resolution,h.sourceFrame,h.destinationFrame,f.projection.transform);b&&g.fit(b);c._scissorRectLocal=g}}static isMatrixRotated(c){if(!c)return!1;const {a:b,b:g,c:f,d:h}=c;return(1E-4<Math.abs(g)||1E-4<Math.abs(f))&&(1E-4<Math.abs(b)||1E-4<Math.abs(h))}testScissor(c){const {maskObject:b}=c;if(!b.isFastRect||!b.isFastRect()||a.isMatrixRotated(b.worldTransform)||a.isMatrixRotated(this.renderer.projection.transform))return!1;
this.calcScissorRect(c);c=c._scissorRectLocal;return 0<c.width&&0<c.height}roundFrameToPixels(c,b,g,f,h){a.isMatrixRotated(h)||(h=h?e.copyFrom(h):e.identity(),h.translate(-g.x,-g.y).scale(f.width/g.width,f.height/g.height).translate(f.x,f.y),this.renderer.filter.transformAABB(h,c),c.fit(f),c.x=Math.round(c.x*b),c.y=Math.round(c.y*b),c.width=Math.round(c.width*b),c.height=Math.round(c.height*b))}push(c){c._scissorRectLocal||this.calcScissorRect(c);const {gl:b}=this.renderer;c._scissorRect||b.enable(b.SCISSOR_TEST);
c._scissorCounter++;c._scissorRect=c._scissorRectLocal;this._useCurrent()}pop(c){const {gl:b}=this.renderer;c&&d.push(c._scissorRectLocal);0<this.getStackLength()?this._useCurrent():b.disable(b.SCISSOR_TEST)}_useCurrent(){const c=this.maskStack[this.maskStack.length-1]._scissorRect;this.renderer.gl.scissor(c.x,this.renderer.renderTexture.current?c.y:this.renderer.height-c.height-c.y,c.width,c.height)}};l=a;l.extension={type:r.ExtensionType.RendererSystem,name:"scissor"};r.extensions.add(l);k.ScissorSystem=
l};
shadow$provide[145]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(60);var m=l(8);l=l(143);class p extends l.AbstractMaskSystem{constructor(e){super(e);this.glConst=m.settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const d=e.maskObject,{gl:a}=this.renderer,c=e._stencilCounter;0===c&&(this.renderer.framebuffer.forceStencil(),a.clearStencil(0),a.clear(a.STENCIL_BUFFER_BIT),
a.enable(a.STENCIL_TEST));e._stencilCounter++;const b=e._colorMask;0!==b&&(e._colorMask=0,a.colorMask(!1,!1,!1,!1));a.stencilFunc(a.EQUAL,c,4294967295);a.stencilOp(a.KEEP,a.KEEP,a.INCR);d.renderable=!0;d.render(this.renderer);this.renderer.batch.flush();d.renderable=!1;0!==b&&(e._colorMask=b,a.colorMask(0!==(b&1),0!==(b&2),0!==(b&4),0!==(b&8)));this._useCurrent()}pop(e){const d=this.renderer.gl;if(0===this.getStackLength())d.disable(d.STENCIL_TEST);else{const a=0!==this.maskStack.length?this.maskStack[this.maskStack.length-
1]:null,c=a?a._colorMask:15;0!==c&&(a._colorMask=0,d.colorMask(!1,!1,!1,!1));d.stencilOp(d.KEEP,d.KEEP,d.DECR);e.renderable=!0;e.render(this.renderer);this.renderer.batch.flush();e.renderable=!1;0!==c&&(a._colorMask=c,d.colorMask(0!==(c&1),0!==(c&2),0!==(c&4),0!==(c&8)));this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295);e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}p.extension={type:r.ExtensionType.RendererSystem,name:"stencil"};r.extensions.add(p);
k.StencilSystem=p};
shadow$provide[146]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(60);var m=l(59);class p{constructor(e){this.renderer=e;this.plugins={};Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){m.deprecation("7.0.0","renderer.plugins.extract has moved to renderer.extract");return e.extract}},prepare:{enumerable:!1,get(){m.deprecation("7.0.0","renderer.plugins.prepare has moved to renderer.prepare");return e.prepare}},interaction:{enumerable:!1,get(){m.deprecation("7.0.0",
"renderer.plugins.interaction has been deprecated, use renderer.events");return e.events}}})}init(){const e=this.rendererPlugins;for(const d in e)this.plugins[d]=new e[d](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}p.extension={type:[r.ExtensionType.RendererSystem,r.ExtensionType.CanvasRendererSystem],name:"_plugin"};r.extensions.add(p);k.PluginSystem=p};
shadow$provide[147]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(60);var m=l(89);class p{constructor(e){this.renderer=e;this.defaultFrame=this.sourceFrame=this.destinationFrame=null;this.projectionMatrix=new m.Matrix;this.transform=null}update(e,d,a,c){this.destinationFrame=e||this.destinationFrame||this.defaultFrame;this.sourceFrame=d||this.sourceFrame||e;this.calculateProjection(this.destinationFrame,this.sourceFrame,a,c);this.transform&&this.projectionMatrix.append(this.transform);
e=this.renderer;e.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix;e.globalUniforms.update();e.shader.shader&&e.shader.syncUniformGroup(e.shader.shader.uniforms.globals)}calculateProjection(e,d,a,c){e=this.projectionMatrix;c=c?-1:1;e.identity();e.a=1/d.width*2;e.d=1/d.height*c*2;e.tx=-1-d.x*e.a;e.ty=-c-d.y*e.d}setTransform(e){}destroy(){this.renderer=null}}p.extension={type:r.ExtensionType.RendererSystem,name:"projection"};r.extensions.add(p);k.ProjectionSystem=p};
shadow$provide[148]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(60);var m=l(89),p=l(128);const e=new m.Transform;class d{constructor(a){this.renderer=a;this._tempMatrix=new m.Matrix}generateTexture(a,c){const {region:b,...g}=c||{};var f=b||a.getLocalBounds(null,!0);0===f.width&&(f.width=1);0===f.height&&(f.height=1);c=p.RenderTexture.create({width:f.width,height:f.height,...g});this._tempMatrix.tx=-f.x;this._tempMatrix.ty=-f.y;f=a.transform;a.transform=e;this.renderer.render(a,
{renderTexture:c,transform:this._tempMatrix,skipUpdateTransform:!!a.parent,blit:!0});a.transform=f;return c}destroy(){}}d.extension={type:[r.ExtensionType.RendererSystem,r.ExtensionType.CanvasRendererSystem],name:"textureGenerator"};r.extensions.add(d);k.GenerateTextureSystem=d};
shadow$provide[149]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(39);r=l(60);var p=l(89);const e=new p.Rectangle,d=new p.Rectangle;class a{constructor(c){this.renderer=c;this.defaultMaskStack=[];this.current=null;this.sourceFrame=new p.Rectangle;this.destinationFrame=new p.Rectangle;this.viewportFrame=new p.Rectangle}contextChange(){const c=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(c&&c.alpha&&c.premultipliedAlpha)}bind(c=null,b,g){const f=
this.renderer;this.current=c;let h,n,q;c?(h=c.baseTexture,q=h.resolution,b||(e.width=c.frame.width,e.height=c.frame.height,b=e),g||(d.x=c.frame.x,d.y=c.frame.y,d.width=b.width,d.height=b.height,g=d),n=h.framebuffer):(q=f.resolution,b||(e.width=f._view.screen.width,e.height=f._view.screen.height,b=e),g||(g=e,g.width=b.width,g.height=b.height));const t=this.viewportFrame;t.x=g.x*q;t.y=g.y*q;t.width=g.width*q;t.height=g.height*q;c||(t.y=f.view.height-(t.y+t.height));t.ceil();this.renderer.framebuffer.bind(n,
t);this.renderer.projection.update(g,b,q,!n);c?this.renderer.mask.setMaskStack(h.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(b);this.destinationFrame.copyFrom(g)}clear(c,b){var g=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor;c=m.Color.shared.setValue(c?c:g);(this.current&&0<this.current.baseTexture.alphaMode||!this.current&&this._rendererPremultipliedAlpha)&&c.premultiply(c.alpha);g=this.destinationFrame;const f=
this.current?this.current.baseTexture:this.renderer._view.screen;if(g=g.width!==f.width||g.height!==f.height){let {x:h,y:n,width:q,height:t}=this.viewportFrame;h=Math.round(h);n=Math.round(n);q=Math.round(q);t=Math.round(t);this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);this.renderer.gl.scissor(h,n,q,t)}this.renderer.framebuffer.clear(c.red,c.green,c.blue,c.alpha,b);g&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}a.extension={type:r.ExtensionType.RendererSystem,
name:"renderTexture"};r.extensions.add(a);k.RenderTextureSystem=a};
shadow$provide[150]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{}class p{constructor(e,d){this.program=e;this.uniformData=d;this.uniformGroups={};this.uniformDirtyGroups={};this.uniformBufferBindings={}}destroy(){this.program=this.uniformBufferBindings=this.uniformDirtyGroups=this.uniformGroups=this.uniformData=null}}k.GLProgram=p;k.IGLUniformData=m};
shadow$provide[151]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(99),p=l(100);k.getAttributeData=function(e,d){const a={},c=d.getProgramParameter(e,d.ACTIVE_ATTRIBUTES);for(let g=0;g<c;g++){const f=d.getActiveAttrib(e,g);if(!f.name.startsWith("gl_")){var b=p.mapType(d,f.type);b={type:b,name:f.name,size:m.mapSize(b),location:d.getAttribLocation(e,f.name)};a[f.name]=b}}return a}};
shadow$provide[152]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(93),p=l(100);k.getUniformData=function(e,d){const a={},c=d.getProgramParameter(e,d.ACTIVE_UNIFORMS);for(let b=0;b<c;b++){const g=d.getActiveUniform(e,b),f=g.name.replace(/\[.*?\]$/,""),h=!!g.name.match(/\[.*?\]$/),n=p.mapType(d,g.type);a[f]={name:f,index:b,type:n,size:g.size,isArray:h,value:m.defaultValue(n,g.size)}}return a}};
shadow$provide[153]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(150),p=l(92),e=l(93),d=l(151),a=l(152),c=l(98);k.generateProgram=function(b,g){var f=p.compileShader(b,b.VERTEX_SHADER,g.vertexSrc),h=p.compileShader(b,b.FRAGMENT_SHADER,g.fragmentSrc);const n=b.createProgram();b.attachShader(n,f);b.attachShader(n,h);var q=g.extra?.transformFeedbackVaryings;q&&("function"!==typeof b.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):
b.transformFeedbackVaryings(n,q.names,"separate"===q.bufferMode?b.SEPARATE_ATTRIBS:b.INTERLEAVED_ATTRIBS));b.linkProgram(n);b.getProgramParameter(n,b.LINK_STATUS)||c.logProgramError(b,n,f,h);g.attributeData=d.getAttributeData(n,b);g.uniformData=a.getUniformData(n,b);if(!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(g.vertexSrc)){q=Object.keys(g.attributeData);q.sort((t,u)=>t>u?1:-1);for(let t=0;t<q.length;t++)g.attributeData[q[t]].location=t,b.bindAttribLocation(n,t,q[t]);b.linkProgram(n)}b.deleteShader(f);
b.deleteShader(h);f={};for(const t in g.uniformData)h=g.uniformData[t],f[t]={location:b.getUniformLocation(n,t),value:e.defaultValue(h.type,h.size)};return new m.GLProgram(n,f)}};
shadow$provide[154]=function(r,l,B,k){function m(g,f,h,n,q){h.buffer.update(q)}function p(g){g=g.map(q=>({data:q,offset:0,dataLen:0,dirty:0}));let f=0,h=0,n=0;for(let q=0;q<g.length;q++){const t=g[q];f=b[t.data.type];1<t.data.size&&(f=Math.max(f,16)*t.data.size);t.dataLen=f;if(0!==h%f&&16>h){const u=h%f%16;h+=u;n+=u}16<h+f?(n=16*Math.ceil(n/16),t.offset=n,n+=f,h=f):(t.offset=n,h+=f,n+=f)}n=16*Math.ceil(n/16);return{uboElements:g,size:n}}function e(g,f){const h=[];for(const n in g)f[n]&&h.push(f[n]);
h.sort((n,q)=>n.index-q.index);return h}Object.defineProperty(k,"__esModule",{value:!0});l(103);var d=l(94),a=l(99);const c={float:"\n        data[offset] \x3d v;\n    ",vec2:"\n        data[offset] \x3d v[0];\n        data[offset+1] \x3d v[1];\n    ",vec3:"\n        data[offset] \x3d v[0];\n        data[offset+1] \x3d v[1];\n        data[offset+2] \x3d v[2];\n\n    ",vec4:"\n        data[offset] \x3d v[0];\n        data[offset+1] \x3d v[1];\n        data[offset+2] \x3d v[2];\n        data[offset+3] \x3d v[3];\n    ",
mat2:"\n        data[offset] \x3d v[0];\n        data[offset+1] \x3d v[1];\n\n        data[offset+4] \x3d v[2];\n        data[offset+5] \x3d v[3];\n    ",mat3:"\n        data[offset] \x3d v[0];\n        data[offset+1] \x3d v[1];\n        data[offset+2] \x3d v[2];\n\n        data[offset + 4] \x3d v[3];\n        data[offset + 5] \x3d v[4];\n        data[offset + 6] \x3d v[5];\n\n        data[offset + 8] \x3d v[6];\n        data[offset + 9] \x3d v[7];\n        data[offset + 10] \x3d v[8];\n    ",mat4:"\n        for(var i \x3d 0; i \x3c 16; i++)\n        {\n            data[offset + i] \x3d v[i];\n        }\n    "},
b={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};k.createUBOElements=p;k.generateUniformBufferSync=function(g,f){if(!g.autoManage)return{size:0,syncFunc:m};f=e(g.uniforms,f);const {uboElements:h,size:n}=p(f);f=["\n    var v \x3d null;\n    var v2 \x3d null;\n    var cv \x3d null;\n    var t \x3d 0;\n    var gl \x3d renderer.gl\n    var index \x3d 0;\n    var data \x3d buffer.data;\n    "];for(let u=
0;u<h.length;u++){const w=h[u];var q=g.uniforms[w.data.name];const x=w.data.name;var t=!1;for(let y=0;y<d.uniformParsers.length;y++){const z=d.uniformParsers[y];if(z.codeUbo&&z.test(w.data,q)){f.push(`offset = ${w.offset/4};`,d.uniformParsers[y].codeUbo(w.data.name,q));t=!0;break}}t||(1<w.data.size?(t=a.mapSize(w.data.type),q=Math.max(b[w.data.type]/16,1),t/=q,f.push(`
                cv = ud.${x}.value;
                v = uv.${x};
                offset = ${w.offset/4};

                t = 0;

                for(var i=0; i < ${w.data.size*q}; i++)
                {
                    for(var j = 0; j < ${t}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${(4-t%4)%4};
                }

                `)):f.push(`
                cv = ud.${x}.value;
                v = uv.${x};
                offset = ${w.offset/4};
                ${c[w.data.type]};
                `))}f.push("\n       renderer.buffer.update(buffer);\n    ");return{size:n,syncFunc:new Function("ud","uv","renderer","syncData","buffer",f.join("\n"))}};k.getUBOData=e};
shadow$provide[155]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(60);l(103);var m=l(153),p=l(154),e=l(102),d=l(95);let a=0;const c={textureCount:0,uboCount:0};class b{constructor(g){this.destroyed=!1;this.renderer=g;this.systemCheck();this.program=this.shader=this.gl=null;this.cache={};this._uboCache={};this.id=a++}systemCheck(){if(!e.unsafeEvalSupported())throw Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.");
}contextChange(g){this.gl=g;this.reset()}bind(g,f){g.disposeRunner.add(this);g.uniforms.globals=this.renderer.globalUniforms;const h=g.program,n=h.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(g);this.shader=g;this.program!==h&&(this.program=h,this.gl.useProgram(n.program));f||(c.textureCount=0,c.uboCount=0,this.syncUniformGroup(g.uniformGroup,c));return n}setUniforms(g){const f=this.shader.program;f.syncUniforms(f.glPrograms[this.renderer.CONTEXT_UID].uniformData,g,this.renderer)}syncUniformGroup(g,
f){const h=this.getGlProgram();g.static&&g.dirtyId===h.uniformDirtyGroups[g.id]||(h.uniformDirtyGroups[g.id]=g.dirtyId,this.syncUniforms(g,h,f))}syncUniforms(g,f,h){(g.syncUniforms[this.shader.program.id]||this.createSyncGroups(g))(f.uniformData,g.uniforms,this.renderer,h)}createSyncGroups(g){const f=this.getSignature(g,this.shader.program.uniformData,"u");this.cache[f]||(this.cache[f]=d.generateUniformsSync(g,this.shader.program.uniformData));g.syncUniforms[this.shader.program.id]=this.cache[f];
return g.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(g,f){const h=this.getGlProgram();if(!g.static||0!==g.dirtyId||!h.uniformGroups[g.id]){g.dirtyId=0;const n=h.uniformGroups[g.id]||this.createSyncBufferGroup(g,h,f);g.buffer.update();n(h.uniformData,g.uniforms,this.renderer,c,g.buffer)}this.renderer.buffer.bindBufferBase(g.buffer,h.uniformBufferBindings[f])}createSyncBufferGroup(g,f,h){var {gl:n}=this.renderer;this.renderer.buffer.bind(g.buffer);const q=this.gl.getUniformBlockIndex(f.program,
h);f.uniformBufferBindings[h]=this.shader.uniformBindCount;n.uniformBlockBinding(f.program,q,this.shader.uniformBindCount);this.shader.uniformBindCount++;n=this.getSignature(g,this.shader.program.uniformData,"ubo");(h=this._uboCache[n])||(h=this._uboCache[n]=p.generateUniformBufferSync(g,this.shader.program.uniformData));g.autoManage&&(n=new Float32Array(h.size/4),g.buffer.update(n));f.uniformGroups[g.id]=h.syncFunc;return f.uniformGroups[g.id]}getSignature(g,f,h){g=g.uniforms;h=[`${h}-`];for(const n in g)h.push(n),
f[n]&&h.push(f[n].type);return h.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(g){g=g.program;const f=m.generateProgram(this.gl,g);return g.glPrograms[this.renderer.CONTEXT_UID]=f}reset(){this.shader=this.program=null}disposeShader(g){this.shader===g&&(this.shader=null)}destroy(){this.renderer=null;this.destroyed=!0}}b.extension={type:r.ExtensionType.RendererSystem,name:"shader"};r.extensions.add(b);k.ShaderSystem=b};
shadow$provide[156]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(60);class m{constructor(p){this.renderer=p}run(p){const {renderer:e}=this;e.runners.init.emit(e.options);p.hello&&console.log(`PixiJS ${"7.2.4"} - ${e.rendererLogId} - https://pixijs.com`);e.resize(e.screen.width,e.screen.height)}destroy(){}}m.defaultOptions={hello:!1};m.extension={type:[r.ExtensionType.RendererSystem,r.ExtensionType.CanvasRendererSystem],name:"startup"};r.extensions.add(m);k.StartupSystem=
m};
shadow$provide[157]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);k.mapWebGLBlendModesToPixi=function(p,e=[]){e[m.BLEND_MODES.NORMAL]=[p.ONE,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.ADD]=[p.ONE,p.ONE];e[m.BLEND_MODES.MULTIPLY]=[p.DST_COLOR,p.ONE_MINUS_SRC_ALPHA,p.ONE,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.SCREEN]=[p.ONE,p.ONE_MINUS_SRC_COLOR,p.ONE,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.OVERLAY]=[p.ONE,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.DARKEN]=[p.ONE,p.ONE_MINUS_SRC_ALPHA];
e[m.BLEND_MODES.LIGHTEN]=[p.ONE,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.COLOR_DODGE]=[p.ONE,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.COLOR_BURN]=[p.ONE,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.HARD_LIGHT]=[p.ONE,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.SOFT_LIGHT]=[p.ONE,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.DIFFERENCE]=[p.ONE,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.EXCLUSION]=[p.ONE,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.HUE]=[p.ONE,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.SATURATION]=[p.ONE,p.ONE_MINUS_SRC_ALPHA];
e[m.BLEND_MODES.COLOR]=[p.ONE,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.LUMINOSITY]=[p.ONE,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.NONE]=[0,0];e[m.BLEND_MODES.NORMAL_NPM]=[p.SRC_ALPHA,p.ONE_MINUS_SRC_ALPHA,p.ONE,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.ADD_NPM]=[p.SRC_ALPHA,p.ONE,p.ONE,p.ONE];e[m.BLEND_MODES.SCREEN_NPM]=[p.SRC_ALPHA,p.ONE_MINUS_SRC_COLOR,p.ONE,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.SRC_IN]=[p.DST_ALPHA,p.ZERO];e[m.BLEND_MODES.SRC_OUT]=[p.ONE_MINUS_DST_ALPHA,p.ZERO];e[m.BLEND_MODES.SRC_ATOP]=
[p.DST_ALPHA,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.DST_OVER]=[p.ONE_MINUS_DST_ALPHA,p.ONE];e[m.BLEND_MODES.DST_IN]=[p.ZERO,p.SRC_ALPHA];e[m.BLEND_MODES.DST_OUT]=[p.ZERO,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.DST_ATOP]=[p.ONE_MINUS_DST_ALPHA,p.SRC_ALPHA];e[m.BLEND_MODES.XOR]=[p.ONE_MINUS_DST_ALPHA,p.ONE_MINUS_SRC_ALPHA];e[m.BLEND_MODES.SUBTRACT]=[p.ONE,p.ONE,p.ONE,p.ONE,p.FUNC_REVERSE_SUBTRACT,p.FUNC_ADD];return e}};
shadow$provide[158]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);r=l(60);var p=l(63),e=l(157);const d=class{constructor(){this.gl=null;this.polygonOffset=this.stateId=0;this.blendMode=m.BLEND_MODES.NONE;this._blendEq=!1;this.map=[];this.map[0]=this.setBlend;this.map[1]=this.setOffset;this.map[2]=this.setCullFace;this.map[3]=this.setDepthTest;this.map[4]=this.setFrontFace;this.map[5]=this.setDepthMask;this.checks=[];this.defaultState=new p.State;this.defaultState.blend=
!0}contextChange(a){this.gl=a;this.blendModes=e.mapWebGLBlendModesToPixi(a);this.set(this.defaultState);this.reset()}set(a){a=a||this.defaultState;if(this.stateId!==a.data){var c=this.stateId^a.data;let b=0;for(;c;)c&1&&this.map[b].call(this,!!(a.data&1<<b)),c>>=1,b++;this.stateId=a.data}for(c=0;c<this.checks.length;c++)this.checks[c](this,a)}forceState(a){a=a||this.defaultState;for(var c=0;c<this.map.length;c++)this.map[c].call(this,!!(a.data&1<<c));for(c=0;c<this.checks.length;c++)this.checks[c](this,
a);this.stateId=a.data}setBlend(a){this.updateCheck(d.checkBlendMode,a);this.gl[a?"enable":"disable"](this.gl.BLEND)}setOffset(a){this.updateCheck(d.checkPolygonOffset,a);this.gl[a?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(a){this.gl[a?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(a){this.gl.depthMask(a)}setCullFace(a){this.gl[a?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(a){this.gl.frontFace(this.gl[a?"CW":"CCW"])}setBlendMode(a){if(a!==this.blendMode){this.blendMode=
a;a=this.blendModes[a];var c=this.gl;2===a.length?c.blendFunc(a[0],a[1]):c.blendFuncSeparate(a[0],a[1],a[2],a[3]);6===a.length?(this._blendEq=!0,c.blendEquationSeparate(a[4],a[5])):this._blendEq&&(this._blendEq=!1,c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD))}}setPolygonOffset(a,c){this.gl.polygonOffset(a,c)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1);this.forceState(this.defaultState);this._blendEq=!0;this.blendMode=-1;this.setBlendMode(0)}updateCheck(a,c){const b=this.checks.indexOf(a);
c&&-1===b?this.checks.push(a):c||-1===b||this.checks.splice(b,1)}static checkBlendMode(a,c){a.setBlendMode(c.blendMode)}static checkPolygonOffset(a,c){a.setPolygonOffset(1,c.polygonOffset)}destroy(){this.gl=null}};l=d;l.extension={type:r.ExtensionType.RendererSystem,name:"state"};r.extensions.add(l);k.StateSystem=l};
shadow$provide[159]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(66);r=l(59);class p extends r.EventEmitter{constructor(){super(...arguments);this.runners={};this._systemsHash={}}setup(e){this.addRunners(...e.runners);const d=(e.priority??[]).filter(c=>e.systems[c]),a=[...d,...Object.keys(e.systems).filter(c=>!d.includes(c))];for(const c of a)this.addSystem(e.systems[c],c)}addRunners(...e){e.forEach(d=>{this.runners[d]=new m.Runner(d)})}addSystem(e,d){e=new e(this);if(this[d])throw Error(`Whoops! The name "${d}" is already in use`);
this[d]=e;this._systemsHash[d]=e;for(const a in this.runners)this.runners[a].add(e);return this}emitWithCustomOptions(e,d){const a=Object.keys(this._systemsHash);e.items.forEach(c=>{const b=a.find(g=>this._systemsHash[g]===c);c[e.name](d[b])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()});this._systemsHash={}}}k.SystemManager=p};
shadow$provide[160]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);r=l(60);const p=class{constructor(e){this.renderer=e;this.checkCount=this.count=0;this.maxIdle=p.defaultMaxIdle;this.checkCountMax=p.defaultCheckCountMax;this.mode=p.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==m.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){var e=this.renderer.texture;
const d=e.managedTextures;var a=!1;for(let c=0;c<d.length;c++){const b=d[c];!b.framebuffer&&this.count-b.touched>this.maxIdle&&(e.destroyTexture(b,!0),d[c]=null,a=!0)}if(a){e=0;for(a=0;a<d.length;a++)null!==d[a]&&(d[e++]=d[a]);d.length=e}}unload(e){var d=this.renderer.texture;const a=e._texture;a&&!a.framebuffer&&d.destroyTexture(a);for(d=e.children.length-1;0<=d;d--)this.unload(e.children[d])}destroy(){this.renderer=null}};l=p;l.defaultMode=m.GC_MODES.AUTO;l.defaultMaxIdle=3600;l.defaultCheckCountMax=
600;l.extension={type:r.ExtensionType.RendererSystem,name:"textureGC"};r.extensions.add(l);k.TextureGCSystem=l};
shadow$provide[161]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);class p{constructor(e){this.texture=e;this.dirtyStyleId=this.dirtyId=this.height=this.width=-1;this.mipmap=!1;this.wrapMode=33071;this.type=m.TYPES.UNSIGNED_BYTE;this.internalFormat=m.FORMATS.RGBA;this.samplerType=0}}k.GLTexture=p};
shadow$provide[162]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);k.mapTypeAndFormatToInternalFormat=function(p){return"WebGL2RenderingContext"in globalThis&&p instanceof globalThis.WebGL2RenderingContext?{[m.TYPES.UNSIGNED_BYTE]:{[m.FORMATS.RGBA]:p.RGBA8,[m.FORMATS.RGB]:p.RGB8,[m.FORMATS.RG]:p.RG8,[m.FORMATS.RED]:p.R8,[m.FORMATS.RGBA_INTEGER]:p.RGBA8UI,[m.FORMATS.RGB_INTEGER]:p.RGB8UI,[m.FORMATS.RG_INTEGER]:p.RG8UI,[m.FORMATS.RED_INTEGER]:p.R8UI,[m.FORMATS.ALPHA]:p.ALPHA,
[m.FORMATS.LUMINANCE]:p.LUMINANCE,[m.FORMATS.LUMINANCE_ALPHA]:p.LUMINANCE_ALPHA},[m.TYPES.BYTE]:{[m.FORMATS.RGBA]:p.RGBA8_SNORM,[m.FORMATS.RGB]:p.RGB8_SNORM,[m.FORMATS.RG]:p.RG8_SNORM,[m.FORMATS.RED]:p.R8_SNORM,[m.FORMATS.RGBA_INTEGER]:p.RGBA8I,[m.FORMATS.RGB_INTEGER]:p.RGB8I,[m.FORMATS.RG_INTEGER]:p.RG8I,[m.FORMATS.RED_INTEGER]:p.R8I},[m.TYPES.UNSIGNED_SHORT]:{[m.FORMATS.RGBA_INTEGER]:p.RGBA16UI,[m.FORMATS.RGB_INTEGER]:p.RGB16UI,[m.FORMATS.RG_INTEGER]:p.RG16UI,[m.FORMATS.RED_INTEGER]:p.R16UI,[m.FORMATS.DEPTH_COMPONENT]:p.DEPTH_COMPONENT16},
[m.TYPES.SHORT]:{[m.FORMATS.RGBA_INTEGER]:p.RGBA16I,[m.FORMATS.RGB_INTEGER]:p.RGB16I,[m.FORMATS.RG_INTEGER]:p.RG16I,[m.FORMATS.RED_INTEGER]:p.R16I},[m.TYPES.UNSIGNED_INT]:{[m.FORMATS.RGBA_INTEGER]:p.RGBA32UI,[m.FORMATS.RGB_INTEGER]:p.RGB32UI,[m.FORMATS.RG_INTEGER]:p.RG32UI,[m.FORMATS.RED_INTEGER]:p.R32UI,[m.FORMATS.DEPTH_COMPONENT]:p.DEPTH_COMPONENT24},[m.TYPES.INT]:{[m.FORMATS.RGBA_INTEGER]:p.RGBA32I,[m.FORMATS.RGB_INTEGER]:p.RGB32I,[m.FORMATS.RG_INTEGER]:p.RG32I,[m.FORMATS.RED_INTEGER]:p.R32I},
[m.TYPES.FLOAT]:{[m.FORMATS.RGBA]:p.RGBA32F,[m.FORMATS.RGB]:p.RGB32F,[m.FORMATS.RG]:p.RG32F,[m.FORMATS.RED]:p.R32F,[m.FORMATS.DEPTH_COMPONENT]:p.DEPTH_COMPONENT32F},[m.TYPES.HALF_FLOAT]:{[m.FORMATS.RGBA]:p.RGBA16F,[m.FORMATS.RGB]:p.RGB16F,[m.FORMATS.RG]:p.RG16F,[m.FORMATS.RED]:p.R16F},[m.TYPES.UNSIGNED_SHORT_5_6_5]:{[m.FORMATS.RGB]:p.RGB565},[m.TYPES.UNSIGNED_SHORT_4_4_4_4]:{[m.FORMATS.RGBA]:p.RGBA4},[m.TYPES.UNSIGNED_SHORT_5_5_5_1]:{[m.FORMATS.RGBA]:p.RGB5_A1},[m.TYPES.UNSIGNED_INT_2_10_10_10_REV]:{[m.FORMATS.RGBA]:p.RGB10_A2,
[m.FORMATS.RGBA_INTEGER]:p.RGB10_A2UI},[m.TYPES.UNSIGNED_INT_10F_11F_11F_REV]:{[m.FORMATS.RGB]:p.R11F_G11F_B10F},[m.TYPES.UNSIGNED_INT_5_9_9_9_REV]:{[m.FORMATS.RGB]:p.RGB9_E5},[m.TYPES.UNSIGNED_INT_24_8]:{[m.FORMATS.DEPTH_STENCIL]:p.DEPTH24_STENCIL8},[m.TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[m.FORMATS.DEPTH_STENCIL]:p.DEPTH32F_STENCIL8}}:{[m.TYPES.UNSIGNED_BYTE]:{[m.FORMATS.RGBA]:p.RGBA,[m.FORMATS.RGB]:p.RGB,[m.FORMATS.ALPHA]:p.ALPHA,[m.FORMATS.LUMINANCE]:p.LUMINANCE,[m.FORMATS.LUMINANCE_ALPHA]:p.LUMINANCE_ALPHA},
[m.TYPES.UNSIGNED_SHORT_5_6_5]:{[m.FORMATS.RGB]:p.RGB},[m.TYPES.UNSIGNED_SHORT_4_4_4_4]:{[m.FORMATS.RGBA]:p.RGBA},[m.TYPES.UNSIGNED_SHORT_5_5_5_1]:{[m.FORMATS.RGBA]:p.RGBA}}}};
shadow$provide[163]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);r=l(60);var p=l(59),e=l(69),d=l(161),a=l(162);class c{constructor(b){this.renderer=b;this.boundTextures=[];this.currentLocation=-1;this.managedTextures=[];this._unknownBoundTextures=!1;this.unknownTexture=new e.BaseTexture;this.hasIntegerTextures=!1}contextChange(){var b=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.webGLVersion=this.renderer.context.webGLVersion;this.internalFormats=
a.mapTypeAndFormatToInternalFormat(b);var g=b.getParameter(b.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=g;for(let f=0;f<g;f++)this.boundTextures[f]=null;this.emptyTextures={};g=new d.GLTexture(b.createTexture());b.bindTexture(b.TEXTURE_2D,g.texture);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,new Uint8Array(4));this.emptyTextures[b.TEXTURE_2D]=g;this.emptyTextures[b.TEXTURE_CUBE_MAP]=new d.GLTexture(b.createTexture());b.bindTexture(b.TEXTURE_CUBE_MAP,this.emptyTextures[b.TEXTURE_CUBE_MAP].texture);
for(g=0;6>g;g++)b.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_X+g,0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,null);b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_MAG_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_MIN_FILTER,b.LINEAR);for(b=0;b<this.boundTextures.length;b++)this.bind(null,b)}bind(b,g=0){const {gl:f}=this;b=b?.castToBaseTexture();if(b?.valid&&!b.parentTextureArray){b.touched=this.renderer.textureGC.count;const h=b._glTextures[this.CONTEXT_UID]||this.initTexture(b);this.boundTextures[g]!==
b&&(this.currentLocation!==g&&(this.currentLocation=g,f.activeTexture(f.TEXTURE0+g)),f.bindTexture(b.target,h.texture));h.dirtyId!==b.dirtyId?(this.currentLocation!==g&&(this.currentLocation=g,f.activeTexture(f.TEXTURE0+g)),this.updateTexture(b)):h.dirtyStyleId!==b.dirtyStyleId&&this.updateTextureStyle(b);this.boundTextures[g]=b}else this.currentLocation!==g&&(this.currentLocation=g,f.activeTexture(f.TEXTURE0+g)),f.bindTexture(f.TEXTURE_2D,this.emptyTextures[f.TEXTURE_2D].texture),this.boundTextures[g]=
null}reset(){this._unknownBoundTextures=!0;this.hasIntegerTextures=!1;this.currentLocation=-1;for(let b=0;b<this.boundTextures.length;b++)this.boundTextures[b]=this.unknownTexture}unbind(b){const {gl:g,boundTextures:f}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var h=0;h<f.length;h++)f[h]===this.unknownTexture&&this.bind(null,h)}for(h=0;h<f.length;h++)f[h]===b&&(this.currentLocation!==h&&(g.activeTexture(g.TEXTURE0+h),this.currentLocation=h),g.bindTexture(b.target,this.emptyTextures[b.target].texture),
f[h]=null)}ensureSamplerType(b){const {boundTextures:g,hasIntegerTextures:f,CONTEXT_UID:h}=this;if(f)for(--b;0<=b;--b){const n=g[b];n&&n._glTextures[h].samplerType!==m.SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(n)}}initTexture(b){const g=new d.GLTexture(this.gl.createTexture());g.dirtyId=-1;b._glTextures[this.CONTEXT_UID]=g;this.managedTextures.push(b);b.on("dispose",this.destroyTexture,this);return g}initTextureType(b,g){g.internalFormat=this.internalFormats[b.type]?.[b.format]??b.format;
g.type=2===this.webGLVersion&&b.type===m.TYPES.HALF_FLOAT?this.gl.HALF_FLOAT:b.type}updateTexture(b){const g=b._glTextures[this.CONTEXT_UID];if(g){var f=this.renderer;this.initTextureType(b,g);if(b.resource?.upload(f,b,g))g.samplerType!==m.SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0);else{const h=b.realWidth,n=b.realHeight;f=f.gl;if(g.width!==h||g.height!==n||0>g.dirtyId)g.width=h,g.height=n,f.texImage2D(b.target,0,g.internalFormat,h,n,0,b.format,g.type,null)}b.dirtyStyleId!==g.dirtyStyleId&&
this.updateTextureStyle(b);g.dirtyId=b.dirtyId}}destroyTexture(b,g){const {gl:f}=this;b=b.castToBaseTexture();b._glTextures[this.CONTEXT_UID]&&(this.unbind(b),f.deleteTexture(b._glTextures[this.CONTEXT_UID].texture),b.off("dispose",this.destroyTexture,this),delete b._glTextures[this.CONTEXT_UID],g||(b=this.managedTextures.indexOf(b),-1!==b&&p.removeItems(this.managedTextures,b,1)))}updateTextureStyle(b){const g=b._glTextures[this.CONTEXT_UID];g&&(g.mipmap=b.mipmap!==m.MIPMAP_MODES.POW2&&2===this.webGLVersion||
b.isPowerOfTwo?1<=b.mipmap:!1,g.wrapMode=2===this.webGLVersion||b.isPowerOfTwo?b.wrapMode:m.WRAP_MODES.CLAMP,b.resource?.style(this.renderer,b,g)||this.setStyle(b,g),g.dirtyStyleId=b.dirtyStyleId)}setStyle(b,g){const f=this.gl;g.mipmap&&b.mipmap!==m.MIPMAP_MODES.ON_MANUAL&&f.generateMipmap(b.target);f.texParameteri(b.target,f.TEXTURE_WRAP_S,g.wrapMode);f.texParameteri(b.target,f.TEXTURE_WRAP_T,g.wrapMode);if(g.mipmap){if(f.texParameteri(b.target,f.TEXTURE_MIN_FILTER,b.scaleMode===m.SCALE_MODES.LINEAR?
f.LINEAR_MIPMAP_LINEAR:f.NEAREST_MIPMAP_NEAREST),(g=this.renderer.context.extensions.anisotropicFiltering)&&0<b.anisotropicLevel&&b.scaleMode===m.SCALE_MODES.LINEAR){const h=Math.min(b.anisotropicLevel,f.getParameter(g.MAX_TEXTURE_MAX_ANISOTROPY_EXT));f.texParameterf(b.target,g.TEXTURE_MAX_ANISOTROPY_EXT,h)}}else f.texParameteri(b.target,f.TEXTURE_MIN_FILTER,b.scaleMode===m.SCALE_MODES.LINEAR?f.LINEAR:f.NEAREST);f.texParameteri(b.target,f.TEXTURE_MAG_FILTER,b.scaleMode===m.SCALE_MODES.LINEAR?f.LINEAR:
f.NEAREST)}destroy(){this.renderer=null}}c.extension={type:r.ExtensionType.RendererSystem,name:"texture"};r.extensions.add(c);k.TextureSystem=c};
shadow$provide[164]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(60);class m{constructor(p){this.renderer=p}contextChange(){this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(p){const {gl:e,CONTEXT_UID:d}=this;p=p._glTransformFeedbacks[d]||this.createGLTransformFeedback(p);e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,p)}unbind(){const {gl:p}=this;p.bindTransformFeedback(p.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(p,e){const {gl:d,renderer:a}=this;
e&&a.shader.bind(e);d.beginTransformFeedback(p)}endTransformFeedback(){const {gl:p}=this;p.endTransformFeedback()}createGLTransformFeedback(p){const {gl:e,renderer:d,CONTEXT_UID:a}=this,c=e.createTransformFeedback();p._glTransformFeedbacks[a]=c;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,c);for(let b=0;b<p.buffers.length;b++){const g=p.buffers[b];g&&(d.buffer.update(g),g._glBuffers[a].refCount++,e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,b,g._glBuffers[a].buffer||null))}e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,
null);p.disposeRunner.add(this);return c}disposeTransformFeedback(p,e){const d=p._glTransformFeedbacks[this.CONTEXT_UID],a=this.gl;p.disposeRunner.remove(this);const c=this.renderer.buffer;if(c)for(let b=0;b<p.buffers.length;b++){const g=p.buffers[b];if(!g)continue;const f=g._glBuffers[this.CONTEXT_UID];f&&(f.refCount--,0!==f.refCount||e||c.dispose(g,e))}d&&(e||a.deleteTransformFeedback(d),delete p._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}m.extension={type:r.ExtensionType.RendererSystem,
name:"transformFeedback"};r.extensions.add(m);k.TransformFeedbackSystem=m};
shadow$provide[165]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(60);var m=l(89),p=l(8);class e{constructor(d){this.renderer=d}init(d){this.screen=new m.Rectangle(0,0,d.width,d.height);this.element=d.view||p.settings.ADAPTER.createCanvas();this.resolution=d.resolution||p.settings.RESOLUTION;this.autoDensity=!!d.autoDensity}resizeView(d,a){this.element.width=Math.round(d*this.resolution);this.element.height=Math.round(a*this.resolution);d=this.element.width/this.resolution;
a=this.element.height/this.resolution;this.screen.width=d;this.screen.height=a;this.autoDensity&&(this.element.style.width=`${d}px`,this.element.style.height=`${a}px`);this.renderer.emit("resize",d,a);this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(d){d&&this.element.parentNode?.removeChild(this.element);this.screen=this.element=this.renderer=null}}e.defaultOptions={width:800,height:600,resolution:p.settings.RESOLUTION,autoDensity:!1};e.extension={type:[r.ExtensionType.RendererSystem,
r.ExtensionType.CanvasRendererSystem],name:"_view"};r.extensions.add(e);k.ViewSystem=e};
shadow$provide[166]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(118);B=l(119);var m=l(120),p=l(133),e=l(135),d=l(136),a=l(142),c=l(144),b=l(145),g=l(146),f=l(147),h=l(148),n=l(149),q=l(155),t=l(156),u=l(158),w=l(159),x=l(160),y=l(163),z=l(164);l=l(165);k.BackgroundSystem=r.BackgroundSystem;k.BatchSystem=B.BatchSystem;k.ContextSystem=m.ContextSystem;k.FilterSystem=p.FilterSystem;k.FramebufferSystem=e.FramebufferSystem;k.GeometrySystem=d.GeometrySystem;k.MaskSystem=a.MaskSystem;
k.ScissorSystem=c.ScissorSystem;k.StencilSystem=b.StencilSystem;k.PluginSystem=g.PluginSystem;k.ProjectionSystem=f.ProjectionSystem;k.GenerateTextureSystem=h.GenerateTextureSystem;k.RenderTextureSystem=n.RenderTextureSystem;k.ShaderSystem=q.ShaderSystem;k.StartupSystem=t.StartupSystem;k.StateSystem=u.StateSystem;k.SystemManager=w.SystemManager;k.TextureGCSystem=x.TextureGCSystem;k.TextureSystem=y.TextureSystem;k.TransformFeedbackSystem=z.TransformFeedbackSystem;k.ViewSystem=l.ViewSystem};
shadow$provide[167]=function(r,l,B,k){r=l(0);B=l(8);var m=l(59),p=l(114),e=l(117),d=l(104);l(166);var a=l(69);k=l(120);var c=l(118),b=l(165),g=l(156),f=l(160);B.settings.PREFER_ENV=r.ENV.WEBGL2;B.settings.STRICT_TEXTURE_CACHE=!1;B.settings.RENDER_OPTIONS={...k.ContextSystem.defaultOptions,...c.BackgroundSystem.defaultOptions,...b.ViewSystem.defaultOptions,...g.StartupSystem.defaultOptions};Object.defineProperties(B.settings,{WRAP_MODE:{get(){return a.BaseTexture.defaultOptions.wrapMode},set(h){m.deprecation("7.1.0",
"settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode");a.BaseTexture.defaultOptions.wrapMode=h}},SCALE_MODE:{get(){return a.BaseTexture.defaultOptions.scaleMode},set(h){m.deprecation("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode");a.BaseTexture.defaultOptions.scaleMode=h}},MIPMAP_TEXTURES:{get(){return a.BaseTexture.defaultOptions.mipmap},set(h){m.deprecation("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap");
a.BaseTexture.defaultOptions.mipmap=h}},ANISOTROPIC_LEVEL:{get(){return a.BaseTexture.defaultOptions.anisotropicLevel},set(h){m.deprecation("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel");a.BaseTexture.defaultOptions.anisotropicLevel=h}},FILTER_RESOLUTION:{get(){m.deprecation("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution");return e.Filter.defaultResolution},set(h){e.Filter.defaultResolution=h}},FILTER_MULTISAMPLE:{get(){m.deprecation("7.1.0",
"settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample");return e.Filter.defaultMultisample},set(h){e.Filter.defaultMultisample=h}},SPRITE_MAX_TEXTURES:{get(){return p.BatchRenderer.defaultMaxTextures},set(h){m.deprecation("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures");p.BatchRenderer.defaultMaxTextures=h}},SPRITE_BATCH_SIZE:{get(){return p.BatchRenderer.defaultBatchSize},set(h){m.deprecation("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize");
p.BatchRenderer.defaultBatchSize=h}},CAN_UPLOAD_SAME_BUFFER:{get(){return p.BatchRenderer.canUploadSameBuffer},set(h){m.deprecation("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer");p.BatchRenderer.canUploadSameBuffer=h}},GC_MODE:{get(){return f.TextureGCSystem.defaultMode},set(h){m.deprecation("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode");f.TextureGCSystem.defaultMode=h}},GC_MAX_IDLE:{get(){return f.TextureGCSystem.defaultMaxIdle},
set(h){m.deprecation("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle");f.TextureGCSystem.defaultMaxIdle=h}},GC_MAX_CHECK_COUNT:{get(){return f.TextureGCSystem.defaultCheckCountMax},set(h){m.deprecation("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax");f.TextureGCSystem.defaultCheckCountMax=h}},PRECISION_VERTEX:{get(){return d.Program.defaultVertexPrecision},set(h){m.deprecation("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision");
d.Program.defaultVertexPrecision=h}},PRECISION_FRAGMENT:{get(){return d.Program.defaultFragmentPrecision},set(h){m.deprecation("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision");d.Program.defaultFragmentPrecision=h}}})};
shadow$provide[168]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m;r=m||{};r[r.INTERACTION=50]="INTERACTION";r[r.HIGH=25]="HIGH";r[r.NORMAL=0]="NORMAL";r[r.LOW=-25]="LOW";r[r.UTILITY=-50]="UTILITY";k.UPDATE_PRIORITY=r};
shadow$provide[169]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{constructor(p,e=null,d=0,a=!1){this.previous=this.next=null;this._destroyed=!1;this.fn=p;this.context=e;this.priority=d;this.once=a}match(p,e=null){return this.fn===p&&this.context===e}emit(p){this.fn&&(this.context?this.fn.call(this.context,p):this.fn(p));p=this.next;this.once&&this.destroy(!0);this._destroyed&&(this.next=null);return p}connect(p){this.previous=p;p.next&&(p.next.previous=this);this.next=
p.next;p.next=this}destroy(p=!1){this._destroyed=!0;this.context=this.fn=null;this.previous&&(this.previous.next=this.next);this.next&&(this.next.previous=this.previous);const e=this.next;this.next=p?null:e;this.previous=null;return e}}k.TickerListener=m};
shadow$provide[170]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(168),p=l(169);const e=class{constructor(){this.autoStart=!1;this.deltaTime=1;this.lastTime=-1;this.speed=1;this.started=!1;this._requestId=null;this._maxElapsedMS=100;this._minElapsedMS=0;this._protected=!1;this._lastFrame=-1;this._head=new p.TickerListener(null,null,Infinity);this.deltaMS=1/e.targetFPMS;this.elapsedMS=1/e.targetFPMS;this._tick=d=>{this._requestId=null;this.started&&(this.update(d),this.started&&
null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this._lastFrame=this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(d,a,c=m.UPDATE_PRIORITY.NORMAL){return this._addListener(new p.TickerListener(d,
a,c))}addOnce(d,a,c=m.UPDATE_PRIORITY.NORMAL){return this._addListener(new p.TickerListener(d,a,c,!0))}_addListener(d){let a=this._head.next,c=this._head;if(a){for(;a;){if(d.priority>a.priority){d.connect(c);break}c=a;a=a.next}d.previous||d.connect(c)}else d.connect(c);this._startIfPossible();return this}remove(d,a){let c=this._head.next;for(;c;)c=c.match(d,a)?c.destroy():c.next;this._head.next||this._cancelIfNeeded();return this}get count(){if(!this._head)return 0;let d=0,a=this._head;for(;a=a.next;)d++;
return d}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let d=this._head.next;for(;d;)d=d.destroy(!0);this._head.destroy();this._head=null}}update(d=performance.now()){if(d>this.lastTime){var a=this.elapsedMS=d-this.lastTime;a>this._maxElapsedMS&&(a=this._maxElapsedMS);a*=this.speed;if(this._minElapsedMS){var c=d-this._lastFrame|0;if(c<this._minElapsedMS)return;this._lastFrame=
d-c%this._minElapsedMS}this.deltaMS=a;this.deltaTime=this.deltaMS*e.targetFPMS;a=this._head;for(c=a.next;c;)c=c.emit(this.deltaTime);a.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=d}get FPS(){return 1E3/this.elapsedMS}get minFPS(){return 1E3/this._maxElapsedMS}set minFPS(d){this._maxElapsedMS=1/Math.min(Math.max(0,Math.min(this.maxFPS,d))/1E3,e.targetFPMS)}get maxFPS(){return this._minElapsedMS?Math.round(1E3/this._minElapsedMS):0}set maxFPS(d){this._minElapsedMS=
0===d?0:1/(Math.max(this.minFPS,d)/1E3)}static get shared(){if(!e._shared){const d=e._shared=new e;d.autoStart=!0;d._protected=!0}return e._shared}static get system(){if(!e._system){const d=e._system=new e;d.autoStart=!0;d._protected=!0}return e._system}};r=e;r.targetFPMS=.06;k.Ticker=r};
shadow$provide[171]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(8),p=l(59),e=l(170);Object.defineProperties(m.settings,{TARGET_FPMS:{get(){return e.Ticker.targetFPMS},set(d){p.deprecation("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS");e.Ticker.targetFPMS=d}}});Object.defineProperty(k,"settings",{enumerable:!0,get:function(){return m.settings}})};
shadow$provide[172]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(60);var m=l(168),p=l(170);class e{static init(d){d=Object.assign({autoStart:!0,sharedTicker:!1},d);Object.defineProperty(this,"ticker",{set(a){this._ticker&&this._ticker.remove(this.render,this);(this._ticker=a)&&a.add(this.render,this,m.UPDATE_PRIORITY.LOW)},get(){return this._ticker}});this.stop=()=>{this._ticker.stop()};this.start=()=>{this._ticker.start()};this._ticker=null;this.ticker=d.sharedTicker?p.Ticker.shared:
new p.Ticker;d.autoStart&&this.start()}static destroy(){if(this._ticker){const d=this._ticker;this.ticker=null;d.destroy()}}}e.extension=r.ExtensionType.Application;r.extensions.add(e);k.TickerPlugin=e};
shadow$provide[173]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});l(171);r=l(168);B=l(170);l=l(172);k.UPDATE_PRIORITY=r.UPDATE_PRIORITY;k.Ticker=B.Ticker;k.TickerPlugin=l.TickerPlugin};
shadow$provide[174]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(60);const m=[];r.extensions.handleByList(r.ExtensionType.Renderer,m);k.autoDetectRenderer=function(p){for(const e of m)if(e.test(p))return new e(p);throw Error("Unable to auto-detect a suitable renderer.");}};
shadow$provide[175]=function(r,l,B,k){};
shadow$provide[176]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position \x3d vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord \x3d aTextureCoord;\n}"};
shadow$provide[177]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position \x3d aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position \x3d filterVertexPosition();\n    vTextureCoord \x3d filterTextureCoord();\n}\n"};
shadow$provide[178]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(176);l=l(177);r=r["default"];k.defaultFilterVertex=l["default"];k.defaultVertex=r};
shadow$provide[179]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);r=l(60);class p{constructor(e){this.renderer=e}contextChange(e){let d;if(1===this.renderer.context.webGLVersion){var a=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null);d=e.getParameter(e.SAMPLES);e.bindFramebuffer(e.FRAMEBUFFER,a)}else a=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,
a);this.multisample=d>=m.MSAA_QUALITY.HIGH?m.MSAA_QUALITY.HIGH:d>=m.MSAA_QUALITY.MEDIUM?m.MSAA_QUALITY.MEDIUM:d>=m.MSAA_QUALITY.LOW?m.MSAA_QUALITY.LOW:m.MSAA_QUALITY.NONE}destroy(){}}p.extension={type:r.ExtensionType.RendererSystem,name:"_multisample"};r.extensions.add(p);k.MultisampleSystem=p};
shadow$provide[180]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{constructor(p){this.buffer=p||null;this.byteLength=this.updateID=-1;this.refCount=0}}k.GLBuffer=m};
shadow$provide[181]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(60);var m=l(180);class p{constructor(e){this.renderer=e;this.managedBuffers={};this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0);this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const {gl:d,CONTEXT_UID:a}=this,c=e._glBuffers[a]||this.createGLBuffer(e);d.bindBuffer(e.type,c.buffer)}unbind(e){const {gl:d}=this;d.bindBuffer(e,null)}bindBufferBase(e,
d){const {gl:a,CONTEXT_UID:c}=this;if(this.boundBufferBases[d]!==e){const b=e._glBuffers[c]||this.createGLBuffer(e);this.boundBufferBases[d]=e;a.bindBufferBase(a.UNIFORM_BUFFER,d,b.buffer)}}bindBufferRange(e,d,a){const {gl:c,CONTEXT_UID:b}=this;a=a||0;e=e._glBuffers[b]||this.createGLBuffer(e);c.bindBufferRange(c.UNIFORM_BUFFER,d||0,e.buffer,256*a,256)}update(e){const {gl:d,CONTEXT_UID:a}=this,c=e._glBuffers[a]||this.createGLBuffer(e);if(e._updateID!==c.updateID)if(c.updateID=e._updateID,d.bindBuffer(e.type,
c.buffer),c.byteLength>=e.data.byteLength)d.bufferSubData(e.type,0,e.data);else{const b=e.static?d.STATIC_DRAW:d.DYNAMIC_DRAW;c.byteLength=e.data.byteLength;d.bufferData(e.type,e.data,b)}}dispose(e,d){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var a=e._glBuffers[this.CONTEXT_UID],c=this.gl;e.disposeRunner.remove(this);a&&(d||c.deleteBuffer(a.buffer),delete e._glBuffers[this.CONTEXT_UID])}}disposeAll(e){const d=Object.keys(this.managedBuffers);for(let a=0;a<d.length;a++)this.dispose(this.managedBuffers[d[a]],
e)}createGLBuffer(e){const {CONTEXT_UID:d,gl:a}=this;e._glBuffers[d]=new m.GLBuffer(a.createBuffer());this.managedBuffers[e.id]=e;e.disposeRunner.add(this);return e._glBuffers[d]}}p.extension={type:r.ExtensionType.RendererSystem,name:"buffer"};r.extensions.add(p);k.BufferSystem=p};
shadow$provide[182]=function(r,l,B,k){};
shadow$provide[183]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(60);class m{constructor(p){this.renderer=p}render(p,e){const d=this.renderer;let a,c;let b;if(e){a=e.renderTexture;c=e.clear;var g=e.transform;b=e.skipUpdateTransform}this.renderingToScreen=!a;d.runners.prerender.emit();d.emit("prerender");d.projection.transform=g;d.context.isLost||(a||(this.lastObjectRendered=p),b||(g=p.enableTempParent(),p.updateTransform(),p.disableTempParent(g)),d.renderTexture.bind(a),
d.batch.currentRenderer.start(),(c??d.background.clearBeforeRender)&&d.renderTexture.clear(),p.render(d),d.batch.currentRenderer.flush(),a&&(e.blit&&d.framebuffer.blit(),a.baseTexture.update()),d.runners.postrender.emit(),d.projection.transform=null,d.emit("postrender"))}destroy(){this.lastObjectRendered=this.renderer=null}}m.extension={type:r.ExtensionType.RendererSystem,name:"objectRenderer"};r.extensions.add(m);k.ObjectRendererSystem=m};
shadow$provide[184]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);r=l(60);var p=l(89),e=l(8),d=l(59),a=l(105);l=l(159);const c=class extends l.SystemManager{constructor(b){super();this.type=m.RENDERER_TYPE.WEBGL;b=Object.assign({},e.settings.RENDER_OPTIONS,b);this.gl=null;this.CONTEXT_UID=0;this.globalUniforms=new a.UniformGroup({projectionMatrix:new p.Matrix},!0);this.setup({runners:"init destroy contextChange resolutionChange reset update postrender prerender resize".split(" "),
systems:c.__systems,priority:"_view textureGenerator background _plugin startup context state texture buffer geometry framebuffer transformFeedback mask scissor stencil projection textureGC filter renderTexture batch objectRenderer _multisample".split(" ")});"useContextAlpha"in b&&(d.deprecation("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),b.premultipliedAlpha=b.useContextAlpha&&"notMultiplied"!==b.useContextAlpha,b.backgroundAlpha=
!1===b.useContextAlpha?1:b.backgroundAlpha);this._plugin.rendererPlugins=c.__plugins;this.options=b;this.startup.run(this.options)}static test(b){return b?.forceCanvas?!1:d.isWebGLSupported()}render(b,g){this.objectRenderer.render(b,g)}resize(b,g){this._view.resizeView(b,g)}reset(){this.runners.reset.emit();return this}clear(){this.renderTexture.bind();this.renderTexture.clear()}destroy(b=!1){this.runners.destroy.items.reverse();this.emitWithCustomOptions(this.runners.destroy,{_view:b});super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(b){this._view.resolution=
b;this.runners.resolutionChange.emit(b)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){d.deprecation("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead.");
return this.background.clearBeforeRender}get useContextAlpha(){d.deprecation("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead.");return this.context.useContextAlpha}get preserveDrawingBuffer(){d.deprecation("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context");return this.context.preserveDrawingBuffer}get backgroundColor(){d.deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead.");
return this.background.color}set backgroundColor(b){d.deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead.");this.background.color=b}get backgroundAlpha(){d.deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead.");return this.background.alpha}set backgroundAlpha(b){d.deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead.");this.background.alpha=
b}get powerPreference(){d.deprecation("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context");return this.context.powerPreference}generateTexture(b,g){return this.textureGenerator.generateTexture(b,g)}};l=c;l.extension={type:r.ExtensionType.Renderer,priority:1};l.__plugins={};l.__systems={};r.extensions.handleByMap(r.ExtensionType.RendererPlugin,l.__plugins);r.extensions.handleByMap(r.ExtensionType.RendererSystem,l.__systems);r.extensions.add(l);
k.Renderer=l};
shadow$provide[185]=function(r,l,B,k){};
shadow$provide[186]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(69),p=l(64),e=l(67);class d extends e.Resource{constructor(a,c){const {width:b,height:g}=c||{};super(b,g);this.items=[];this.itemDirtyIds=[];for(c=0;c<a;c++){const f=new m.BaseTexture;this.items.push(f);this.itemDirtyIds.push(-2)}this.length=a;this.baseTexture=this._load=null}initFromArray(a,c){for(let b=0;b<this.length;b++)a[b]&&(a[b].castToBaseTexture?this.addBaseTextureAt(a[b].castToBaseTexture(),b):
a[b]instanceof e.Resource?this.addResourceAt(a[b],b):this.addResourceAt(p.autoDetectResource(a[b],c),b))}dispose(){for(let a=0,c=this.length;a<c;a++)this.items[a].destroy();this._load=this.itemDirtyIds=this.items=null}addResourceAt(a,c){if(!this.items[c])throw Error(`Index ${c} is out of bounds`);a.valid&&!this.valid&&this.resize(a.width,a.height);this.items[c].setResource(a);return this}bind(a){if(null!==this.baseTexture)throw Error("Only one base texture per TextureArray is allowed");super.bind(a);
for(let c=0;c<this.length;c++)this.items[c].parentTextureArray=a,this.items[c].on("update",a.update,a)}unbind(a){super.unbind(a);for(let c=0;c<this.length;c++)this.items[c].parentTextureArray=null,this.items[c].off("update",a.update,a)}load(){if(this._load)return this._load;const a=this.items.map(c=>c.resource).filter(c=>c).map(c=>c.load());return this._load=Promise.all(a).then(()=>{const {realWidth:c,realHeight:b}=this.items[0];this.resize(c,b);return Promise.resolve(this)})}}k.AbstractMultiResource=
d};
shadow$provide[187]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);r=l(186);class p extends r.AbstractMultiResource{constructor(e,d){const {width:a,height:c}=d||{};let b;Array.isArray(e)&&(b=e,e=e.length);super(e,{width:a,height:c});b&&this.initFromArray(b,d)}addBaseTextureAt(e,d){if(e.resource)this.addResourceAt(e.resource,d);else throw Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e);e.target=m.TARGETS.TEXTURE_2D_ARRAY}upload(e,
d,a){const {length:c,itemDirtyIds:b,items:g}=this;({gl:e}=e);0>a.dirtyId&&e.texImage3D(e.TEXTURE_2D_ARRAY,0,a.internalFormat,this._width,this._height,c,0,d.format,a.type,null);for(let f=0;f<c;f++){const h=g[f];b[f]<h.dirtyId&&(b[f]=h.dirtyId,h.valid&&e.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,f,h.resource.width,h.resource.height,1,d.format,a.type,h.resource.source))}return!0}}k.ArrayResource=p};
shadow$provide[188]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(124);class m extends r.BaseImageResource{constructor(p){super(p)}static test(p){const {OffscreenCanvas:e}=globalThis;return e&&p instanceof e?!0:globalThis.HTMLCanvasElement&&p instanceof HTMLCanvasElement}}k.CanvasResource=m};
shadow$provide[189]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0);r=l(186);const p=class extends r.AbstractMultiResource{constructor(e,d){const {width:a,height:c,autoLoad:b,linkBaseTexture:g}=d||{};if(e&&e.length!==p.SIDES)throw Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:a,height:c});for(let f=0;f<p.SIDES;f++)this.items[f].target=m.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+f;this.linkBaseTexture=!1!==g;e&&this.initFromArray(e,d);!1!==b&&this.load()}bind(e){super.bind(e);
e.target=m.TARGETS.TEXTURE_CUBE_MAP}addBaseTextureAt(e,d,a){if(!this.items[d])throw Error(`Index ${d} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||0<Object.keys(e._glTextures).length)if(e.resource)this.addResourceAt(e.resource,d);else throw Error("CubeResource does not support copying of renderTexture.");else e.target=m.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+d,e.parentTextureArray=this.baseTexture,this.items[d]=e;e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight);this.items[d]=
e;return this}upload(e,d,a){const c=this.itemDirtyIds;for(let b=0;b<p.SIDES;b++){const g=this.items[b];if(c[b]<g.dirtyId||a.dirtyId<d.dirtyId)g.valid&&g.resource?(g.resource.upload(e,g,a),c[b]=g.dirtyId):-1>c[b]&&(e.gl.texImage2D(g.target,0,a.internalFormat,d.realWidth,d.realHeight,0,d.format,a.type,null),c[b]=-1)}return!0}static test(e){return Array.isArray(e)&&e.length===p.SIDES}};r=p;r.SIDES=6;k.CubeResource=r};
shadow$provide[190]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(0),p=l(8);r=l(124);class e extends r.BaseImageResource{constructor(d,a){a=a||{};let c;"string"===typeof d?c=e.EMPTY:(c=d,d=null);super(c);this.url=d;this.crossOrigin=a.crossOrigin??!0;this.alphaMode="number"===typeof a.alphaMode?a.alphaMode:null;this._load=null;!1!==a.autoLoad&&this.load()}load(){return this._load?this._load:this._load=new Promise(async(d,a)=>{if(null===this.url)d(this);else try{const g=
await p.settings.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(!this.destroyed){var c=await g.blob();if(!this.destroyed){var b=await createImageBitmap(c,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===m.ALPHA_MODES.UNPACK?"premultiply":"none"});this.destroyed||(this.source=b,this.update(),d(this))}}}catch(g){this.destroyed||(a(g),this.onError.emit(g))}})}upload(d,a,c){if(!(this.source instanceof ImageBitmap))return this.load(),!1;"number"===typeof this.alphaMode&&(a.alphaMode=
this.alphaMode);return super.upload(d,a,c)}dispose(){this.source instanceof ImageBitmap&&this.source.close();super.dispose();this._load=null}static test(d){return!!globalThis.createImageBitmap&&"undefined"!==typeof ImageBitmap&&("string"===typeof d||d instanceof ImageBitmap)}static get EMPTY(){e._EMPTY=e._EMPTY??p.settings.ADAPTER.createCanvas(0,0);return e._EMPTY}}k.ImageBitmapResource=e};
shadow$provide[191]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(8),p=l(59),e=l(124);const d=class extends e.BaseImageResource{constructor(a,c){c=c||{};super(m.settings.ADAPTER.createCanvas());this._height=this._width=0;this.svg=a;this.scale=c.scale||1;this._overrideWidth=c.width;this._overrideHeight=c.height;this._resolve=null;this._crossorigin=c.crossorigin;this._load=null;!1!==c.autoLoad&&this.load()}load(){return this._load?this._load:this._load=new Promise(a=>{this._resolve=
()=>{this.resize(this.source.width,this.source.height);a(this)};if(d.SVG_XML.test(this.svg.trim())){if(!btoa)throw Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()})}_loadSvg(){const a=new Image;e.BaseImageResource.crossOrigin(a,this.svg,this._crossorigin);a.src=this.svg;a.onerror=c=>{this._resolve&&(a.onerror=null,this.onError.emit(c))};a.onload=()=>{if(this._resolve){var c=a.width,b=a.height;
if(!c||!b)throw Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var g=c*this.scale,f=b*this.scale;if(this._overrideWidth||this._overrideHeight)g=this._overrideWidth||this._overrideHeight/b*c,f=this._overrideHeight||this._overrideWidth/c*b;g=Math.round(g);f=Math.round(f);var h=this.source;h.width=g;h.height=f;h._pixiId=`canvas_${p.uid()}`;h.getContext("2d").drawImage(a,0,0,c,b,0,0,g,f);this._resolve();this._resolve=null}}}static getSize(a){a=d.SVG_SIZE.exec(a);
const c={};a&&(c[a[1]]=Math.round(parseFloat(a[3])),c[a[5]]=Math.round(parseFloat(a[7])));return c}dispose(){super.dispose();this._crossorigin=this._resolve=null}static test(a,c){return"svg"===c||"string"===typeof a&&a.startsWith("data:image/svg+xml")||"string"===typeof a&&d.SVG_XML.test(a)}};r=d;r.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(\x3c!--[^(--\x3e)]*--\x3e)?\s*<svg/m;r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;
k.SVGResource=r};
shadow$provide[192]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(173),p=l(124);const e=class extends p.BaseImageResource{constructor(d,a){a=a||{};if(!(d instanceof HTMLVideoElement)){const b=document.createElement("video");b.setAttribute("preload","auto");b.setAttribute("webkit-playsinline","");b.setAttribute("playsinline","");"string"===typeof d&&(d=[d]);p.BaseImageResource.crossOrigin(b,d[0].src||d[0],a.crossorigin);for(let g=0;g<d.length;++g){const f=document.createElement("source");
let {src:h,mime:n}=d[g];h=h||d[g];var c=h.split("?").shift().toLowerCase();c=c.slice(c.lastIndexOf(".")+1);n=n||e.MIME_TYPES[c]||`video/${c}`;f.src=h;f.type=n;b.appendChild(f)}d=b}super(d);this._autoUpdate=this.noSubImage=!0;this._isConnectedToTicker=!1;this._updateFPS=a.updateFPS||0;this._msToNextUpdate=0;this.autoPlay=!1!==a.autoPlay;this._resolve=this._load=null;this._onCanPlay=this._onCanPlay.bind(this);this._onError=this._onError.bind(this);!1!==a.autoLoad&&this.load()}update(d){!this.destroyed&&
(this._msToNextUpdate=Math.floor(this._msToNextUpdate-m.Ticker.shared.elapsedMS*this.source.playbackRate),!this._updateFPS||0>=this._msToNextUpdate)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1E3/this._updateFPS):0)}load(){if(this._load)return this._load;const d=this.source;(d.readyState===d.HAVE_ENOUGH_DATA||d.readyState===d.HAVE_FUTURE_DATA)&&d.width&&d.height&&(d.complete=!0);d.addEventListener("play",this._onPlayStart.bind(this));d.addEventListener("pause",this._onPlayStop.bind(this));
this._isSourceReady()?this._onCanPlay():(d.addEventListener("canplay",this._onCanPlay),d.addEventListener("canplaythrough",this._onCanPlay),d.addEventListener("error",this._onError,!0));return this._load=new Promise(a=>{this.valid?a(this):(this._resolve=a,d.load())})}_onError(d){this.source.removeEventListener("error",this._onError,!0);this.onError.emit(d)}_isSourcePlaying(){const d=this.source;return!d.paused&&!d.ended&&this._isSourceReady()}_isSourceReady(){return 2<this.source.readyState}_onPlayStart(){this.valid||
this._onCanPlay();this.autoUpdate&&!this._isConnectedToTicker&&(m.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(m.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const d=this.source;d.removeEventListener("canplay",this._onCanPlay);d.removeEventListener("canplaythrough",this._onCanPlay);const a=this.valid;this.resize(d.videoWidth,d.videoHeight);!a&&this._resolve&&(this._resolve(this),this._resolve=null);
this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&d.play()}dispose(){this._isConnectedToTicker&&(m.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);const d=this.source;d&&(d.removeEventListener("error",this._onError,!0),d.pause(),d.src="",d.load());super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(d){d!==this._autoUpdate&&(this._autoUpdate=d,!this._autoUpdate&&this._isConnectedToTicker?(m.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=
!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(m.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(d){d!==this._updateFPS&&(this._updateFPS=d)}static test(d,a){return globalThis.HTMLVideoElement&&d instanceof HTMLVideoElement||e.TYPES.includes(a)}};r=e;r.TYPES="mp4 m4v webm ogg ogv h264 avi mov".split(" ");r.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};k.VideoResource=r};
shadow$provide[193]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(187);B=l(64);var m=l(68),p=l(188),e=l(189),d=l(190),a=l(125),c=l(191),b=l(192),g=l(124),f=l(67);l=l(186);B.INSTALLED.push(d.ImageBitmapResource,a.ImageResource,p.CanvasResource,b.VideoResource,c.SVGResource,m.BufferResource,e.CubeResource,r.ArrayResource);k.ArrayResource=r.ArrayResource;k.INSTALLED=B.INSTALLED;k.autoDetectResource=B.autoDetectResource;k.BufferResource=m.BufferResource;k.CanvasResource=p.CanvasResource;
k.CubeResource=e.CubeResource;k.ImageBitmapResource=d.ImageBitmapResource;k.ImageResource=a.ImageResource;k.SVGResource=c.SVGResource;k.VideoResource=b.VideoResource;k.BaseImageResource=g.BaseImageResource;k.Resource=f.Resource;k.AbstractMultiResource=l.AbstractMultiResource};
shadow$provide[194]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(66);class p{constructor(){this._glTransformFeedbacks={};this.buffers=[];this.disposeRunner=new m.Runner("disposeTransformFeedback")}bindBuffer(e,d){this.buffers[e]=d}destroy(){this.disposeRunner.emit(this,!1)}}k.TransformFeedback=p};
shadow$provide[195]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});l(167);var m=l(39),p=l(0),e=l(60),d=l(89),a=l(66),c=l(8),b=l(173),g=l(59);r=l(174);B=l(118);var f=l(70),h=l(75),n=l(114),q=l(107),t=l(119),u=l(108),w=l(111),x=l(120),y=l(117),z=l(132),C=l(133);l(175);var A=l(140),v=l(178),F=l(122),I=l(135),H=l(134),M=l(179),K=l(72),E=l(71),L=l(181),D=l(74),G=l(136),J=l(61);l(182);var N=l(141),R=l(142),Q=l(144),S=l(145),W=l(146),X=l(147),ha=l(183),ba=l(184),ma=l(123),ia=l(148),ea=
l(128),Ca=l(129),va=l(149),sa=l(150),ua=l(104),ta=l(106),pa=l(155),ca=l(105),wa=l(62),xa=l(153),ra=l(154),ya=l(96),ja=l(94),P=l(102),O=l(156),T=l(63),Z=l(158);l(185);l(166);var aa=l(69),qa=l(161);l(193);var da=l(127),V=l(160),la=l(137),Y=l(163),oa=l(126),Ea=l(194),fa=l(164),za=l(130),Aa=l(131),ka=l(165),na=l(159),Da=l(124),Ia=l(67),Ja=l(186),Ka=l(187),Ga=l(64),La=l(68),Ma=l(188),Na=l(189),Oa=l(190),Pa=l(125),Qa=l(191);l=l(192);g=function(U){if(U&&U.__esModule)return U;var Fa=Object.create(null);U&&
Object.keys(U).forEach(function(Ba){if("default"!==Ba){var Ha=Object.getOwnPropertyDescriptor(U,Ba);Object.defineProperty(Fa,Ba,Ha.get?Ha:{enumerable:!0,get:function(){return U[Ba]}})}});Fa["default"]=U;return Fa}(g);k.utils=g;k.autoDetectRenderer=r.autoDetectRenderer;k.BackgroundSystem=B.BackgroundSystem;k.BatchDrawCall=f.BatchDrawCall;k.BatchGeometry=h.BatchGeometry;k.BatchRenderer=n.BatchRenderer;k.BatchShaderGenerator=q.BatchShaderGenerator;k.BatchSystem=t.BatchSystem;k.BatchTextureArray=u.BatchTextureArray;
k.ObjectRenderer=w.ObjectRenderer;k.ContextSystem=x.ContextSystem;k.Filter=y.Filter;k.FilterState=z.FilterState;k.FilterSystem=C.FilterSystem;k.SpriteMaskFilter=A.SpriteMaskFilter;k.defaultFilterVertex=v.defaultFilterVertex;k.defaultVertex=v.defaultVertex;k.Framebuffer=F.Framebuffer;k.FramebufferSystem=I.FramebufferSystem;k.GLFramebuffer=H.GLFramebuffer;k.MultisampleSystem=M.MultisampleSystem;k.Attribute=K.Attribute;k.Buffer=E.Buffer;k.BufferSystem=L.BufferSystem;k.Geometry=D.Geometry;k.GeometrySystem=
G.GeometrySystem;k.ViewableBuffer=J.ViewableBuffer;k.MaskData=N.MaskData;k.MaskSystem=R.MaskSystem;k.ScissorSystem=Q.ScissorSystem;k.StencilSystem=S.StencilSystem;k.PluginSystem=W.PluginSystem;k.ProjectionSystem=X.ProjectionSystem;k.ObjectRendererSystem=ha.ObjectRendererSystem;k.Renderer=ba.Renderer;k.BaseRenderTexture=ma.BaseRenderTexture;k.GenerateTextureSystem=ia.GenerateTextureSystem;k.RenderTexture=ea.RenderTexture;k.RenderTexturePool=Ca.RenderTexturePool;k.RenderTextureSystem=va.RenderTextureSystem;
k.GLProgram=sa.GLProgram;k.IGLUniformData=sa.IGLUniformData;k.Program=ua.Program;k.Shader=ta.Shader;k.ShaderSystem=pa.ShaderSystem;k.UniformGroup=ca.UniformGroup;k.checkMaxIfStatementsInShader=wa.checkMaxIfStatementsInShader;k.generateProgram=xa.generateProgram;k.createUBOElements=ra.createUBOElements;k.generateUniformBufferSync=ra.generateUniformBufferSync;k.getUBOData=ra.getUBOData;k.getTestContext=ya.getTestContext;k.uniformParsers=ja.uniformParsers;k.unsafeEvalSupported=P.unsafeEvalSupported;
k.StartupSystem=O.StartupSystem;k.State=T.State;k.StateSystem=Z.StateSystem;k.BaseTexture=aa.BaseTexture;k.GLTexture=qa.GLTexture;k.Texture=da.Texture;k.TextureGCSystem=V.TextureGCSystem;k.TextureMatrix=la.TextureMatrix;k.TextureSystem=Y.TextureSystem;k.TextureUvs=oa.TextureUvs;k.TransformFeedback=Ea.TransformFeedback;k.TransformFeedbackSystem=fa.TransformFeedbackSystem;k.Quad=za.Quad;k.QuadUv=Aa.QuadUv;k.ViewSystem=ka.ViewSystem;k.SystemManager=na.SystemManager;k.BaseImageResource=Da.BaseImageResource;
k.Resource=Ia.Resource;k.AbstractMultiResource=Ja.AbstractMultiResource;k.ArrayResource=Ka.ArrayResource;k.INSTALLED=Ga.INSTALLED;k.autoDetectResource=Ga.autoDetectResource;k.BufferResource=La.BufferResource;k.CanvasResource=Ma.CanvasResource;k.CubeResource=Na.CubeResource;k.ImageBitmapResource=Oa.ImageBitmapResource;k.ImageResource=Pa.ImageResource;k.SVGResource=Qa.SVGResource;k.VideoResource=l.VideoResource;k.VERSION="7.2.4";Object.keys(m).forEach(function(U){"default"===U||k.hasOwnProperty(U)||
Object.defineProperty(k,U,{enumerable:!0,get:function(){return m[U]}})});Object.keys(p).forEach(function(U){"default"===U||k.hasOwnProperty(U)||Object.defineProperty(k,U,{enumerable:!0,get:function(){return p[U]}})});Object.keys(e).forEach(function(U){"default"===U||k.hasOwnProperty(U)||Object.defineProperty(k,U,{enumerable:!0,get:function(){return e[U]}})});Object.keys(d).forEach(function(U){"default"===U||k.hasOwnProperty(U)||Object.defineProperty(k,U,{enumerable:!0,get:function(){return d[U]}})});
Object.keys(a).forEach(function(U){"default"===U||k.hasOwnProperty(U)||Object.defineProperty(k,U,{enumerable:!0,get:function(){return a[U]}})});Object.keys(c).forEach(function(U){"default"===U||k.hasOwnProperty(U)||Object.defineProperty(k,U,{enumerable:!0,get:function(){return c[U]}})});Object.keys(b).forEach(function(U){"default"===U||k.hasOwnProperty(U)||Object.defineProperty(k,U,{enumerable:!0,get:function(){return b[U]}})})};
shadow$provide[196]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);class p{constructor(){this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity;this.rect=null;this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity}getRectangle(e){if(this.minX>this.maxX||this.minY>this.maxY)return m.Rectangle.EMPTY;e=e||new m.Rectangle(0,0,1,1);e.x=this.minX;e.y=this.minY;e.width=this.maxX-this.minX;
e.height=this.maxY-this.minY;return e}addPoint(e){this.minX=Math.min(this.minX,e.x);this.maxX=Math.max(this.maxX,e.x);this.minY=Math.min(this.minY,e.y);this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,d){const {a,b:c,c:b,d:g,tx:f,ty:h}=e;e=a*d.x+b*d.y+f;d=c*d.x+g*d.y+h;this.minX=Math.min(this.minX,e);this.maxX=Math.max(this.maxX,e);this.minY=Math.min(this.minY,d);this.maxY=Math.max(this.maxY,d)}addQuad(e){let d=this.minX,a=this.minY,c=this.maxX,b=this.maxY,g=e[0],f=e[1];d=g<d?g:d;a=f<a?f:a;c=g>
c?g:c;b=f>b?f:b;g=e[2];f=e[3];d=g<d?g:d;a=f<a?f:a;c=g>c?g:c;b=f>b?f:b;g=e[4];f=e[5];d=g<d?g:d;a=f<a?f:a;c=g>c?g:c;b=f>b?f:b;g=e[6];f=e[7];this.minX=g<d?g:d;this.minY=f<a?f:a;this.maxX=g>c?g:c;this.maxY=f>b?f:b}addFrame(e,d,a,c,b){this.addFrameMatrix(e.worldTransform,d,a,c,b)}addFrameMatrix(e,d,a,c,b){const g=e.a,f=e.b,h=e.c,n=e.d,q=e.tx;e=e.ty;let t=this.minX,u=this.minY,w=this.maxX,x=this.maxY,y=g*d+h*a+q,z=f*d+n*a+e;t=y<t?y:t;u=z<u?z:u;w=y>w?y:w;x=z>x?z:x;y=g*c+h*a+q;z=f*c+n*a+e;t=y<t?y:t;u=z<u?
z:u;w=y>w?y:w;x=z>x?z:x;y=g*d+h*b+q;z=f*d+n*b+e;t=y<t?y:t;u=z<u?z:u;w=y>w?y:w;x=z>x?z:x;y=g*c+h*b+q;z=f*c+n*b+e;this.minX=y<t?y:t;this.minY=z<u?z:u;this.maxX=y>w?y:w;this.maxY=z>x?z:x}addVertexData(e,d,a){let c=this.minX,b=this.minY,g=this.maxX,f=this.maxY;for(;d<a;d+=2){const h=e[d],n=e[d+1];c=h<c?h:c;b=n<b?n:b;g=h>g?h:g;f=n>f?n:f}this.minX=c;this.minY=b;this.maxX=g;this.maxY=f}addVertices(e,d,a,c){this.addVerticesMatrix(e.worldTransform,d,a,c)}addVerticesMatrix(e,d,a,c,b=0,g=b){const f=e.a,h=e.b,
n=e.c,q=e.d,t=e.tx;e=e.ty;let u=this.minX,w=this.minY,x=this.maxX,y=this.maxY;for(;a<c;a+=2){var z=d[a];const C=d[a+1],A=f*z+n*C+t;z=q*C+h*z+e;u=Math.min(u,A-b);x=Math.max(x,A+b);w=Math.min(w,z-g);y=Math.max(y,z+g)}this.minX=u;this.minY=w;this.maxX=x;this.maxY=y}addBounds(e){const d=this.minX,a=this.minY,c=this.maxX,b=this.maxY;this.minX=e.minX<d?e.minX:d;this.minY=e.minY<a?e.minY:a;this.maxX=e.maxX>c?e.maxX:c;this.maxY=e.maxY>b?e.maxY:b}addBoundsMask(e,d){const a=e.minX>d.minX?e.minX:d.minX,c=e.minY>
d.minY?e.minY:d.minY,b=e.maxX<d.maxX?e.maxX:d.maxX;e=e.maxY<d.maxY?e.maxY:d.maxY;if(a<=b&&c<=e){d=this.minX;const g=this.minY,f=this.maxX,h=this.maxY;this.minX=a<d?a:d;this.minY=c<g?c:g;this.maxX=b>f?b:f;this.maxY=e>h?e:h}}addBoundsMatrix(e,d){this.addFrameMatrix(d,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,d){const a=e.minX>d.x?e.minX:d.x,c=e.minY>d.y?e.minY:d.y,b=e.maxX<d.x+d.width?e.maxX:d.x+d.width;e=e.maxY<d.y+d.height?e.maxY:d.y+d.height;if(a<=b&&c<=e){d=this.minX;const g=this.minY,f=this.maxX,
h=this.maxY;this.minX=a<d?a:d;this.minY=c<g?c:g;this.maxX=b>f?b:f;this.maxY=e>h?e:h}}pad(e=0,d=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=d,this.maxY+=d)}addFramePad(e,d,a,c,b,g){e-=b;d-=g;a+=b;c+=g;this.minX=this.minX<e?this.minX:e;this.maxX=this.maxX>a?this.maxX:a;this.minY=this.minY<d?this.minY:d;this.maxY=this.maxY>c?this.maxY:c}}k.Bounds=p};
shadow$provide[197]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(196);class e extends m.utils.EventEmitter{constructor(){super();this.tempDisplayObjectParent=null;this.transform=new m.Transform;this.alpha=1;this.renderable=this.visible=!0;this.cullable=!1;this.parent=this.cullArea=null;this.worldAlpha=1;this._zIndex=this._lastSortedIndex=0;this._enabledFilters=this.filters=this.filterArea=null;this._bounds=new p.Bounds;this._localBounds=null;this._boundsID=0;
this._mask=this._localBoundsRect=this._boundsRect=null;this._maskRefCount=0;this.isMask=this.isSprite=this._destroyed=!1}static mixin(a){const c=Object.keys(a);for(let b=0;b<c.length;++b){const g=c[b];Object.defineProperty(e.prototype,g,Object.getOwnPropertyDescriptor(a,g))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++;
this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(a,c){a||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null));this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID);c||(this._boundsRect||(this._boundsRect=new m.Rectangle),c=this._boundsRect);return this._bounds.getRectangle(c)}getLocalBounds(a){a||
(this._localBoundsRect||(this._localBoundsRect=new m.Rectangle),a=this._localBoundsRect);this._localBounds||(this._localBounds=new p.Bounds);const c=this.transform,b=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;const g=this._bounds,f=this._boundsID;this._bounds=this._localBounds;a=this.getBounds(!1,a);this.parent=b;this.transform=c;this._bounds=g;this._bounds.updateID+=this._boundsID-f;return a}toGlobal(a,c,b=!1){b||(this._recursivePostUpdateTransform(),this.parent?
this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null));return this.worldTransform.apply(a,c)}toLocal(a,c,b,g){c&&(a=c.toGlobal(a,b,g));g||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null));return this.worldTransform.applyInverse(a,b)}setParent(a){if(!a||!a.addChild)throw Error("setParent: Argument must be a Container");
a.addChild(this);return a}removeFromParent(){this.parent?.removeChild(this)}setTransform(a=0,c=0,b=1,g=1,f=0,h=0,n=0,q=0,t=0){this.position.x=a;this.position.y=c;this.scale.x=b?b:1;this.scale.y=g?g:1;this.rotation=f;this.skew.x=h;this.skew.y=n;this.pivot.x=q;this.pivot.y=t;return this}destroy(a){this.removeFromParent();this._destroyed=!0;this.hitArea=this.filterArea=this.filters=this.cullArea=this.mask=this._bounds=this.parent=this.transform=null;this.eventMode="auto";this.interactiveChildren=!1;
this.emit("destroyed");this.removeAllListeners()}get _tempDisplayObjectParent(){null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new d);return this.tempDisplayObjectParent}enableTempParent(){const a=this.parent;this.parent=this._tempDisplayObjectParent;return a}disableTempParent(a){this.parent=a}get x(){return this.position.x}set x(a){this.transform.position.x=a}get y(){return this.position.y}set y(a){this.transform.position.y=a}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(a){this.transform.position.copyFrom(a)}get scale(){return this.transform.scale}set scale(a){this.transform.scale.copyFrom(a)}get pivot(){return this.transform.pivot}set pivot(a){this.transform.pivot.copyFrom(a)}get skew(){return this.transform.skew}set skew(a){this.transform.skew.copyFrom(a)}get rotation(){return this.transform.rotation}set rotation(a){this.transform.rotation=
a}get angle(){return this.transform.rotation*m.RAD_TO_DEG}set angle(a){this.transform.rotation=a*m.DEG_TO_RAD}get zIndex(){return this._zIndex}set zIndex(a){this._zIndex=a;this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0}get mask(){return this._mask}set mask(a){if(this._mask!==a){if(this._mask){const c=this._mask.isMaskData?this._mask.maskObject:this._mask;c&&(c._maskRefCount--,0===c._maskRefCount&&(c.renderable=!0,c.isMask=
!1))}if(this._mask=a)if(a=this._mask.isMaskData?this._mask.maskObject:this._mask)0===a._maskRefCount&&(a.renderable=!1,a.isMask=!0),a._maskRefCount++}}}class d extends e{constructor(){super(...arguments);this.sortDirty=null}}e.prototype.displayObjectUpdateTransform=e.prototype.updateTransform;k.DisplayObject=e;k.TemporaryDisplayObject=d};
shadow$provide[198]=function(r,l,B,k){function m(a,c){return a.zIndex===c.zIndex?a._lastSortedIndex-c._lastSortedIndex:a.zIndex-c.zIndex}Object.defineProperty(k,"__esModule",{value:!0});var p=l(195);r=l(197);const e=new p.Matrix,d=class extends r.DisplayObject{constructor(){super();this.children=[];this.sortableChildren=d.defaultSortableChildren;this.sortDirty=!1}onChildrenChange(a){}addChild(...a){if(1<a.length)for(var c=0;c<a.length;c++)this.addChild(a[c]);else c=a[0],c.parent&&c.parent.removeChild(c),
c.parent=this,this.sortDirty=!0,c.transform._parentID=-1,this.children.push(c),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",c,this,this.children.length-1),c.emit("added",this);return a[0]}addChildAt(a,c){if(0>c||c>this.children.length)throw Error(`${a}addChildAt: The index ${c} supplied is out of bounds ${this.children.length}`);a.parent&&a.parent.removeChild(a);a.parent=this;this.sortDirty=!0;a.transform._parentID=-1;this.children.splice(c,0,a);this._boundsID++;
this.onChildrenChange(c);a.emit("added",this);this.emit("childAdded",a,this,c);return a}swapChildren(a,c){if(a!==c){var b=this.getChildIndex(a),g=this.getChildIndex(c);this.children[b]=c;this.children[g]=a;this.onChildrenChange(b<g?b:g)}}getChildIndex(a){a=this.children.indexOf(a);if(-1===a)throw Error("The supplied DisplayObject must be a child of the caller");return a}setChildIndex(a,c){if(0>c||c>=this.children.length)throw Error(`The index ${c} supplied is out of bounds ${this.children.length}`);
const b=this.getChildIndex(a);p.utils.removeItems(this.children,b,1);this.children.splice(c,0,a);this.onChildrenChange(c)}getChildAt(a){if(0>a||a>=this.children.length)throw Error(`getChildAt: Index (${a}) does not exist.`);return this.children[a]}removeChild(...a){if(1<a.length)for(var c=0;c<a.length;c++)this.removeChild(a[c]);else{c=a[0];const b=this.children.indexOf(c);if(-1===b)return null;c.parent=null;c.transform._parentID=-1;p.utils.removeItems(this.children,b,1);this._boundsID++;this.onChildrenChange(b);
c.emit("removed",this);this.emit("childRemoved",c,this,b)}return a[0]}removeChildAt(a){const c=this.getChildAt(a);c.parent=null;c.transform._parentID=-1;p.utils.removeItems(this.children,a,1);this._boundsID++;this.onChildrenChange(a);c.emit("removed",this);this.emit("childRemoved",c,this,a);return c}removeChildren(a=0,c=this.children.length){var b=c-a;if(0<b&&b<=c){c=this.children.splice(a,b);for(b=0;b<c.length;++b)c[b].parent=null,c[b].transform&&(c[b].transform._parentID=-1);this._boundsID++;this.onChildrenChange(a);
for(a=0;a<c.length;++a)c[a].emit("removed",this),this.emit("childRemoved",c[a],this,a);return c}if(0===b&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.");}sortChildren(){let a=!1;for(let c=0,b=this.children.length;c<b;++c){const g=this.children[c];g._lastSortedIndex=c;a||0===g.zIndex||(a=!0)}a&&1<this.children.length&&this.children.sort(m);this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren();
this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let a=0,c=this.children.length;a<c;++a){const b=this.children[a];b.visible&&b.updateTransform()}}calculateBounds(){this._bounds.clear();this._calculateBounds();for(let a=0;a<this.children.length;a++){const c=this.children[a];if(c.visible&&c.renderable)if(c.calculateBounds(),c._mask){const b=c._mask.isMaskData?c._mask.maskObject:c._mask;b?(b.calculateBounds(),this._bounds.addBoundsMask(c._bounds,
b._bounds)):this._bounds.addBounds(c._bounds)}else c.filterArea?this._bounds.addBoundsArea(c._bounds,c.filterArea):this._bounds.addBounds(c._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(a,c=!1){a=super.getLocalBounds(a);if(!c)for(let b=0,g=this.children.length;b<g;++b)c=this.children[b],c.visible&&c.updateTransform();return a}_calculateBounds(){}_renderWithCulling(a){var c=a.renderTexture.sourceFrame;if(0<c.width&&0<c.height){if(this.cullArea){var b=this.cullArea;var g=this.worldTransform}else this._render!==
d.prototype._render&&(b=this.getBounds(!0));var f=a.projection.transform;f&&(g?(g=e.copyFrom(g),g.prepend(f)):g=f);if(b&&c.intersects(b,g))this._render(a);else if(this.cullArea)return;for(let h=0,n=this.children.length;h<n;++h)c=this.children[h],b=c.cullable,c.cullable=b||!this.cullArea,c.render(a),c.cullable=b}}render(a){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this.filters?.length)this.renderAdvanced(a);else if(this.cullable)this._renderWithCulling(a);else{this._render(a);
for(let c=0,b=this.children.length;c<b;++c)this.children[c].render(a)}}renderAdvanced(a){const c=this.filters,b=this._mask;if(c){this._enabledFilters||(this._enabledFilters=[]);this._enabledFilters.length=0;for(var g=0;g<c.length;g++)c[g].enabled&&this._enabledFilters.push(c[g])}(g=c&&this._enabledFilters?.length||b&&(!b.isMaskData||b.enabled&&(b.autoDetect||b.type!==p.MASK_TYPES.NONE)))&&a.batch.flush();c&&this._enabledFilters?.length&&a.filter.push(this,this._enabledFilters);b&&a.mask.push(this,
this._mask);if(this.cullable)this._renderWithCulling(a);else{this._render(a);for(let f=0,h=this.children.length;f<h;++f)this.children[f].render(a)}g&&a.batch.flush();b&&a.mask.pop(this);c&&this._enabledFilters?.length&&a.filter.pop()}_render(a){}destroy(a){super.destroy();this.sortDirty=!1;var c="boolean"===typeof a?a:a?.children;const b=this.removeChildren(0,this.children.length);if(c)for(c=0;c<b.length;++c)b[c].destroy(a)}get width(){return this.scale.x*this.getLocalBounds().width}set width(a){const c=
this.getLocalBounds().width;this.scale.x=0!==c?a/c:1;this._width=a}get height(){return this.scale.y*this.getLocalBounds().height}set height(a){const c=this.getLocalBounds().height;this.scale.y=0!==c?a/c:1;this._height=a}};r=d;r.defaultSortableChildren=!1;r.prototype.containerUpdateTransform=r.prototype.updateTransform;k.Container=r};
shadow$provide[199]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(198);Object.defineProperties(m.settings,{SORTABLE_CHILDREN:{get(){return p.Container.defaultSortableChildren},set(e){m.utils.deprecation("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren");p.Container.defaultSortableChildren=e}}});Object.defineProperty(k,"settings",{enumerable:!0,get:function(){return m.settings}})};
shadow$provide[200]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});l(199);r=l(196);B=l(198);l=l(197);k.Bounds=r.Bounds;k.Container=B.Container;k.DisplayObject=l.DisplayObject;k.TemporaryDisplayObject=l.TemporaryDisplayObject};
shadow$provide[201]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(200);const e=new m.Point,d=new Uint16Array([0,1,2,0,2,3]);class a extends p.Container{constructor(c){super();this._anchor=new m.ObservablePoint(this._onAnchorUpdate,this,c?c.defaultAnchor.x:0,c?c.defaultAnchor.y:0);this._texture=null;this._height=this._width=0;this._tintColor=new m.Color(16777215);this._tintRGB=null;this.tint=16777215;this.blendMode=m.BLEND_MODES.NORMAL;this._cachedTint=16777215;
this.uvs=null;this.texture=c||m.Texture.EMPTY;this.vertexData=new Float32Array(8);this.vertexTrimmedData=null;this._textureTrimmedID=this._transformTrimmedID=this._textureID=this._transformID=-1;this.indices=d;this.pluginName="batch";this.isSprite=!0;this._roundPixels=m.settings.ROUND_PIXELS}_onTextureUpdate(){this._textureTrimmedID=this._textureID=-1;this._cachedTint=16777215;this._width&&(this.scale.x=m.utils.sign(this.scale.x)*this._width/this._texture.orig.width);this._height&&(this.scale.y=m.utils.sign(this.scale.y)*
this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformTrimmedID=this._transformID=-1}calculateVertices(){var c=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==c._updateID){this._textureID!==c._updateID&&(this.uvs=this._texture._uvs.uvsFloat32);this._transformID=this.transform._worldID;this._textureID=c._updateID;var b=this.transform.worldTransform,g=b.a,f=b.b,h=b.c,n=b.d,q=b.tx,t=b.ty;b=this.vertexData;var u=c.trim,w=c.orig,x=this._anchor;if(u){var y=
u.x-x._x*w.width;c=y+u.width;x=u.y-x._y*w.height;u=x+u.height}else y=-x._x*w.width,c=y+w.width,x=-x._y*w.height,u=x+w.height;b[0]=g*y+h*x+q;b[1]=n*x+f*y+t;b[2]=g*c+h*x+q;b[3]=n*x+f*c+t;b[4]=g*c+h*u+q;b[5]=n*u+f*c+t;b[6]=g*y+h*u+q;b[7]=n*u+f*y+t;if(this._roundPixels)for(g=m.settings.RESOLUTION,f=0;f<b.length;++f)b[f]=Math.round(b[f]*g)/g}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===
this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID;this._textureTrimmedID=this._texture._updateID;const c=this.vertexTrimmedData;var b=this._texture.orig,g=this._anchor,f=this.transform.worldTransform;const h=f.a,n=f.b,q=f.c,t=f.d,u=f.tx;f=f.ty;const w=-g._x*b.width,x=w+b.width;g=-g._y*b.height;b=g+b.height;c[0]=h*w+q*g+u;c[1]=t*g+n*w+f;c[2]=h*x+q*g+u;c[3]=t*g+n*x+f;c[4]=h*x+q*b+u;c[5]=t*b+n*x+f;c[6]=h*w+q*b+u;c[7]=t*b+n*w+f}_render(c){this.calculateVertices();c.batch.setObjectRenderer(c.plugins[this.pluginName]);
c.plugins[this.pluginName].render(this)}_calculateBounds(){const c=this._texture.trim,b=this._texture.orig;!c||c.width===b.width&&c.height===b.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(c){return 0===this.children.length?(this._localBounds||(this._localBounds=new p.Bounds),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*
-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),c||(this._localBoundsRect||(this._localBoundsRect=new m.Rectangle),c=this._localBoundsRect),this._localBounds.getRectangle(c)):super.getLocalBounds.call(this,c)}containsPoint(c){this.worldTransform.applyInverse(c,e);var b=this._texture.orig.width;c=this._texture.orig.height;const g=-b*this.anchor.x;return e.x>=g&&e.x<g+b&&(b=-c*this.anchor.y,e.y>=
b&&e.y<b+c)?!0:!1}destroy(c){super.destroy(c);this._texture.off("update",this._onTextureUpdate,this);this._anchor=null;("boolean"===typeof c?c:c?.texture)&&this._texture.destroy(!("boolean"===typeof c?!c:!c?.baseTexture));this._texture=null}static from(c,b){c=c instanceof m.Texture?c:m.Texture.from(c,b);return new a(c)}set roundPixels(c){this._roundPixels!==c&&(this._transformID=-1);this._roundPixels=c}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(c){const b=
m.utils.sign(this.scale.x)||1;this.scale.x=b*c/this._texture.orig.width;this._width=c}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(c){const b=m.utils.sign(this.scale.y)||1;this.scale.y=b*c/this._texture.orig.height;this._height=c}get anchor(){return this._anchor}set anchor(c){this._anchor.copyFrom(c)}get tint(){return this._tintColor.value}set tint(c){this._tintColor.setValue(c);this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(c){if(this._texture!==
c&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=c||m.Texture.EMPTY,this._cachedTint=16777215,this._textureTrimmedID=this._textureID=-1,c))if(c.baseTexture.valid)this._onTextureUpdate();else c.once("update",this._onTextureUpdate,this)}}k.Sprite=a};
shadow$provide[202]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(201);k.Sprite=r.Sprite};
shadow$provide[203]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r=l(200);var p=l(202);const e=new m.Matrix;r.DisplayObject.prototype._cacheAsBitmap=!1;r.DisplayObject.prototype._cacheData=null;r.DisplayObject.prototype._cacheAsBitmapResolution=null;r.DisplayObject.prototype._cacheAsBitmapMultisample=null;class d{constructor(){this.sprite=this.originalContainsPoint=this.originalFilterArea=this.originalMask=this.originalDestroy=this.originalUpdateTransform=this.originalGetLocalBounds=
this.originalCalculateBounds=this.originalRenderCanvas=this.originalRender=this.textureCacheId=null}}Object.defineProperties(r.DisplayObject.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(a){a!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=a,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(a){a!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=
a,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(a){this._cacheAsBitmap!==a&&((this._cacheAsBitmap=a)?(this._cacheData||(this._cacheData=new d),a=this._cacheData,a.originalRender=this.render,a.originalRenderCanvas=this.renderCanvas,a.originalUpdateTransform=this.updateTransform,a.originalCalculateBounds=this.calculateBounds,a.originalGetLocalBounds=this.getLocalBounds,a.originalDestroy=this.destroy,a.originalContainsPoint=
this.containsPoint,a.originalMask=this._mask,a.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(a=this._cacheData,a.sprite&&this._destroyCachedDisplayObject(),this.render=a.originalRender,this.renderCanvas=a.originalRenderCanvas,this.calculateBounds=a.originalCalculateBounds,this.getLocalBounds=a.originalGetLocalBounds,this.destroy=a.originalDestroy,this.updateTransform=a.originalUpdateTransform,
this.containsPoint=a.originalContainsPoint,this._mask=a.originalMask,this.filterArea=a.originalFilterArea))}}});r.DisplayObject.prototype._renderCached=function(a){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObject(a),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(a))};r.DisplayObject.prototype._initCachedDisplayObject=function(a){if(!this._cacheData?.sprite){var c=
this.alpha;this.alpha=1;a.batch.flush();var b=this.getLocalBounds(null,!0).clone();this.filters?.length&&b.pad(this.filters[0].padding);b.ceil(m.settings.RESOLUTION);var g=a.renderTexture.current,f=a.renderTexture.sourceFrame.clone(),h=a.renderTexture.destinationFrame.clone(),n=a.projection.transform,q=m.RenderTexture.create({width:b.width,height:b.height,resolution:this.cacheAsBitmapResolution||a.resolution,multisample:this.cacheAsBitmapMultisample??a.multisample}),t=`cacheAsBitmap_${m.utils.uid()}`;
this._cacheData.textureCacheId=t;m.BaseTexture.addToCache(q.baseTexture,t);m.Texture.addToCache(q,t);t=this.transform.localTransform.copyTo(e).invert().translate(-b.x,-b.y);this.render=this._cacheData.originalRender;a.render(this,{renderTexture:q,clear:!0,transform:t,skipUpdateTransform:!1});a.framebuffer.blit();a.projection.transform=n;a.renderTexture.bind(g,f,h);this.render=this._renderCached;this.updateTransform=this.displayObjectUpdateTransform;this.calculateBounds=this._calculateCachedBounds;
this.getLocalBounds=this._getCachedLocalBounds;this.filterArea=this._mask=null;this.alpha=c;a=new p.Sprite(q);a.transform.worldTransform=this.transform.worldTransform;a.anchor.x=-(b.x/b.width);a.anchor.y=-(b.y/b.height);a.alpha=c;a._bounds=this._bounds;this._cacheData.sprite=a;this.transform._parentID=-1;this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null));this.containsPoint=a.containsPoint.bind(a)}};r.DisplayObject.prototype._renderCachedCanvas=
function(a){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObjectCanvas(a),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(a))};r.DisplayObject.prototype._initCachedDisplayObjectCanvas=function(a){if(!this._cacheData?.sprite){var c=this.getLocalBounds(null,!0),b=this.alpha;this.alpha=1;var g=a.canvasContext.activeContext,f=a._projTransform;c.ceil(m.settings.RESOLUTION);var h=m.RenderTexture.create({width:c.width,height:c.height}),
n=`cacheAsBitmap_${m.utils.uid()}`;this._cacheData.textureCacheId=n;m.BaseTexture.addToCache(h.baseTexture,n);m.Texture.addToCache(h,n);this.transform.localTransform.copyTo(e);e.invert();e.tx-=c.x;e.ty-=c.y;this.renderCanvas=this._cacheData.originalRenderCanvas;a.render(this,{renderTexture:h,clear:!0,transform:e,skipUpdateTransform:!1});a.canvasContext.activeContext=g;a._projTransform=f;this.renderCanvas=this._renderCachedCanvas;this.updateTransform=this.displayObjectUpdateTransform;this.calculateBounds=
this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this.filterArea=this._mask=null;this.alpha=b;g=new p.Sprite(h);g.transform.worldTransform=this.transform.worldTransform;g.anchor.x=-(c.x/c.width);g.anchor.y=-(c.y/c.height);g.alpha=b;g._bounds=this._bounds;this._cacheData.sprite=g;this.transform._parentID=-1;this.parent?this.updateTransform():(this.parent=a._tempDisplayObjectParent,this.updateTransform(),this.parent=null);this.containsPoint=g.containsPoint.bind(g)}};r.DisplayObject.prototype._calculateCachedBounds=
function(){this._bounds.clear();this._cacheData.sprite.transform._worldID=this.transform._worldID;this._cacheData.sprite._calculateBounds();this._bounds.updateID=this._boundsID};r.DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};r.DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0);this._cacheData.sprite=null;m.BaseTexture.removeFromCache(this._cacheData.textureCacheId);m.Texture.removeFromCache(this._cacheData.textureCacheId);
this._cacheData.textureCacheId=null};r.DisplayObject.prototype._cacheAsBitmapDestroy=function(a){this.cacheAsBitmap=!1;this.destroy(a)};k.CacheData=d};
shadow$provide[204]=function(r,l,B,k){r=l(200);r.DisplayObject.prototype.name=null;r.Container.prototype.getChildByName=function(m,p){for(let e=0,d=this.children.length;e<d;e++)if(this.children[e].name===m)return this.children[e];if(p)for(let e=0,d=this.children.length;e<d;e++)if(p=this.children[e],p.getChildByName&&(p=p.getChildByName(m,!0)))return p;return null}};
shadow$provide[205]=function(r,l,B,k){var m=l(195);l(200).DisplayObject.prototype.getGlobalPosition=function(p=new m.Point,e=!1){this.parent?this.parent.toGlobal(this.position,p,e):(p.x=this.position.x,p.y=this.position.y);return p}};
shadow$provide[206]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor \x3d texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"};
shadow$provide[207]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(206);class e extends m.Filter{constructor(d=1){super(m.defaultVertex,p["default"],{uAlpha:1});this.alpha=d}get alpha(){return this.uniforms.uAlpha}set alpha(d){this.uniforms.uAlpha=d}}k.AlphaFilter=e};
shadow$provide[208]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(207);k.AlphaFilter=r.AlphaFilter};
shadow$provide[209]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});const m={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[4.89E-4,.002403,.009246,.02784,.065602,.120999,.174697,.197448]};k.generateBlurFragSource=function(p){const e=m[p],d=e.length;let a="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor \x3d vec4(0.0);\n    %blur%\n}",
c="",b;for(let g=0;g<p;g++){let f="gl_FragColor +\x3d texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",g.toString());b=g;g>=d&&(b=p-g-1);f=f.replace("%value%",e[b].toString());c+=f;c+="\n"}a=a.replace("%blur%",c);return a=a.replace("%size%",p.toString())}};
shadow$provide[210]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.generateBlurVertSource=function(m,p){const e=Math.ceil(m/2);let d="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position \x3d aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position \x3d filterVertexPosition();\n\n        vec2 textureCoord \x3d filterTextureCoord();\n        %blur%\n    }",
a="";p=p?"vBlurTexCoords[%index%] \x3d  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] \x3d  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let c=0;c<m;c++){let b=p.replace("%index%",c.toString());b=b.replace("%sampleIndex%",`${c-(e-1)}.0`);a+=b;a+="\n"}d=d.replace("%blur%",a);return d=d.replace("%size%",m.toString())}};
shadow$provide[211]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(209),e=l(210);class d extends m.Filter{constructor(a,c=8,b=4,g=m.Filter.defaultResolution,f=5){const h=e.generateBlurVertSource(f,a);f=p.generateBlurFragSource(f);super(h,f);this.horizontal=a;this.resolution=g;this._quality=0;this.quality=b;this.blur=c}apply(a,c,b,g){this.uniforms.strength=b?this.horizontal?1/b.width*(b.width/c.width):1/b.height*(b.height/c.height):this.horizontal?1/a.renderer.width*
(a.renderer.width/c.width):1/a.renderer.height*(a.renderer.height/c.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)a.applyFilter(this,c,b,g);else{const f=a.getFilterTexture(),h=a.renderer;let n=f;this.state.blend=!1;a.applyFilter(this,c,n,m.CLEAR_MODES.CLEAR);for(let q=1;q<this.passes-1;q++){a.bindAndClear(c,m.CLEAR_MODES.BLIT);const t=this.uniforms.uSampler=n;n=c;c=t;h.shader.bind(this);h.geometry.draw(5)}this.state.blend=!0;a.applyFilter(this,
n,b,g);a.returnFilterTexture(f)}}get blur(){return this.strength}set blur(a){this.padding=1+2*Math.abs(a);this.strength=a}get quality(){return this._quality}set quality(a){this.passes=this._quality=a}}k.BlurFilterPass=d};
shadow$provide[212]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(211);class e extends m.Filter{constructor(d=8,a=4,c=m.Filter.defaultResolution,b=5){super();this._repeatEdgePixels=!1;this.blurXFilter=new p.BlurFilterPass(!0,d,a,c,b);this.blurYFilter=new p.BlurFilterPass(!1,d,a,c,b);this.resolution=c;this.quality=a;this.blur=d;this.repeatEdgePixels=!1}apply(d,a,c,b){var g=Math.abs(this.blurYFilter.strength);Math.abs(this.blurXFilter.strength)&&g?(g=d.getFilterTexture(),
this.blurXFilter.apply(d,a,g,m.CLEAR_MODES.CLEAR),this.blurYFilter.apply(d,g,c,b),d.returnFilterTexture(g)):g?this.blurYFilter.apply(d,a,c,b):this.blurXFilter.apply(d,a,c,b)}updatePadding(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(d){this.blurXFilter.blur=this.blurYFilter.blur=d;this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(d){this.blurXFilter.quality=
this.blurYFilter.quality=d}get blurX(){return this.blurXFilter.blur}set blurX(d){this.blurXFilter.blur=d;this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(d){this.blurYFilter.blur=d;this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(d){this.blurYFilter.blendMode=d}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(d){this._repeatEdgePixels=d;this.updatePadding()}}k.BlurFilter=e};
shadow$provide[213]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(212);l=l(211);k.BlurFilter=r.BlurFilter;k.BlurFilterPass=l.BlurFilterPass};
shadow$provide[214]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c \x3d texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha \x3d\x3d 0.0) {\n        gl_FragColor \x3d c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a \x3e 0.0) {\n      c.rgb /\x3d c.a;\n    }\n\n    vec4 result;\n\n    result.r \x3d (m[0] * c.r);\n        result.r +\x3d (m[1] * c.g);\n        result.r +\x3d (m[2] * c.b);\n        result.r +\x3d (m[3] * c.a);\n        result.r +\x3d m[4];\n\n    result.g \x3d (m[5] * c.r);\n        result.g +\x3d (m[6] * c.g);\n        result.g +\x3d (m[7] * c.b);\n        result.g +\x3d (m[8] * c.a);\n        result.g +\x3d m[9];\n\n    result.b \x3d (m[10] * c.r);\n       result.b +\x3d (m[11] * c.g);\n       result.b +\x3d (m[12] * c.b);\n       result.b +\x3d (m[13] * c.a);\n       result.b +\x3d m[14];\n\n    result.a \x3d (m[15] * c.r);\n       result.a +\x3d (m[16] * c.g);\n       result.a +\x3d (m[17] * c.b);\n       result.a +\x3d (m[18] * c.a);\n       result.a +\x3d m[19];\n\n    vec3 rgb \x3d mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *\x3d result.a;\n\n    gl_FragColor \x3d vec4(rgb, result.a);\n}\n"};
shadow$provide[215]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(214);class e extends m.Filter{constructor(){const d={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(m.defaultFilterVertex,p["default"],d);this.alpha=1}_loadMatrix(d,a=!1){let c=d;a&&(this._multiply(c,this.uniforms.m,d),c=this._colorMatrix(c));this.uniforms.m=c}_multiply(d,a,c){d[0]=a[0]*c[0]+a[1]*c[5]+a[2]*c[10]+a[3]*c[15];d[1]=a[0]*c[1]+a[1]*c[6]+a[2]*c[11]+a[3]*
c[16];d[2]=a[0]*c[2]+a[1]*c[7]+a[2]*c[12]+a[3]*c[17];d[3]=a[0]*c[3]+a[1]*c[8]+a[2]*c[13]+a[3]*c[18];d[4]=a[0]*c[4]+a[1]*c[9]+a[2]*c[14]+a[3]*c[19]+a[4];d[5]=a[5]*c[0]+a[6]*c[5]+a[7]*c[10]+a[8]*c[15];d[6]=a[5]*c[1]+a[6]*c[6]+a[7]*c[11]+a[8]*c[16];d[7]=a[5]*c[2]+a[6]*c[7]+a[7]*c[12]+a[8]*c[17];d[8]=a[5]*c[3]+a[6]*c[8]+a[7]*c[13]+a[8]*c[18];d[9]=a[5]*c[4]+a[6]*c[9]+a[7]*c[14]+a[8]*c[19]+a[9];d[10]=a[10]*c[0]+a[11]*c[5]+a[12]*c[10]+a[13]*c[15];d[11]=a[10]*c[1]+a[11]*c[6]+a[12]*c[11]+a[13]*c[16];d[12]=
a[10]*c[2]+a[11]*c[7]+a[12]*c[12]+a[13]*c[17];d[13]=a[10]*c[3]+a[11]*c[8]+a[12]*c[13]+a[13]*c[18];d[14]=a[10]*c[4]+a[11]*c[9]+a[12]*c[14]+a[13]*c[19]+a[14];d[15]=a[15]*c[0]+a[16]*c[5]+a[17]*c[10]+a[18]*c[15];d[16]=a[15]*c[1]+a[16]*c[6]+a[17]*c[11]+a[18]*c[16];d[17]=a[15]*c[2]+a[16]*c[7]+a[17]*c[12]+a[18]*c[17];d[18]=a[15]*c[3]+a[16]*c[8]+a[17]*c[13]+a[18]*c[18];d[19]=a[15]*c[4]+a[16]*c[9]+a[17]*c[14]+a[18]*c[19]+a[19];return d}_colorMatrix(d){d=new Float32Array(d);d[4]/=255;d[9]/=255;d[14]/=255;d[19]/=
255;return d}brightness(d,a){this._loadMatrix([d,0,0,0,0,0,d,0,0,0,0,0,d,0,0,0,0,0,1,0],a)}tint(d,a){const [c,b,g]=m.Color.shared.setValue(d).toArray();this._loadMatrix([c,0,0,0,0,0,b,0,0,0,0,0,g,0,0,0,0,0,1,0],a)}greyscale(d,a){this._loadMatrix([d,d,d,0,0,d,d,d,0,0,d,d,d,0,0,0,0,0,1,0],a)}blackAndWhite(d){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],d)}hue(d,a){d=(d||0)/180*Math.PI;const c=Math.cos(d);d=Math.sin(d);var b=Math.sqrt;const g=1/3;b=b(g);this._loadMatrix([c+(1-
c)*g,g*(1-c)-b*d,g*(1-c)+b*d,0,0,g*(1-c)+b*d,c+g*(1-c),g*(1-c)-b*d,0,0,g*(1-c)-b*d,g*(1-c)+b*d,c+g*(1-c),0,0,0,0,0,1,0],a)}contrast(d,a){d=(d||0)+1;const c=-.5*(d-1);this._loadMatrix([d,0,0,0,c,0,d,0,0,c,0,0,d,0,c,0,0,0,1,0],a)}saturate(d=0,a){d=2*d/3+1;const c=-.5*(d-1);this._loadMatrix([d,c,c,0,0,c,d,c,0,0,c,c,d,0,0,0,0,0,1,0],a)}desaturate(){this.saturate(-1)}negative(d){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],d)}sepia(d){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,
.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],d)}technicolor(d){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],d)}polaroid(d){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],d)}toBGR(d){this._loadMatrix([0,0,1,0,0,0,1,0,0,
0,1,0,0,0,0,0,0,0,1,0],d)}kodachrome(d){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],d)}browni(d){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,
-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],d)}vintage(d){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],d)}colorTone(d,a,c,b,g){d=d||.2;a=a||.15;b=b||3375104;const f=m.Color.shared,[h,n,q]=f.setValue(c||16770432).toArray(),[t,u,w]=f.setValue(b).toArray();this._loadMatrix([.3,
.59,.11,0,0,h,n,q,d,0,t,u,w,a,0,h-t,n-u,q-w,0,0],g)}night(d,a){d=d||.1;this._loadMatrix([-2*d,-d,0,0,0,-d,0,d,0,0,0,d,2*d,0,0,0,0,0,1,0],a)}predator(d,a){this._loadMatrix([11.224130630493164*d,-4.794486999511719*d,-2.8746118545532227*d,0*d,.40342438220977783*d,-3.6330697536468506*d,9.193157196044922*d,-2.951810836791992*d,0*d,-1.316135048866272*d,-3.2184197902679443*d,-4.2375030517578125*d,7.476448059082031*d,0*d,.8044459223747253*d,0,0,0,1,0],a)}lsd(d){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,
0,-.4,-.5,3,0,0,0,0,0,1,0],d)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(d){this.uniforms.m=d}get alpha(){return this.uniforms.uAlpha}set alpha(d){this.uniforms.uAlpha=d}}e.prototype.grayscale=e.prototype.greyscale;k.ColorMatrixFilter=e};
shadow$provide[216]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(215);k.ColorMatrixFilter=r.ColorMatrixFilter};
shadow$provide[217]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map \x3d  texture2D(mapSampler, vFilterCoord);\n\n  map -\x3d 0.5;\n  map.xy \x3d scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor \x3d texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n"};
shadow$provide[218]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position \x3d aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position \x3d filterVertexPosition();\n\tvTextureCoord \x3d filterTextureCoord();\n\tvFilterCoord \x3d ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n"};
shadow$provide[219]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(217),e=l(218);class d extends m.Filter{constructor(a,c){const b=new m.Matrix;a.renderable=!1;super(e["default"],p["default"],{mapSampler:a._texture,filterMatrix:b,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])});this.maskSprite=a;this.maskMatrix=b;if(null===c||void 0===c)c=20;this.scale=new m.Point(c,c)}apply(a,c,b,g){this.uniforms.filterMatrix=a.calculateSpriteMatrix(this.maskMatrix,this.maskSprite);
this.uniforms.scale.x=this.scale.x;this.uniforms.scale.y=this.scale.y;const f=this.maskSprite.worldTransform,h=Math.sqrt(f.a*f.a+f.b*f.b),n=Math.sqrt(f.c*f.c+f.d*f.d);0!==h&&0!==n&&(this.uniforms.rotation[0]=f.a/h,this.uniforms.rotation[1]=f.b/h,this.uniforms.rotation[2]=f.c/n,this.uniforms.rotation[3]=f.d/n);a.applyFilter(this,c,b,g)}get map(){return this.uniforms.mapSampler}set map(a){this.uniforms.mapSampler=a}}k.DisplacementFilter=d};
shadow$provide[220]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(219);k.DisplacementFilter=r.DisplacementFilter};
shadow$provide[221]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW \x3d texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE \x3d texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW \x3d texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE \x3d texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor \x3d texture2D(tex, v_rgbM);\n    vec3 rgbM  \x3d texColor.xyz;\n    vec3 luma \x3d vec3(0.299, 0.587, 0.114);\n    float lumaNW \x3d dot(rgbNW, luma);\n    float lumaNE \x3d dot(rgbNE, luma);\n    float lumaSW \x3d dot(rgbSW, luma);\n    float lumaSE \x3d dot(rgbSE, luma);\n    float lumaM  \x3d dot(rgbM,  luma);\n    float lumaMin \x3d min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax \x3d max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x \x3d -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y \x3d  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce \x3d max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin \x3d 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir \x3d min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA \x3d 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB \x3d rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB \x3d dot(rgbB, luma);\n    if ((lumaB \x3c lumaMin) || (lumaB \x3e lumaMax))\n        color \x3d vec4(rgbA, texColor.a);\n    else\n        color \x3d vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color \x3d fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor \x3d color;\n}\n'};
shadow$provide[222]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position \x3d aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW \x3d (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE \x3d (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW \x3d (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE \x3d (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM \x3d vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position \x3d filterVertexPosition();\n\n   vFragCoord \x3d aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n"};
shadow$provide[223]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(195);var m=l(221),p=l(222);class e extends r.Filter{constructor(){super(p["default"],m["default"])}}k.FXAAFilter=e};
shadow$provide[224]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(223);k.FXAAFilter=r.FXAAFilter};
shadow$provide[225]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color \x3d texture2D(uSampler, vTextureCoord);\n    float randomValue \x3d rand(gl_FragCoord.xy * uSeed);\n    float diff \x3d (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a \x3e 0.0) {\n        color.rgb /\x3d color.a;\n    }\n\n    color.r +\x3d diff;\n    color.g +\x3d diff;\n    color.b +\x3d diff;\n\n    // Premultiply alpha again.\n    color.rgb *\x3d color.a;\n\n    gl_FragColor \x3d color;\n}\n"};
shadow$provide[226]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(225);class e extends m.Filter{constructor(d=.5,a=Math.random()){super(m.defaultFilterVertex,p["default"],{uNoise:0,uSeed:0});this.noise=d;this.seed=a}get noise(){return this.uniforms.uNoise}set noise(d){this.uniforms.uNoise=d}get seed(){return this.uniforms.uSeed}set seed(d){this.uniforms.uSeed=d}}k.NoiseFilter=e};
shadow$provide[227]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(226);k.NoiseFilter=r.NoiseFilter};
shadow$provide[228]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r=l(208);B=l(213);var p=l(216),e=l(220),d=l(224);l=l(227);const a={AlphaFilter:r.AlphaFilter,BlurFilter:B.BlurFilter,BlurFilterPass:B.BlurFilterPass,ColorMatrixFilter:p.ColorMatrixFilter,DisplacementFilter:e.DisplacementFilter,FXAAFilter:d.FXAAFilter,NoiseFilter:l.NoiseFilter};Object.entries(a).forEach(([c,b])=>{Object.defineProperty(a,c,{get(){m.utils.deprecation("7.1.0",`filters.${c} has moved to ${c}`);
return b}})});k.filters=a};
shadow$provide[229]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);class p{constructor(){this.interactionFrequency=10;this._deltaTime=0;this.tickerAdded=this._didMove=!1;this._pauseUpdate=!0}init(e){this.removeTickerListener();this.events=e;this.interactionFrequency=10;this._deltaTime=0;this.tickerAdded=this._didMove=!1;this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){!this.tickerAdded&&this.domElement&&
(m.Ticker.system.add(this.tickerUpdate,this,m.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(m.Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(this.domElement&&!this._pauseUpdate)if(this._didMove)this._didMove=!1;else{var e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,
clientY:e.clientY}))}}tickerUpdate(e){this._deltaTime+=e;this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())}}r=new p;k.EventsTicker=r};
shadow$provide[230]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);class p{constructor(e){this.cancelBubble=this.bubbles=!0;this.defaultPrevented=this.composed=this.cancelable=!1;this.eventPhase=p.prototype.NONE;this.propagationImmediatelyStopped=this.propagationStopped=!1;this.layer=new m.Point;this.page=new m.Point;this.NONE=0;this.CAPTURING_PHASE=1;this.AT_TARGET=2;this.BUBBLING_PHASE=3;this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){!this.manager||
this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]);return this.path}initEvent(e,d,a){throw Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.");}initUIEvent(e,d,a,c,b){throw Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.");}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault();this.defaultPrevented=
!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}k.FederatedEvent=p};
shadow$provide[231]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r=l(230);class p extends r.FederatedEvent{constructor(){super(...arguments);this.client=new m.Point;this.movement=new m.Point;this.offset=new m.Point;this.global=new m.Point;this.screen=new m.Point}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,
d,a){return e.worldTransform.applyInverse(a||this.global,d)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,d,a,c,b,g,f,h,n,q,t,u,w,x,y){throw Error("Method not implemented.");}}k.FederatedMouseEvent=p};
shadow$provide[232]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(231);class m extends r.FederatedMouseEvent{constructor(){super(...arguments);this.height=this.width=0;this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw Error("getPredictedEvents is not supported!");}}k.FederatedPointerEvent=m};
shadow$provide[233]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(231);class m extends r.FederatedMouseEvent{constructor(){super(...arguments);this.DOM_DELTA_PIXEL=0;this.DOM_DELTA_LINE=1;this.DOM_DELTA_PAGE=2}}m.DOM_DELTA_PIXEL=0;m.DOM_DELTA_LINE=1;m.DOM_DELTA_PAGE=2;k.FederatedWheelEvent=m};
shadow$provide[234]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(229),e=l(231),d=l(232),a=l(233);const c=new m.Point,b=new m.Point;class g{constructor(f){this.dispatch=new m.utils.EventEmitter;this.moveOnAll=!1;this.enableGlobalMoveEvents=!0;this.mappingState={trackingData:{}};this.eventPool=new Map;this._allInteractiveElements=[];this._hitElements=[];this._isPointerMoveEvent=!1;this.rootTarget=f;this.hitPruneFn=this.hitPruneFn.bind(this);this.hitTestFn=this.hitTestFn.bind(this);
this.mapPointerDown=this.mapPointerDown.bind(this);this.mapPointerMove=this.mapPointerMove.bind(this);this.mapPointerOut=this.mapPointerOut.bind(this);this.mapPointerOver=this.mapPointerOver.bind(this);this.mapPointerUp=this.mapPointerUp.bind(this);this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this);this.mapWheel=this.mapWheel.bind(this);this.mappingTable={};this.addEventMapping("pointerdown",this.mapPointerDown);this.addEventMapping("pointermove",this.mapPointerMove);this.addEventMapping("pointerout",
this.mapPointerOut);this.addEventMapping("pointerleave",this.mapPointerOut);this.addEventMapping("pointerover",this.mapPointerOver);this.addEventMapping("pointerup",this.mapPointerUp);this.addEventMapping("pointerupoutside",this.mapPointerUpOutside);this.addEventMapping("wheel",this.mapWheel)}addEventMapping(f,h){this.mappingTable[f]||(this.mappingTable[f]=[]);this.mappingTable[f].push({fn:h,priority:0});this.mappingTable[f].sort((n,q)=>n.priority-q.priority)}dispatchEvent(f,h){f.propagationStopped=
!1;f.propagationImmediatelyStopped=!1;this.propagate(f,h);this.dispatch.emit(h||f.type,f)}mapEvent(f){if(this.rootTarget){var h=this.mappingTable[f.type];if(h)for(let n=0,q=h.length;n<q;n++)h[n].fn(f);else console.warn(`[EventBoundary]: Event mapping not defined for ${f.type}`)}}hitTest(f,h){p.EventsTicker.pauseUpdate=!0;return(f=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,c.set(f,h),this.hitTestFn,
this.hitPruneFn))&&f[0]}propagate(f,h){if(f.target){var n=f.composedPath();f.eventPhase=f.CAPTURING_PHASE;for(let q=0,t=n.length-1;q<t;q++)if(f.currentTarget=n[q],this.notifyTarget(f,h),f.propagationStopped||f.propagationImmediatelyStopped)return;f.eventPhase=f.AT_TARGET;f.currentTarget=f.target;this.notifyTarget(f,h);if(!f.propagationStopped&&!f.propagationImmediatelyStopped){f.eventPhase=f.BUBBLING_PHASE;for(let q=n.length-2;0<=q&&(f.currentTarget=n[q],this.notifyTarget(f,h),!f.propagationStopped&&
!f.propagationImmediatelyStopped);q--);}}}all(f,h,n=this._allInteractiveElements){if(0!==n.length){f.eventPhase=f.BUBBLING_PHASE;h=Array.isArray(h)?h:[h];for(let q=n.length-1;0<=q;q--)h.forEach(t=>{f.currentTarget=n[q];this.notifyTarget(f,t)})}}propagationPath(f){const h=[f];for(let n=0;2048>n&&f!==this.rootTarget;n++){if(!f.parent)throw Error("Cannot find propagation path to disconnected target");h.push(f.parent);f=f.parent}h.reverse();return h}hitTestMoveRecursive(f,h,n,q,t,u=!1){var w=!1;if(this._interactivePrune(f))return null;
if("dynamic"===f.eventMode||"dynamic"===h)p.EventsTicker.pauseUpdate=!1;if(f.interactiveChildren&&f.children){var x=f.children;for(let z=x.length-1;0<=z;z--){var y=x[z];if((y=this.hitTestMoveRecursive(y,this._isInteractive(h)?h:y.eventMode,n,q,t,u||t(f,n)))&&(!(0<y.length)||y[y.length-1].parent)){w=f.isInteractive();if(0<y.length||w)w&&this._allInteractiveElements.push(f),y.push(f);0===this._hitElements.length&&(this._hitElements=y);w=!0}}}h=this._isInteractive(h);(x=f.isInteractive())&&x&&this._allInteractiveElements.push(f);
return u||0<this._hitElements.length?null:w?this._hitElements:h&&!t(f,n)&&q(f,n)?x?[f]:[]:null}hitTestRecursive(f,h,n,q,t){if(this._interactivePrune(f)||t(f,n))return null;if("dynamic"===f.eventMode||"dynamic"===h)p.EventsTicker.pauseUpdate=!1;if(f.interactiveChildren&&f.children){const w=f.children;for(let x=w.length-1;0<=x;x--){var u=w[x];if((u=this.hitTestRecursive(u,this._isInteractive(h)?h:u.eventMode,n,q,t))&&(!(0<u.length)||u[u.length-1].parent))return n=f.isInteractive(),(0<u.length||n)&&
u.push(f),u}}h=this._isInteractive(h);t=f.isInteractive();return h&&q(f,n)?t?[f]:[]:null}_isInteractive(f){return"static"===f||"dynamic"===f}_interactivePrune(f){return!f||f.isMask||!f.visible||!f.renderable||"none"===f.eventMode||"passive"===f.eventMode&&!f.interactiveChildren||f.isMask?!0:!1}hitPruneFn(f,h){return f.hitArea&&(f.worldTransform.applyInverse(h,b),!f.hitArea.contains(b.x,b.y))||f._mask&&(f=f._mask.isMaskData?f._mask.maskObject:f._mask)&&!f.containsPoint?.(h)?!0:!1}hitTestFn(f,h){return"passive"===
f.eventMode?!1:f.hitArea?!0:f.containsPoint?f.containsPoint(h):!1}notifyTarget(f,h){h=h??f.type;f.currentTarget[`on${h}`]?.(f);this.notifyListeners(f,f.eventPhase===f.CAPTURING_PHASE||f.eventPhase===f.AT_TARGET?`${h}capture`:h);f.eventPhase===f.AT_TARGET&&this.notifyListeners(f,h)}mapPointerDown(f){if(f instanceof d.FederatedPointerEvent){var h=this.createPointerEvent(f);this.dispatchEvent(h,"pointerdown");"touch"===h.pointerType?this.dispatchEvent(h,"touchstart"):("mouse"===h.pointerType||"pen"===
h.pointerType)&&this.dispatchEvent(h,2===h.button?"rightdown":"mousedown");this.trackingData(f.pointerId).pressTargetsByButton[f.button]=h.composedPath();this.freeEvent(h)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}mapPointerMove(f){if(f instanceof d.FederatedPointerEvent){this._allInteractiveElements.length=0;this._hitElements.length=0;this._isPointerMoveEvent=!0;var h=this.createPointerEvent(f);this._isPointerMoveEvent=!1;var n="mouse"===h.pointerType||
"pen"===h.pointerType,q=this.trackingData(f.pointerId),t=this.findMountedTarget(q.overTargets);if(0<q.overTargets?.length&&t!==h.target){var u=this.createPointerEvent(f,"mousemove"===f.type?"mouseout":"pointerout",t);this.dispatchEvent(u,"pointerout");n&&this.dispatchEvent(u,"mouseout");if(!h.composedPath().includes(t)){const w=this.createPointerEvent(f,"pointerleave",t);for(w.eventPhase=w.AT_TARGET;w.target&&!h.composedPath().includes(w.target);)w.currentTarget=w.target,this.notifyTarget(w),n&&this.notifyTarget(w,
"mouseleave"),w.target=w.target.parent;this.freeEvent(w)}this.freeEvent(u)}if(t!==h.target){f=this.clonePointerEvent(h,"mousemove"===f.type?"mouseover":"pointerover");this.dispatchEvent(f,"pointerover");n&&this.dispatchEvent(f,"mouseover");for(u=t?.parent;u&&u!==this.rootTarget.parent&&u!==h.target;)u=u.parent;if(!u||u===this.rootTarget.parent){u=this.clonePointerEvent(h,"pointerenter");for(u.eventPhase=u.AT_TARGET;u.target&&u.target!==t&&u.target!==this.rootTarget.parent;)u.currentTarget=u.target,
this.notifyTarget(u),n&&this.notifyTarget(u,"mouseenter"),u.target=u.target.parent;this.freeEvent(u)}this.freeEvent(f)}t=[];f=this.enableGlobalMoveEvents??!0;this.moveOnAll?t.push("pointermove"):this.dispatchEvent(h,"pointermove");f&&t.push("globalpointermove");"touch"===h.pointerType&&(this.moveOnAll?t.splice(1,0,"touchmove"):this.dispatchEvent(h,"touchmove"),f&&t.push("globaltouchmove"));n&&(this.moveOnAll?t.splice(1,0,"mousemove"):this.dispatchEvent(h,"mousemove"),f&&t.push("globalmousemove"),
this.cursor=h.target?.cursor);0<t.length&&this.all(h,t);this._allInteractiveElements.length=0;this._hitElements.length=0;q.overTargets=h.composedPath();this.freeEvent(h)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}mapPointerOver(f){if(f instanceof d.FederatedPointerEvent){var h=this.trackingData(f.pointerId);f=this.createPointerEvent(f);var n="mouse"===f.pointerType||"pen"===f.pointerType;this.dispatchEvent(f,"pointerover");n&&this.dispatchEvent(f,"mouseover");
"mouse"===f.pointerType&&(this.cursor=f.target?.cursor);var q=this.clonePointerEvent(f,"pointerenter");for(q.eventPhase=q.AT_TARGET;q.target&&q.target!==this.rootTarget.parent;)q.currentTarget=q.target,this.notifyTarget(q),n&&this.notifyTarget(q,"mouseenter"),q.target=q.target.parent;h.overTargets=f.composedPath();this.freeEvent(f);this.freeEvent(q)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}mapPointerOut(f){if(f instanceof d.FederatedPointerEvent){var h=
this.trackingData(f.pointerId);if(h.overTargets){const n="mouse"===f.pointerType||"pen"===f.pointerType,q=this.findMountedTarget(h.overTargets),t=this.createPointerEvent(f,"pointerout",q);this.dispatchEvent(t);n&&this.dispatchEvent(t,"mouseout");f=this.createPointerEvent(f,"pointerleave",q);for(f.eventPhase=f.AT_TARGET;f.target&&f.target!==this.rootTarget.parent;)f.currentTarget=f.target,this.notifyTarget(f),n&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;h.overTargets=null;this.freeEvent(t);
this.freeEvent(f)}this.cursor=null}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}mapPointerUp(f){if(f instanceof d.FederatedPointerEvent){var h=performance.now(),n=this.createPointerEvent(f);this.dispatchEvent(n,"pointerup");"touch"===n.pointerType?this.dispatchEvent(n,"touchend"):("mouse"===n.pointerType||"pen"===n.pointerType)&&this.dispatchEvent(n,2===n.button?"rightup":"mouseup");var q=this.trackingData(f.pointerId),t=this.findMountedTarget(q.pressTargetsByButton[f.button]),
u=t;if(t&&!n.composedPath().includes(t)){for(u=t;u&&!n.composedPath().includes(u);)n.currentTarget=u,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType?this.notifyTarget(n,"touchendoutside"):("mouse"===n.pointerType||"pen"===n.pointerType)&&this.notifyTarget(n,2===n.button?"rightupoutside":"mouseupoutside"),u=u.parent;delete q.pressTargetsByButton[f.button]}u&&(t=this.clonePointerEvent(n,"click"),t.target=u,t.path=null,q.clicksByButton[f.button]||(q.clicksByButton[f.button]={clickCount:0,
target:t.target,timeStamp:h}),f=q.clicksByButton[f.button],f.target===t.target&&200>h-f.timeStamp?++f.clickCount:f.clickCount=1,f.target=t.target,f.timeStamp=h,t.detail=f.clickCount,"mouse"===t.pointerType?this.dispatchEvent(t,2===t.button?"rightclick":"click"):"touch"===t.pointerType&&this.dispatchEvent(t,"tap"),this.dispatchEvent(t,"pointertap"),this.freeEvent(t));this.freeEvent(n)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}mapPointerUpOutside(f){if(f instanceof
d.FederatedPointerEvent){var h=this.trackingData(f.pointerId),n=this.findMountedTarget(h.pressTargetsByButton[f.button]),q=this.createPointerEvent(f);if(n){for(;n;)q.currentTarget=n,this.notifyTarget(q,"pointerupoutside"),"touch"===q.pointerType?this.notifyTarget(q,"touchendoutside"):("mouse"===q.pointerType||"pen"===q.pointerType)&&this.notifyTarget(q,2===q.button?"rightupoutside":"mouseupoutside"),n=n.parent;delete h.pressTargetsByButton[f.button]}this.freeEvent(q)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}mapWheel(f){f instanceof
a.FederatedWheelEvent?(f=this.createWheelEvent(f),this.dispatchEvent(f),this.freeEvent(f)):console.warn("EventBoundary cannot map a non-wheel event as a wheel event")}findMountedTarget(f){if(!f)return null;let h=f[0];for(let n=1;n<f.length;n++)if(f[n].parent===h)h=f[n];else break;return h}createPointerEvent(f,h,n){const q=this.allocateEvent(d.FederatedPointerEvent);this.copyPointerData(f,q);this.copyMouseData(f,q);this.copyData(f,q);q.nativeEvent=f.nativeEvent;q.originalEvent=f;q.target=n??this.hitTest(q.global.x,
q.global.y)??this._hitElements[0];"string"===typeof h&&(q.type=h);return q}createWheelEvent(f){const h=this.allocateEvent(a.FederatedWheelEvent);this.copyWheelData(f,h);this.copyMouseData(f,h);this.copyData(f,h);h.nativeEvent=f.nativeEvent;h.originalEvent=f;h.target=this.hitTest(h.global.x,h.global.y);return h}clonePointerEvent(f,h){const n=this.allocateEvent(d.FederatedPointerEvent);n.nativeEvent=f.nativeEvent;n.originalEvent=f.originalEvent;this.copyPointerData(f,n);this.copyMouseData(f,n);this.copyData(f,
n);n.target=f.target;n.path=f.composedPath().slice();n.type=h??n.type;return n}copyWheelData(f,h){h.deltaMode=f.deltaMode;h.deltaX=f.deltaX;h.deltaY=f.deltaY;h.deltaZ=f.deltaZ}copyPointerData(f,h){f instanceof d.FederatedPointerEvent&&h instanceof d.FederatedPointerEvent&&(h.pointerId=f.pointerId,h.width=f.width,h.height=f.height,h.isPrimary=f.isPrimary,h.pointerType=f.pointerType,h.pressure=f.pressure,h.tangentialPressure=f.tangentialPressure,h.tiltX=f.tiltX,h.tiltY=f.tiltY,h.twist=f.twist)}copyMouseData(f,
h){f instanceof e.FederatedMouseEvent&&h instanceof e.FederatedMouseEvent&&(h.altKey=f.altKey,h.button=f.button,h.buttons=f.buttons,h.client.copyFrom(f.client),h.ctrlKey=f.ctrlKey,h.metaKey=f.metaKey,h.movement.copyFrom(f.movement),h.screen.copyFrom(f.screen),h.shiftKey=f.shiftKey,h.global.copyFrom(f.global))}copyData(f,h){h.isTrusted=f.isTrusted;h.srcElement=f.srcElement;h.timeStamp=performance.now();h.type=f.type;h.detail=f.detail;h.view=f.view;h.which=f.which;h.layer.copyFrom(f.layer);h.page.copyFrom(f.page)}trackingData(f){this.mappingState.trackingData[f]||
(this.mappingState.trackingData[f]={pressTargetsByButton:{},clicksByButton:{},overTarget:null});return this.mappingState.trackingData[f]}allocateEvent(f){this.eventPool.has(f)||this.eventPool.set(f,[]);f=this.eventPool.get(f).pop()||new f(this);f.eventPhase=f.NONE;f.currentTarget=null;f.path=null;f.target=null;return f}freeEvent(f){if(f.manager!==this)throw Error("It is illegal to free an event not managed by this EventBoundary!");const h=f.constructor;this.eventPool.has(h)||this.eventPool.set(h,
[]);this.eventPool.get(h).push(f)}notifyListeners(f,h){const n=f.currentTarget._events[h];if(n&&f.currentTarget.isInteractive())if("fn"in n)n.once&&f.currentTarget.removeListener(h,n.fn,void 0,!0),n.fn.call(n.context,f);else for(let q=0,t=n.length;q<t&&!f.propagationImmediatelyStopped;q++)n[q].once&&f.currentTarget.removeListener(h,n[q].fn,void 0,!0),n[q].fn.call(n[q].context,f)}}k.EventBoundary=g};
shadow$provide[235]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(195);var m=l(234),p=l(229),e=l(232),d=l(233);const a={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},c=class{constructor(b){this.supportsTouchEvents="ontouchstart"in globalThis;this.supportsPointerEvents=!!globalThis.PointerEvent;this.domElement=null;this.resolution=1;this.renderer=b;this.rootBoundary=new m.EventBoundary(null);
p.EventsTicker.init(this);this.autoPreventDefault=!0;this.eventsAdded=!1;this.rootPointerEvent=new e.FederatedPointerEvent(null);this.rootWheelEvent=new d.FederatedWheelEvent(null);this.cursorStyles={default:"inherit",pointer:"pointer"};this.features=new Proxy({...c.defaultEventFeatures},{set:(g,f,h)=>{"globalMove"===f&&(this.rootBoundary.enableGlobalMoveEvents=h);g[f]=h;return!0}});this.onPointerDown=this.onPointerDown.bind(this);this.onPointerMove=this.onPointerMove.bind(this);this.onPointerUp=
this.onPointerUp.bind(this);this.onPointerOverOut=this.onPointerOverOut.bind(this);this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(b){const {view:g,resolution:f}=this.renderer;this.setTargetElement(g);this.resolution=f;c._defaultEventMode=b.eventMode??"auto";Object.assign(this.features,b.eventFeatures??{});this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(b){this.resolution=b}destroy(){this.setTargetElement(null);
this.renderer=null}setCursor(b){b=b||"default";let g=!0;globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(g=!1);if(this.currentCursor!==b){this.currentCursor=b;var f=this.cursorStyles[b];if(f)switch(typeof f){case "string":g&&(this.domElement.style.cursor=f);break;case "function":f(b);break;case "object":g&&Object.assign(this.domElement.style,f)}else g&&"string"===typeof b&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,b)&&(this.domElement.style.cursor=b)}}get pointer(){return this.rootPointerEvent}onPointerDown(b){if(this.features.click&&
(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==b.pointerType)){var g=this.normalizeToPointerData(b);this.autoPreventDefault&&g[0].isNormalized&&(!b.cancelable&&"cancelable"in b||b.preventDefault());for(let f=0,h=g.length;f<h;f++)b=this.bootstrapEvent(this.rootPointerEvent,g[f]),this.rootBoundary.mapEvent(b);this.setCursor(this.rootBoundary.cursor)}}onPointerMove(b){if(this.features.move&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,
!this.supportsTouchEvents||"touch"!==b.pointerType)){p.EventsTicker.pointerMoved();b=this.normalizeToPointerData(b);for(let g=0,f=b.length;g<f;g++){const h=this.bootstrapEvent(this.rootPointerEvent,b[g]);this.rootBoundary.mapEvent(h)}this.setCursor(this.rootBoundary.cursor)}}onPointerUp(b){if(this.features.click&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==b.pointerType)){var g=b.target;b.composedPath&&0<b.composedPath().length&&(g=b.composedPath()[0]);
g=g!==this.domElement?"outside":"";b=this.normalizeToPointerData(b);for(let f=0,h=b.length;f<h;f++){const n=this.bootstrapEvent(this.rootPointerEvent,b[f]);n.type+=g;this.rootBoundary.mapEvent(n)}this.setCursor(this.rootBoundary.cursor)}}onPointerOverOut(b){if(this.features.click&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==b.pointerType)){b=this.normalizeToPointerData(b);for(let g=0,f=b.length;g<f;g++){const h=this.bootstrapEvent(this.rootPointerEvent,
b[g]);this.rootBoundary.mapEvent(h)}this.setCursor(this.rootBoundary.cursor)}}onWheel(b){this.features.wheel&&(b=this.normalizeWheelEvent(b),this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(b))}setTargetElement(b){this.removeEvents();this.domElement=b;p.EventsTicker.domElement=b;this.addEvents()}addEvents(){if(!this.eventsAdded&&this.domElement){p.EventsTicker.addTickerListener();var b=this.domElement.style;b&&(globalThis.navigator.msPointerEnabled?(b.msContentZooming=
"none",b.msTouchAction="none"):this.supportsPointerEvents&&(b.touchAction="none"));this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",
this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0));this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,
!0));this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0});this.eventsAdded=!0}}removeEvents(){if(this.eventsAdded&&this.domElement){p.EventsTicker.removeTickerListener();var b=this.domElement.style;globalThis.navigator.msPointerEnabled?(b.msContentZooming="",b.msTouchAction=""):this.supportsPointerEvents&&(b.touchAction="");this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",
this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",
this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0));this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0));this.domElement.removeEventListener("wheel",this.onWheel,!0);this.domElement=null;this.eventsAdded=!1}}mapPositionToPoint(b,g,f){let h;h=this.domElement.parentElement?this.domElement.getBoundingClientRect():
{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const n=1/this.resolution;b.x=this.domElement.width/h.width*(g-h.left)*n;b.y=this.domElement.height/h.height*(f-h.top)*n}normalizeToPointerData(b){const g=[];if(this.supportsTouchEvents&&b instanceof TouchEvent)for(let f=0,h=b.changedTouches.length;f<h;f++){const n=b.changedTouches[f];"undefined"===typeof n.button&&(n.button=0);"undefined"===typeof n.buttons&&(n.buttons=1);"undefined"===typeof n.isPrimary&&(n.isPrimary=
1===b.touches.length&&"touchstart"===b.type);"undefined"===typeof n.width&&(n.width=n.radiusX||1);"undefined"===typeof n.height&&(n.height=n.radiusY||1);"undefined"===typeof n.tiltX&&(n.tiltX=0);"undefined"===typeof n.tiltY&&(n.tiltY=0);"undefined"===typeof n.pointerType&&(n.pointerType="touch");"undefined"===typeof n.pointerId&&(n.pointerId=n.identifier||0);"undefined"===typeof n.pressure&&(n.pressure=n.force||.5);"undefined"===typeof n.twist&&(n.twist=0);"undefined"===typeof n.tangentialPressure&&
(n.tangentialPressure=0);"undefined"===typeof n.layerX&&(n.layerX=n.offsetX=n.clientX);"undefined"===typeof n.layerY&&(n.layerY=n.offsetY=n.clientY);n.isNormalized=!0;n.type=b.type;g.push(n)}else{if(!globalThis.MouseEvent||b instanceof MouseEvent&&!(this.supportsPointerEvents&&b instanceof globalThis.PointerEvent))"undefined"===typeof b.isPrimary&&(b.isPrimary=!0),"undefined"===typeof b.width&&(b.width=1),"undefined"===typeof b.height&&(b.height=1),"undefined"===typeof b.tiltX&&(b.tiltX=0),"undefined"===
typeof b.tiltY&&(b.tiltY=0),"undefined"===typeof b.pointerType&&(b.pointerType="mouse"),"undefined"===typeof b.pointerId&&(b.pointerId=1),"undefined"===typeof b.pressure&&(b.pressure=.5),"undefined"===typeof b.twist&&(b.twist=0),"undefined"===typeof b.tangentialPressure&&(b.tangentialPressure=0),b.isNormalized=!0;g.push(b)}return g}normalizeWheelEvent(b){const g=this.rootWheelEvent;this.transferMouseData(g,b);g.deltaX=b.deltaX;g.deltaY=b.deltaY;g.deltaZ=b.deltaZ;g.deltaMode=b.deltaMode;this.mapPositionToPoint(g.screen,
b.clientX,b.clientY);g.global.copyFrom(g.screen);g.offset.copyFrom(g.screen);g.nativeEvent=b;g.type=b.type;return g}bootstrapEvent(b,g){b.originalEvent=null;b.nativeEvent=g;b.pointerId=g.pointerId;b.width=g.width;b.height=g.height;b.isPrimary=g.isPrimary;b.pointerType=g.pointerType;b.pressure=g.pressure;b.tangentialPressure=g.tangentialPressure;b.tiltX=g.tiltX;b.tiltY=g.tiltY;b.twist=g.twist;this.transferMouseData(b,g);this.mapPositionToPoint(b.screen,g.clientX,g.clientY);b.global.copyFrom(b.screen);
b.offset.copyFrom(b.screen);b.isTrusted=g.isTrusted;"pointerleave"===b.type&&(b.type="pointerout");b.type.startsWith("mouse")&&(b.type=b.type.replace("mouse","pointer"));b.type.startsWith("touch")&&(b.type=a[b.type]||b.type);return b}transferMouseData(b,g){b.isTrusted=g.isTrusted;b.srcElement=g.srcElement;b.timeStamp=performance.now();b.type=g.type;b.altKey=g.altKey;b.button=g.button;b.buttons=g.buttons;b.client.x=g.clientX;b.client.y=g.clientY;b.ctrlKey=g.ctrlKey;b.metaKey=g.metaKey;b.movement.x=
g.movementX;b.movement.y=g.movementY;b.page.x=g.pageX;b.page.y=g.pageY;b.relatedTarget=null;b.shiftKey=g.shiftKey}};l=c;l.extension={name:"events",type:[r.ExtensionType.RendererSystem,r.ExtensionType.CanvasRendererSystem]};l.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};r.extensions.add(l);k.EventSystem=l};
shadow$provide[236]=function(r,l,B,k){};
shadow$provide[237]=function(r,l,B,k){function m(a){return"dynamic"===a||"static"===a}Object.defineProperty(k,"__esModule",{value:!0});var p=l(195);r=l(200);var e=l(235),d=l(230);l={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,
onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??m(e.EventSystem.defaultEventMode)},set interactive(a){p.utils.deprecation("7.2.0","Setting interactive is deprecated, use eventMode \x3d 'none'/'passive'/'auto'/'static'/'dynamic' instead.");
this.eventMode=(this._internalInteractive=a)?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??e.EventSystem.defaultEventMode},set eventMode(a){this._internalInteractive=m(a);this._internalEventMode=a},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(a,c,b){const g="function"===typeof c?void 0:c;a="boolean"===typeof b&&b||"object"===typeof b&&b.capture?`${a}capture`:a;c="function"===
typeof c?c:c.handleEvent;this.on(a,c,g)},removeEventListener(a,c,b){const g="function"===typeof c?void 0:c;a="boolean"===typeof b&&b||"object"===typeof b&&b.capture?`${a}capture`:a;c="function"===typeof c?c:c.handleEvent;this.off(a,c,g)},dispatchEvent(a){if(!(a instanceof d.FederatedEvent))throw Error("DisplayObject cannot propagate events outside of the Federated Events API");a.defaultPrevented=!1;a.path=null;a.target=this;a.manager.dispatchEvent(a);return!a.defaultPrevented}};r.DisplayObject.mixin(l);
k.FederatedDisplayObject=l};
shadow$provide[238]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(234);B=l(235);var m=l(230);l(236);var p=l(237),e=l(231),d=l(232);l=l(233);k.EventBoundary=r.EventBoundary;k.EventSystem=B.EventSystem;k.FederatedEvent=m.FederatedEvent;k.FederatedDisplayObject=p.FederatedDisplayObject;k.FederatedMouseEvent=e.FederatedMouseEvent;k.FederatedPointerEvent=d.FederatedPointerEvent;k.FederatedWheelEvent=l.FederatedWheelEvent};
shadow$provide[239]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1}};
shadow$provide[240]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r=l(200);var p=l(238);l=l(239);r.DisplayObject.mixin(l.accessibleTarget);class e{constructor(d){this._isMobileAccessibility=this._isActive=this.debug=!1;this.pool=[];this.renderId=0;this.children=[];this.androidUpdateCount=0;this.androidUpdateFrequency=500;this._hookDiv=null;(m.utils.isMobile.tablet||m.utils.isMobile.phone)&&this.createTouchHook();const a=document.createElement("div");a.style.width=
"100px";a.style.height="100px";a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.zIndex=(2).toString();this.div=a;this.renderer=d;this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const d=document.createElement("button");d.style.width="1px";d.style.height="1px";
d.style.position="absolute";d.style.top="-1000px";d.style.left="-1000px";d.style.zIndex=(2).toString();d.style.backgroundColor="#FF0000";d.title="select to enable accessibility for this content";d.addEventListener("focus",()=>{this._isMobileAccessibility=!0;this.activate();this.destroyTouchHook()});document.body.appendChild(d);this._hookDiv=d}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",
this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(d){if(d.visible&&
d.accessibleChildren&&(d.accessible&&d.isInteractive()&&(d._accessibleActive||this.addChild(d),d.renderId=this.renderId),d=d.children))for(let a=0;a<d.length;a++)this.updateAccessibleObjects(d[a])}update(){var d=performance.now();if(!(m.utils.isMobile.android.device&&d<this.androidUpdateCount)&&(this.androidUpdateCount=d+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);var {x:a,y:c,width:b,
height:g}=this.renderer.view.getBoundingClientRect(),{width:f,height:h,resolution:n}=this.renderer;d=b/f*n;var q=g/h*n,t=this.div;t.style.left=`${a}px`;t.style.top=`${c}px`;t.style.width=`${f}px`;t.style.height=`${h}px`;for(let u=0;u<this.children.length;u++){const w=this.children[u];if(w.renderId!==this.renderId)w._accessibleActive=!1,m.utils.removeItems(this.children,u,1),this.div.removeChild(w._accessibleDiv),this.pool.push(w._accessibleDiv),w._accessibleDiv=null,u--;else{t=w._accessibleDiv;let x=
w.hitArea;const y=w.worldTransform;w.hitArea?(t.style.left=`${(y.tx+x.x*y.a)*d}px`,t.style.top=`${(y.ty+x.y*y.d)*q}px`,t.style.width=`${x.width*y.a*d}px`,t.style.height=`${x.height*y.d*q}px`):(x=w.getBounds(),this.capHitArea(x),t.style.left=`${x.x*d}px`,t.style.top=`${x.y*q}px`,t.style.width=`${x.width*d}px`,t.style.height=`${x.height*q}px`,t.title!==w.accessibleTitle&&null!==w.accessibleTitle&&(t.title=w.accessibleTitle),t.getAttribute("aria-label")!==w.accessibleHint&&null!==w.accessibleHint&&t.setAttribute("aria-label",
w.accessibleHint));if(w.accessibleTitle!==t.title||w.tabIndex!==t.tabIndex)t.title=w.accessibleTitle,t.tabIndex=w.tabIndex,this.debug&&this.updateDebugHTML(t)}}this.renderId++}}updateDebugHTML(d){d.innerHTML=`type: ${d.type}</br> title : ${d.title}</br> tabIndex: ${d.tabIndex}`}capHitArea(d){0>d.x&&(d.width+=d.x,d.x=0);0>d.y&&(d.height+=d.y,d.y=0);const {width:a,height:c}=this.renderer;d.x+d.width>a&&(d.width=a-d.x);d.y+d.height>c&&(d.height=c-d.y)}addChild(d){let a=this.pool.pop();a||(a=document.createElement("button"),
a.style.width="100px",a.style.height="100px",a.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",a.style.position="absolute",a.style.zIndex=(2).toString(),a.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?a.setAttribute("aria-live","off"):a.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?a.setAttribute("aria-relevant","additions"):a.setAttribute("aria-relevant","text"),a.addEventListener("click",this._onClick.bind(this)),
a.addEventListener("focus",this._onFocus.bind(this)),a.addEventListener("focusout",this._onFocusOut.bind(this)));a.style.pointerEvents=d.accessiblePointerEvents;a.type=d.accessibleType;d.accessibleTitle&&null!==d.accessibleTitle?a.title=d.accessibleTitle:d.accessibleHint&&null!==d.accessibleHint||(a.title=`displayObject ${d.tabIndex}`);d.accessibleHint&&null!==d.accessibleHint&&a.setAttribute("aria-label",d.accessibleHint);this.debug&&this.updateDebugHTML(a);d._accessibleActive=!0;d._accessibleDiv=
a;a.displayObject=d;this.children.push(d);this.div.appendChild(d._accessibleDiv);d._accessibleDiv.tabIndex=d.tabIndex}_dispatchEvent(d,a){({displayObject:d}=d.target);const c=this.renderer.events.rootBoundary,b=Object.assign(new p.FederatedEvent(c),{target:d});c.rootTarget=this.renderer.lastObjectRendered;a.forEach(g=>c.dispatchEvent(b,g))}_onClick(d){this._dispatchEvent(d,["click","pointertap","tap"])}_onFocus(d){d.target.getAttribute("aria-live")||d.target.setAttribute("aria-live","assertive");
this._dispatchEvent(d,["mouseover"])}_onFocusOut(d){d.target.getAttribute("aria-live")||d.target.setAttribute("aria-live","polite");this._dispatchEvent(d,["mouseout"])}_onKeyDown(d){9===d.keyCode&&this.activate()}_onMouseMove(d){0===d.movementX&&0===d.movementY||this.deactivate()}destroy(){this.destroyTouchHook();this.div=null;globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0);globalThis.removeEventListener("keydown",this._onKeyDown);this.renderer=this.children=this.pool=null}}
e.extension={name:"accessibility",type:[m.ExtensionType.RendererPlugin,m.ExtensionType.CanvasRendererPlugin]};m.extensions.add(e);k.AccessibilityManager=e};
shadow$provide[241]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(240);l=l(239);k.AccessibilityManager=r.AccessibilityManager;k.accessibleTarget=l.accessibleTarget};
shadow$provide[242]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(200);const e=class{constructor(d){this.stage=new p.Container;d=Object.assign({forceCanvas:!1},d);this.renderer=m.autoDetectRenderer(d);e._plugins.forEach(a=>{a.init.call(this,d)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(d,a){const c=e._plugins.slice(0);c.reverse();c.forEach(b=>{b.destroy.call(this)});this.stage.destroy(a);
this.stage=null;this.renderer.destroy(d);this.renderer=null}};r=e;r._plugins=[];m.extensions.handleByList(m.ExtensionType.Application,r._plugins);k.Application=r};
shadow$provide[243]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(195);class m{static init(p){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize);if(this._resizeTo=e)globalThis.addEventListener("resize",this.queueResize),this.resize()},get(){return this._resizeTo}});this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))};this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),
this._resizeId=null)};this.resize=()=>{if(this._resizeTo){this.cancelResize();if(this._resizeTo===globalThis.window){var e=globalThis.innerWidth;var d=globalThis.innerHeight}else{const {clientWidth:a,clientHeight:c}=this._resizeTo;e=a;d=c}this.renderer.resize(e,d);this.render()}};this._resizeTo=this._resizeId=null;this.resizeTo=p.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize);this.cancelResize();this.resize=this.resizeTo=this.queueResize=this.cancelResize=
null}}m.extension=r.ExtensionType.Application;r.extensions.add(m);k.ResizePlugin=m};
shadow$provide[244]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(242);l=l(243);k.Application=r.Application;k.ResizePlugin=l.ResizePlugin};
shadow$provide[245]=function(r,l,B,k){var m=l(195);const p={loader:m.ExtensionType.LoadParser,resolver:m.ExtensionType.ResolveParser,cache:m.ExtensionType.CacheParser,detection:m.ExtensionType.DetectionParser};m.extensions.handle(m.ExtensionType.Asset,e=>{const d=e.ref;Object.entries(p).filter(([a])=>!!d[a]).forEach(([a,c])=>m.extensions.add(Object.assign(d[a],{extension:d[a].extension??c})))},e=>{const d=e.ref;Object.keys(p).filter(a=>!!d[a]).forEach(a=>m.extensions.remove(d[a]))})};
shadow$provide[246]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{constructor(p,e=!1){this._loader=p;this._assetList=[];this._isLoading=!1;this._maxConcurrent=1;this.verbose=e}add(p){p.forEach(e=>{this._assetList.push(e)});this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList);this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const p=[],e=Math.min(this._assetList.length,this._maxConcurrent);
for(let d=0;d<e;d++)p.push(this._assetList.pop());await this._loader.load(p);this._isLoading=!1;this._next()}}get active(){return this._isActive}set active(p){this._isActive!==p&&(this._isActive=p)&&!this._isLoading&&this._next()}}k.BackgroundLoader=m};
shadow$provide[247]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.checkDataUrl=function(m,p){if(Array.isArray(p)){for(const e of p)if(m.startsWith(`data:${e}`))return!0;return!1}return m.startsWith(`data:${p}`)}};
shadow$provide[248]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);k.checkExtension=function(p,e){p=p.split("?")[0];p=m.utils.path.extname(p).toLowerCase();return Array.isArray(e)?e.includes(p):p===e}};
shadow$provide[249]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.convertToList=(m,p)=>{Array.isArray(m)||(m=[m]);return p?m.map(e=>"string"===typeof e?p(e):e):m}};
shadow$provide[250]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.copySearchParams=(m,p)=>{(p=p.split("?")[1])&&(m+=`?${p}`);return m}};
shadow$provide[251]=function(r,l,B,k){function m(p,e,d,a,c){const b=e[d];for(let g=0;g<b.length;g++){const f=b[g];d<e.length-1?m(p.replace(a[d],f),e,d+1,a,c):c.push(p.replace(a[d],f))}}Object.defineProperty(k,"__esModule",{value:!0});k.createStringVariations=function(p){const e=p.match(/\{(.*?)\}/g),d=[];if(e){const a=[];e.forEach(c=>{c=c.substring(1,c.length-1).split(",");a.push(c)});m(p,a,0,e,d)}else d.push(p);return d}};
shadow$provide[252]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.isSingleItem=m=>!Array.isArray(m)};
shadow$provide[253]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(247);B=l(248);var m=l(249),p=l(250),e=l(251);l=l(252);k.checkDataUrl=r.checkDataUrl;k.checkExtension=B.checkExtension;k.convertToList=m.convertToList;k.copySearchParams=p.copySearchParams;k.createStringVariations=e.createStringVariations;k.isSingleItem=l.isSingleItem};
shadow$provide[254]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);l(253);var p=l(249);class e{constructor(){this._parsers=[];this._cache=new Map;this._cacheMap=new Map}reset(){this._cacheMap.clear();this._cache.clear()}has(d){return this._cache.has(d)}get(d){const a=this._cache.get(d);a||console.warn(`[Assets] Asset id ${d} was not found in the Cache`);return a}set(d,a){d=p.convertToList(d);let c;for(var b=0;b<this.parsers.length;b++){const f=this.parsers[b];if(f.test(a)){c=
f.getCacheableAssets(d,a);break}}c||(c={},d.forEach(f=>{c[f]=a}));b=Object.keys(c);const g={cacheKeys:b,keys:d};d.forEach(f=>{this._cacheMap.set(f,g)});b.forEach(f=>{this._cache.has(f)&&this._cache.get(f)!==a&&console.warn("[Cache] already has key:",f);this._cache.set(f,c[f])});a instanceof m.Texture&&d.forEach(f=>{a.baseTexture!==m.Texture.EMPTY.baseTexture&&m.BaseTexture.addToCache(a.baseTexture,f);m.Texture.addToCache(a,f)})}remove(d){this._cacheMap.get(d);this._cacheMap.has(d)?(d=this._cacheMap.get(d),
d.cacheKeys.forEach(a=>{this._cache.delete(a)}),d.keys.forEach(a=>{this._cacheMap.delete(a)})):console.warn(`[Assets] Asset id ${d} was not found in the Cache`)}get parsers(){return this._parsers}}r=new e;k.Cache=r};
shadow$provide[255]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);l(253);var p=l(252),e=l(249);class d{constructor(){this._parsers=[];this._parsersValidated=!1;this.parsers=new Proxy(this._parsers,{set:(a,c,b)=>{this._parsersValidated=!1;a[c]=b;return!0}});this.promiseCache={}}reset(){this._parsersValidated=!1;this.promiseCache={}}_getLoadPromiseAndParser(a,c){const b={promise:null,parser:null};b.promise=(async()=>{var g,f=null;c.loadParser&&((f=this._parserHash[c.loadParser])||
console.warn(`[Assets] specified load parser "${c.loadParser}" not found while loading ${a}`));if(!f){for(g=0;g<this.parsers.length;g++){var h=this.parsers[g];if(h.load&&h.test?.(a,c,this)){f=h;break}}if(!f)return console.warn(`[Assets] ${a} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}g=await f.load(a,c,this);b.parser=f;for(f=0;f<this.parsers.length;f++)h=this.parsers[f],h.parse&&h.parse&&await h.testParse?.(g,c,this)&&(g=await h.parse(g,c,
this)||g,b.parser=h);return g})();return b}async load(a,c){this._parsersValidated||this._validateParsers();let b=0;const g={},f=p.isSingleItem(a);a=e.convertToList(a,q=>({src:q}));const h=a.length,n=a.map(async q=>{const t=m.utils.path.toAbsolute(q.src);if(!g[q.src])try{this.promiseCache[t]||(this.promiseCache[t]=this._getLoadPromiseAndParser(t,q)),g[q.src]=await this.promiseCache[t].promise,c&&c(++b/h)}catch(u){throw delete this.promiseCache[t],delete g[q.src],Error(`[Loader.load] Failed to load ${t}.
${u}`);}});await Promise.all(n);return f?g[a[0].src]:g}async unload(a){a=e.convertToList(a,c=>({src:c})).map(async c=>{const b=m.utils.path.toAbsolute(c.src),g=this.promiseCache[b];if(g){const f=await g.promise;g.parser?.unload?.(f,c,this);delete this.promiseCache[b]}});await Promise.all(a)}_validateParsers(){this._parsersValidated=!0;this._parserHash=this._parsers.filter(a=>a.name).reduce((a,c)=>{a[c.name]&&console.warn(`[Assets] loadParser name conflict "${c.name}"`);return{...a,[c.name]:c}},{})}}
k.Loader=d};
shadow$provide[256]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m;r=m||{};r[r.Low=0]="Low";r[r.Normal=1]="Normal";r[r.High=2]="High";k.LoaderParserPriority=r};
shadow$provide[257]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(247),e=l(248);r=l(256);r={extension:{type:m.ExtensionType.LoadParser,priority:r.LoaderParserPriority.Low},name:"loadJson",test(d){return p.checkDataUrl(d,"application/json")||e.checkExtension(d,".json")},async load(d){return await (await m.settings.ADAPTER.fetch(d)).json()}};m.extensions.add(r);k.loadJson=r};
shadow$provide[258]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(247),e=l(248);r=l(256);r={name:"loadTxt",extension:{type:m.ExtensionType.LoadParser,priority:r.LoaderParserPriority.Low},test(d){return p.checkDataUrl(d,"text/plain")||e.checkExtension(d,".txt")},async load(d){return await (await m.settings.ADAPTER.fetch(d)).text()}};m.extensions.add(r);k.loadTxt=r};
shadow$provide[259]=function(r,l,B,k){function m(f){var h=p.utils.path.extname(f);h=p.utils.path.basename(f,h).replace(/(-|_)/g," ").toLowerCase().split(" ").map(q=>q.charAt(0).toUpperCase()+q.slice(1));f=0<h.length;for(var n of h)if(!n.match(g)){f=!1;break}n=h.join(" ");f||(n=`"${n.replace(/[\\"]/g,"\\$\x26")}"`);return n}Object.defineProperty(k,"__esModule",{value:!0});var p=l(195),e=l(247),d=l(248);r=l(256);const a="normal bold 100 200 300 400 500 600 700 800 900".split(" "),c=[".ttf",".otf",".woff",
".woff2"],b=["font/ttf","font/otf","font/woff","font/woff2"],g=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;r={extension:{type:p.ExtensionType.LoadParser,priority:r.LoaderParserPriority.Low},name:"loadWebFont",test(f){return e.checkDataUrl(f,b)||d.checkExtension(f,c)},async load(f,h){const n=p.settings.ADAPTER.getFontFaceSet();if(n){const t=[],u=h.data?.family??m(f),w=h.data?.weights?.filter(x=>a.includes(x))??["normal"];h=h.data??{};for(let x=0;x<w.length;x++){var q=w[x];q=new FontFace(u,`url(${encodeURI(f)})`,
{...h,weight:q});await q.load();n.add(q);t.push(q)}return 1===t.length?t[0]:t}console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font");return null},unload(f){(Array.isArray(f)?f:[f]).forEach(h=>p.settings.ADAPTER.getFontFaceSet().delete(h))}};p.extensions.add(r);k.getFontFamilyName=m;k.loadWebFont=r};
shadow$provide[260]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});let m=0,p,e;class d{constructor(){this._initialized=!1;this._createdWorkers=0;this.workerPool=[];this.queue=[];this.resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported?this._isImageBitmapSupported:this._isImageBitmapSupported=new Promise(a=>{const c=URL.createObjectURL(new Blob(["\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !\x3d\x3d 'function') return false;\n\n            const response \x3d await fetch('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII\x3d');\n            const imageBlob \x3d  await response.blob();\n            const imageBitmap \x3d await createImageBitmap(imageBlob);\n\n            return imageBitmap.width \x3d\x3d\x3d 1 \x26\x26 imageBitmap.height \x3d\x3d\x3d 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) \x3d\x3e { self.postMessage(result); });\n    "],
{type:"application/javascript"})),b=new Worker(c);b.addEventListener("message",g=>{b.terminate();URL.revokeObjectURL(c);a(g.data)})})}loadImageBitmap(a){return this._run("loadImageBitmap",[a])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){void 0===p&&(p=navigator.hardwareConcurrency||4);let a=this.workerPool.pop();!a&&this._createdWorkers<p&&(e||(e=URL.createObjectURL(new Blob(["\n    async function loadImageBitmap(url)\n    {\n        const response \x3d await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob \x3d  await response.blob();\n        const imageBitmap \x3d await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage \x3d async (event) \x3d\x3e\n    {\n        try\n        {\n            const imageBitmap \x3d await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };"],
{type:"application/javascript"}))),this._createdWorkers++,a=new Worker(e),a.addEventListener("message",c=>{this.complete(c.data);this.returnWorker(c.target);this.next()}));return a}returnWorker(a){this.workerPool.push(a)}complete(a){void 0!==a.error?this.resolveHash[a.uuid].reject(a.error):this.resolveHash[a.uuid].resolve(a.data);this.resolveHash[a.uuid]=null}async _run(a,c){await this._initWorkers();const b=new Promise((g,f)=>{this.queue.push({id:a,arguments:c,resolve:g,reject:f})});this.next();
return b}next(){if(this.queue.length){var a=this.getWorker();if(a){var c=this.queue.pop(),b=c.id;this.resolveHash[m]={resolve:c.resolve,reject:c.reject};a.postMessage({data:c.arguments,uuid:m++,id:b})}}}}r=new d;k.WorkerManager=r};
shadow$provide[261]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);k.createTexture=function(p,e,d){p=new m.Texture(p);p.baseTexture.on("dispose",()=>{delete e.promiseCache[d]});return p}};
shadow$provide[262]=function(r,l,B,k){async function m(f){const h=await p.settings.ADAPTER.fetch(f);if(!h.ok)throw Error(`[loadImageBitmap] Failed to fetch ${f}: ${h.status} ${h.statusText}`);f=await h.blob();return await createImageBitmap(f)}Object.defineProperty(k,"__esModule",{value:!0});var p=l(195),e=l(247),d=l(248);r=l(256);var a=l(260),c=l(261);const b=[".jpeg",".jpg",".png",".webp",".avif"],g=["image/jpeg","image/png","image/webp","image/avif"];l={name:"loadTextures",extension:{type:p.ExtensionType.LoadParser,
priority:r.LoaderParserPriority.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(f){return e.checkDataUrl(f,g)||d.checkExtension(f,b)},async load(f,h,n){let q=null;q=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await a.WorkerManager.isImageBitmapSupported()?await a.WorkerManager.loadImageBitmap(f):await m(f):await new Promise(t=>{q=new Image;q.crossOrigin=this.config.crossOrigin;q.src=f;q.complete?t(q):q.onload=
()=>{t(q)}});h=new p.BaseTexture(q,{resolution:p.utils.getResolutionOfUrl(f),...h.data});h.resource.src=f;return c.createTexture(h,n,f)},unload(f){f.destroy(!0)}};p.extensions.add(l);k.loadImageBitmap=m;k.loadTextures=l};
shadow$provide[263]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(247),e=l(248);r=l(256);B=l(262);var d=l(261);l={extension:{type:m.ExtensionType.LoadParser,priority:r.LoaderParserPriority.High},name:"loadSVG",test(a){return p.checkDataUrl(a,"image/svg+xml")||e.checkExtension(a,".svg")},async testParse(a){return m.SVGResource.test(a)},async parse(a,c,b){const g=new m.SVGResource(a,c?.data?.resourceOptions);await g.load();c=new m.BaseTexture(g,{resolution:m.utils.getResolutionOfUrl(a),
...c?.data});c.resource.src=a;return d.createTexture(c,b,a)},async load(a,c){return(await m.settings.ADAPTER.fetch(a)).text()},unload:B.loadTextures.unload};m.extensions.add(l);k.loadSVG=l};
shadow$provide[264]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(261);k.createTexture=r.createTexture};
shadow$provide[265]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(263);B=l(262);l(264);k.loadSVG=r.loadSVG;k.loadImageBitmap=B.loadImageBitmap;k.loadTextures=B.loadTextures};
shadow$provide[266]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(256);B=l(257);var m=l(258),p=l(259);l(265);k.LoaderParserPriority=r.LoaderParserPriority;k.loadJson=B.loadJson;k.loadTxt=m.loadTxt;k.getFontFamilyName=p.getFontFamilyName;k.loadWebFont=p.loadWebFont};
shadow$provide[267]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(249),e=l(251),d=l(252);class a{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(c,b)=>`${c}${this._bundleIdConnector}${b}`,extractAssetIdFromBundle:(c,b)=>b.replace(`${c}${this._bundleIdConnector}`,"")};this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector;this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId;this._extractAssetIdFromBundle=
this._defaultBundleIdentifierOptions.extractAssetIdFromBundle;this._assetMap={};this._preferredOrder=[];this._parsers=[];this._resolverHash={};this._bundles={}}setBundleIdentifier(c){this._bundleIdConnector=c.connector??this._bundleIdConnector;this._createBundleAssetId=c.createBundleAssetId??this._createBundleAssetId;this._extractAssetIdFromBundle=c.extractAssetIdFromBundle??this._extractAssetIdFromBundle;if("bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw Error("[Resolver] GenerateBundleAssetId are not working correctly");
}prefer(...c){c.forEach(b=>{this._preferredOrder.push(b);b.priority||(b.priority=Object.keys(b.params))});this._resolverHash={}}set basePath(c){this._basePath=c}get basePath(){return this._basePath}set rootPath(c){this._rootPath=c}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions);this._assetMap={};this._preferredOrder=[];this._resolverHash={};this._manifest=this._basePath=this._rootPath=null;this._bundles=
{};this._defaultSearchParams=null}setDefaultSearchParams(c){this._defaultSearchParams="string"===typeof c?c:Object.keys(c).map(b=>`${encodeURIComponent(b)}=${encodeURIComponent(c[b])}`).join("\x26")}addManifest(c){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten");this._manifest=c;c.bundles.forEach(b=>{this.addBundle(b.name,b.assets)})}addBundle(c,b){const g=[];Array.isArray(b)?b.forEach(f=>{if("string"===typeof f.name){var h=this._createBundleAssetId(c,f.name);
g.push(h);this.add([f.name,h],f.srcs,f.data)}else h=f.name.map(n=>this._createBundleAssetId(c,n)),h.forEach(n=>{g.push(n)}),this.add([...f.name,...h],f.srcs)}):Object.keys(b).forEach(f=>{g.push(this._createBundleAssetId(c,f));this.add([f,this._createBundleAssetId(c,f)],b[f])});this._bundles[c]=g}add(c,b,g){const f=p.convertToList(c);f.forEach(n=>{this.hasKey(n)&&console.warn(`[Resolver] already has key: ${n} overwriting`)});Array.isArray(b)||(b="string"===typeof b?e.createStringVariations(b):[b]);
const h=b.map(n=>{let q=n;if("string"===typeof n){let t=!1;for(let u=0;u<this._parsers.length;u++){const w=this._parsers[u];if(w.test(n)){q=w.parse(n);t=!0;break}}t||(q={src:n})}q.format||(q.format=q.src.split(".").pop());q.alias||(q.alias=f);if(this._basePath||this._rootPath)q.src=m.utils.path.toAbsolute(q.src,this._basePath,this._rootPath);q.src=this._appendDefaultSearchParams(q.src);q.data=q.data??g;return q});f.forEach(n=>{this._assetMap[n]=h})}resolveBundle(c){const b=d.isSingleItem(c);c=p.convertToList(c);
const g={};c.forEach(f=>{var h=this._bundles[f];if(h){h=this.resolve(h);const n={};for(const q in h){const t=h[q];n[this._extractAssetIdFromBundle(f,q)]=t}g[f]=n}});return b?g[c[0]]:g}resolveUrl(c){const b=this.resolve(c);if("string"!==typeof c){c={};for(const g in b)c[g]=b[g].src;return c}return b.src}resolve(c){const b=d.isSingleItem(c);c=p.convertToList(c);const g={};c.forEach(f=>{if(!this._resolverHash[f])if(this._assetMap[f]){let n=this._assetMap[f];const q=this._getPreferredOrder(n);var h=n[0];
q?.priority.forEach(t=>{q.params[t].forEach(u=>{const w=n.filter(x=>x[t]?x[t]===u:!1);w.length&&(n=w)})});this._resolverHash[f]=n[0]??h}else{h=f;if(this._basePath||this._rootPath)h=m.utils.path.toAbsolute(h,this._basePath,this._rootPath);h=this._appendDefaultSearchParams(h);this._resolverHash[f]={src:h}}g[f]=this._resolverHash[f]});return b?g[c[0]]:g}hasKey(c){return!!this._assetMap[c]}hasBundle(c){return!!this._bundles[c]}_getPreferredOrder(c){for(let b=0;b<c.length;b++){const g=c[0],f=this._preferredOrder.find(h=>
h.params.format.includes(g.format));if(f)return f}return this._preferredOrder[0]}_appendDefaultSearchParams(c){if(!this._defaultSearchParams)return c;const b=/\?/.test(c)?"\x26":"?";return`${c}${b}${this._defaultSearchParams}`}}k.Resolver=a};
shadow$provide[268]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(246),e=l(254),d=l(255);l(266);var a=l(267),c=l(249),b=l(252),g=l(262);class f{constructor(){this._detections=[];this._initialized=!1;this.resolver=new a.Resolver;this.loader=new d.Loader;this.cache=e.Cache;this._backgroundLoader=new p.BackgroundLoader(this.loader);this._backgroundLoader.active=!0;this.reset()}async init(h={}){if(this._initialized)console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");
else{this._initialized=!0;h.defaultSearchParams&&this.resolver.setDefaultSearchParams(h.defaultSearchParams);h.basePath&&(this.resolver.basePath=h.basePath);h.bundleIdentifier&&this.resolver.setBundleIdentifier(h.bundleIdentifier);if(h.manifest){var n=h.manifest;"string"===typeof n&&(n=await this.load(n));this.resolver.addManifest(n)}n=h.texturePreference?.resolution??1;n="number"===typeof n?[n]:n;var q=[];if(h.texturePreference?.format){var t=h.texturePreference?.format;q="string"===typeof t?[t]:
t;for(const u of this._detections)await u.test()||(q=await u.remove(q))}else for(t of this._detections)await t.test()&&(q=await t.add(q));this.resolver.prefer({params:{format:q,resolution:n}});h.preferences&&this.setPreferences(h.preferences)}}add(h,n,q){this.resolver.add(h,n,q)}async load(h,n){this._initialized||await this.init();const q=b.isSingleItem(h);h=c.convertToList(h).map(u=>{if("string"!==typeof u)return this.resolver.add(u.src,u),u.src;this.resolver.hasKey(u)||this.resolver.add(u,u);return u});
const t=this.resolver.resolve(h);n=await this._mapLoadToResolve(t,n);return q?n[h[0]]:n}addBundle(h,n){this.resolver.addBundle(h,n)}async loadBundle(h,n){this._initialized||await this.init();let q=!1;"string"===typeof h&&(q=!0,h=[h]);const t=this.resolver.resolveBundle(h),u={};let w=0,x=0;const y=()=>{n?.(++w/x)},z=Object.keys(t).map(C=>{const A=t[C];x+=Object.keys(A).length;return this._mapLoadToResolve(A,y).then(v=>{u[C]=v})});await Promise.all(z);return q?u[h[0]]:u}async backgroundLoad(h){this._initialized||
await this.init();"string"===typeof h&&(h=[h]);h=this.resolver.resolve(h);this._backgroundLoader.add(Object.values(h))}async backgroundLoadBundle(h){this._initialized||await this.init();"string"===typeof h&&(h=[h]);h=this.resolver.resolveBundle(h);Object.values(h).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset();this.loader.reset();this.cache.reset();this._initialized=!1}get(h){if("string"===typeof h)return e.Cache.get(h);const n={};for(let q=0;q<h.length;q++)n[q]=
e.Cache.get(h[q]);return n}async _mapLoadToResolve(h,n){const q=Object.values(h),t=Object.keys(h);this._backgroundLoader.active=!1;const u=await this.loader.load(q,n);this._backgroundLoader.active=!0;const w={};q.forEach((x,y)=>{const z=u[x.src],C=[x.src];x.alias&&C.push(...x.alias);w[t[y]]=z;e.Cache.set(C,z)});return w}async unload(h){this._initialized||await this.init();h=c.convertToList(h).map(n=>"string"!==typeof n?n.src:n);h=this.resolver.resolve(h);await this._unloadFromResolved(h)}async unloadBundle(h){this._initialized||
await this.init();h=c.convertToList(h);const n=this.resolver.resolveBundle(h);h=Object.keys(n).map(q=>this._unloadFromResolved(n[q]));await Promise.all(h)}async _unloadFromResolved(h){h=Object.values(h);h.forEach(n=>{e.Cache.remove(n.src)});await this.loader.unload(h)}get detections(){return this._detections}get preferWorkers(){return g.loadTextures.config.preferWorkers}set preferWorkers(h){m.utils.deprecation("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead.");
this.setPreferences({preferWorkers:h})}setPreferences(h){this.loader.parsers.forEach(n=>{n.config&&Object.keys(n.config).filter(q=>q in h).forEach(q=>{n.config[q]=h[q]})})}}r=new f;m.extensions.handleByList(m.ExtensionType.LoadParser,r.loader.parsers).handleByList(m.ExtensionType.ResolveParser,r.resolver.parsers).handleByList(m.ExtensionType.CacheParser,r.cache.parsers).handleByList(m.ExtensionType.DetectionParser,r.detections);k.Assets=r;k.AssetsClass=f};
shadow$provide[269]=function(r,l,B,k){};
shadow$provide[270]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r={extension:m.ExtensionType.CacheParser,test:p=>Array.isArray(p)&&p.every(e=>e instanceof m.Texture),getCacheableAssets:(p,e)=>{const d={};p.forEach(a=>{e.forEach((c,b)=>{d[a+(0===b?"":b+1)]=c})});return d}};m.extensions.add(r);k.cacheTextureArray=r};
shadow$provide[271]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(270);k.cacheTextureArray=r.cacheTextureArray};
shadow$provide[272]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(254);l(269);l(271);k.Cache=r.Cache};
shadow$provide[273]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r={extension:{type:m.ExtensionType.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const p=await m.settings.ADAPTER.fetch("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A\x3d").then(e=>
e.blob());return createImageBitmap(p).then(()=>!0,()=>!1)},add:async p=>[...p,"avif"],remove:async p=>p.filter(e=>"avif"!==e)};m.extensions.add(r);k.detectAvif=r};
shadow$provide[274]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r={extension:{type:m.ExtensionType.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const p=await m.settings.ADAPTER.fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA\x3d").then(e=>e.blob());return createImageBitmap(p).then(()=>!0,()=>!1)},add:async p=>[...p,"webp"],remove:async p=>p.filter(e=>"webp"!==e)};m.extensions.add(r);k.detectWebp=
r};
shadow$provide[275]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(195);const m=["png","jpg","jpeg"];l={extension:{type:r.ExtensionType.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async p=>[...p,...m],remove:async p=>p.filter(e=>!m.includes(e))};r.extensions.add(l);k.detectDefaults=l};
shadow$provide[276]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(273);B=l(274);l=l(275);k.detectAvif=r.detectAvif;k.detectWebp=B.detectWebp;k.detectDefaults=l.detectDefaults};
shadow$provide[277]=function(r,l,B,k){l(276)};
shadow$provide[278]=function(r,l,B,k){};
shadow$provide[279]=function(r,l,B,k){l(266);l(278)};
shadow$provide[280]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);l(279);r=l(262);r={extension:m.ExtensionType.ResolveParser,test:r.loadTextures.test,parse:p=>({resolution:parseFloat(m.settings.RETINA_PREFIX.exec(p)?.[1]??"1"),format:p.split(".").pop(),src:p})};m.extensions.add(r);k.resolveTextureUrl=r};
shadow$provide[281]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(280);k.resolveTextureUrl=r.resolveTextureUrl};
shadow$provide[282]=function(r,l,B,k){};
shadow$provide[283]=function(r,l,B,k){l(281);l(282)};
shadow$provide[284]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});l(245);r=l(268);l(272);l(277);l(279);l(283);l(253);B=l(254);var m=l(270),p=l(273),e=l(274),d=l(275),a=l(256),c=l(257),b=l(258),g=l(259),f=l(263),h=l(262),n=l(261),q=l(280),t=l(247),u=l(248),w=l(249),x=l(250),y=l(251);l=l(252);k.Assets=r.Assets;k.AssetsClass=r.AssetsClass;k.Cache=B.Cache;k.cacheTextureArray=m.cacheTextureArray;k.detectAvif=p.detectAvif;k.detectWebp=e.detectWebp;k.detectDefaults=d.detectDefaults;
k.LoaderParserPriority=a.LoaderParserPriority;k.loadJson=c.loadJson;k.loadTxt=b.loadTxt;k.getFontFamilyName=g.getFontFamilyName;k.loadWebFont=g.loadWebFont;k.loadSVG=f.loadSVG;k.loadImageBitmap=h.loadImageBitmap;k.loadTextures=h.loadTextures;k.createTexture=n.createTexture;k.resolveTextureUrl=q.resolveTextureUrl;k.checkDataUrl=t.checkDataUrl;k.checkExtension=u.checkExtension;k.convertToList=w.convertToList;k.copySearchParams=x.copySearchParams;k.createStringVariations=y.createStringVariations;k.isSingleItem=
l.isSingleItem};
shadow$provide[285]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m;r=m||{};r[r.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT";r[r.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT";r[r.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT";r[r.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT";r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT";r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=
35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT";r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT";r[r.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT";r[r.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC";r[r.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC";r[r.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC";r[r.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC";r[r.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2";r[r.COMPRESSED_RGBA8_ETC2_EAC=
37496]="COMPRESSED_RGBA8_ETC2_EAC";r[r.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2";r[r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC";r[r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2";r[r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2";r[r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG";r[r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG";
r[r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG";r[r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG";r[r.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL";r[r.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL";r[r.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL";r[r.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL";r[r.COMPRESSED_RGBA_ASTC_4x4_KHR=
37808]="COMPRESSED_RGBA_ASTC_4x4_KHR";k.INTERNAL_FORMATS=r;k.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1}};
shadow$provide[286]=function(r,l,B,k){};
shadow$provide[287]=function(r,l,B,k){function m(){d={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")}}Object.defineProperty(k,
"__esModule",{value:!0});var p=l(195);let e,d;r={extension:{type:p.ExtensionType.DetectionParser,priority:2},test:async()=>{const a=p.settings.ADAPTER.createCanvas().getContext("webgl");if(!a)return console.warn("WebGL not available for compressed textures."),!1;e=a;return!0},add:async a=>{d||m();const c=[];for(const b in d)d[b]&&c.push(b);return[...c,...a]},remove:async a=>{d||m();return a.filter(c=>!(c in d))}};p.extensions.add(r);k.detectCompressedTextures=r};
shadow$provide[288]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);class p extends m.BufferResource{constructor(e,d={width:1,height:1,autoLoad:!0}){let a;"string"===typeof e?(a=e,e=new Uint8Array):a=null;super(e,d);this.origin=a;this.buffer=e?new m.ViewableBuffer(e):null;this._load=null;this.loaded=!1;null!==this.origin&&!1!==d.autoLoad&&this.load();null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?
this._load:this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>{this.data=new Uint32Array(e);this.buffer=new m.ViewableBuffer(e);this.loaded=!0;this.onBlobLoaded(e);this.update();return this})}}k.BlobResource=p};
shadow$provide[289]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(285);r=l(288);class p extends r.BlobResource{constructor(e,d){super(e,d);this.format=d.format;this.levels=d.levels||1;this._width=d.width;this._height=d.height;this._extension=p._formatToExtension(this.format);if(d.levelBuffers||this.buffer)this._levelBuffers=d.levelBuffers||p._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}upload(e,
d,a){d=e.gl;if(!e.context.extensions[this._extension])throw Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let c=0,b=this.levels;c<b;c++){const {levelID:g,levelWidth:f,levelHeight:h,levelBuffer:n}=this._levelBuffers[c];d.compressedTexImage2D(d.TEXTURE_2D,g,this.format,f,h,0,n)}return!0}onBlobLoaded(){this._levelBuffers=p._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(33776<=
e&&33779>=e)return"s3tc";if(37488<=e&&37497>=e)return"etc";if(35840<=e&&35843>=e)return"pvrtc";if(36196<=e)return"etc1";if(35986<=e&&34798>=e)return"atc";throw Error("Invalid (compressed) texture format given!");}static _createLevelBuffers(e,d,a,c,b,g,f){const h=Array(a);let n=e.byteOffset,q=g+c-1&~(c-1),t=f+b-1&~(b-1),u=q*t*m.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[d];for(let w=0;w<a;w++)h[w]={levelID:w,levelWidth:1<a?g:q,levelHeight:1<a?f:t,levelBuffer:new Uint8Array(e.buffer,n,u)},n+=u,g=g>>1||1,f=
f>>1||1,q=g+c-1&~(c-1),t=f+b-1&~(b-1),u=q*t*m.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[d];return h}}k.CompressedTextureResource=p};
shadow$provide[290]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(288);l=l(289);k.BlobResource=r.BlobResource;k.CompressedTextureResource=l.CompressedTextureResource};
shadow$provide[291]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(285);l(290);var p=l(289),e=(b=>{b[b.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN";b[b.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS";b[b.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT";b[b.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT";b[b.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT";b[b.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS";
b[b.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT";b[b.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT";b[b.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT";b[b.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS";b[b.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT";b[b.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM";b[b.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT";b[b.DXGI_FORMAT_R16G16B16A16_SNORM=
13]="DXGI_FORMAT_R16G16B16A16_SNORM";b[b.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT";b[b.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS";b[b.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT";b[b.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT";b[b.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT";b[b.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS";b[b.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT";b[b.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=
21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS";b[b.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT";b[b.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS";b[b.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM";b[b.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT";b[b.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT";b[b.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS";b[b.DXGI_FORMAT_R8G8B8A8_UNORM=
28]="DXGI_FORMAT_R8G8B8A8_UNORM";b[b.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB";b[b.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT";b[b.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM";b[b.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT";b[b.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS";b[b.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT";b[b.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM";b[b.DXGI_FORMAT_R16G16_UINT=
36]="DXGI_FORMAT_R16G16_UINT";b[b.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM";b[b.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT";b[b.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS";b[b.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT";b[b.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT";b[b.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT";b[b.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT";b[b.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS";b[b.DXGI_FORMAT_D24_UNORM_S8_UINT=
45]="DXGI_FORMAT_D24_UNORM_S8_UINT";b[b.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS";b[b.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT";b[b.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS";b[b.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM";b[b.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT";b[b.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM";b[b.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT";b[b.DXGI_FORMAT_R16_TYPELESS=
53]="DXGI_FORMAT_R16_TYPELESS";b[b.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT";b[b.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM";b[b.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM";b[b.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT";b[b.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM";b[b.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT";b[b.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS";b[b.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM";b[b.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT";
b[b.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM";b[b.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT";b[b.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM";b[b.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM";b[b.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP";b[b.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM";b[b.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM";b[b.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS";b[b.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM";
b[b.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB";b[b.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS";b[b.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM";b[b.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB";b[b.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS";b[b.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM";b[b.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB";b[b.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS";b[b.DXGI_FORMAT_BC4_UNORM=
80]="DXGI_FORMAT_BC4_UNORM";b[b.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM";b[b.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS";b[b.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM";b[b.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM";b[b.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM";b[b.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM";b[b.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM";b[b.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM";
b[b.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM";b[b.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS";b[b.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB";b[b.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS";b[b.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB";b[b.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS";b[b.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16";b[b.DXGI_FORMAT_BC6H_SF16=
96]="DXGI_FORMAT_BC6H_SF16";b[b.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS";b[b.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM";b[b.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB";b[b.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV";b[b.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410";b[b.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416";b[b.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12";b[b.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010";b[b.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016";b[b.DXGI_FORMAT_420_OPAQUE=
106]="DXGI_FORMAT_420_OPAQUE";b[b.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2";b[b.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210";b[b.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216";b[b.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11";b[b.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44";b[b.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44";b[b.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8";b[b.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8";b[b.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM";b[b.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208";b[b.DXGI_FORMAT_V208=
117]="DXGI_FORMAT_V208";b[b.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408";b[b.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE";b[b.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE";b[b.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT";return b})(e||{}),d=(b=>{b[b.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D";b[b.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D";b[b.DDS_DIMENSION_TEXTURE3D=
6]="DDS_DIMENSION_TEXTURE3D";return b})(d||{});const a={[827611204]:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,[861165636]:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,[894720068]:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT},c={[70]:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,
[77]:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:m.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:m.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:m.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};k.parseDDS=function(b){var g=new Uint32Array(b);if(542327876!==g[0])throw Error("Invalid DDS file magic word");var f=new Uint32Array(b,0,124/Uint32Array.BYTES_PER_ELEMENT);const h=f[3],n=f[4],q=f[7];f=new Uint32Array(b,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT);
var t=f[1];if(t&4){f=f[2];if(808540228!==f)return g=a[f],b=new Uint8Array(b,128),[new p.CompressedTextureResource(b,{format:g,width:n,height:h,levels:q})];g=new Uint32Array(g.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT);f=g[0];t=g[1];var u=g[2];g=g[3];const x=c[f];if(void 0===x)throw Error(`DDSParser cannot parse texture data with DXGI format ${f}`);if(4===u)throw Error("DDSParser does not support cubemap textures");if(6===t)throw Error("DDSParser does not supported 3D texture data");f=[];if(1===
g)f.push(new Uint8Array(b,148));else{u=m.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[x];t=0;var w=n;let y=h;for(let z=0;z<q;z++)t+=Math.max(1,w+3&-4)*Math.max(1,y+3&-4)*u,w>>>=1,y>>>=1;u=148;for(w=0;w<g;w++)f.push(new Uint8Array(b,u,t)),u+=t}return f.map(y=>new p.CompressedTextureResource(y,{format:x,width:n,height:h,levels:q}))}if(t&64)throw Error("DDSParser does not support uncompressed texture data.");if(t&512)throw Error("DDSParser does not supported YUV uncompressed texture data.");if(t&131072)throw Error("DDSParser does not support single-channel (lumninance) texture data!");
if(t&2)throw Error("DDSParser does not support single-channel (alpha) texture data!");throw Error("DDSParser failed to load a texture file due to an unknown reason!");}};
shadow$provide[292]=function(r,l,B,k){function m(n,q){for(let t=0;t<b.length;t++)if(q.getUint8(t)!==b[t])return console.error(`${n} is not a valid *.ktx file!`),!1;return!0}function p(n){switch(n){case d.FORMATS.RGBA:return d.FORMATS.RGBA_INTEGER;case d.FORMATS.RGB:return d.FORMATS.RGB_INTEGER;case d.FORMATS.RG:return d.FORMATS.RG_INTEGER;case d.FORMATS.RED:return d.FORMATS.RED_INTEGER;default:return n}}function e(n,q,t){const u=new Map;let w=0;for(;w<q;){const y=n.getUint32(64+w,t);var x=64+w+4;
const z=3-(y+3)%4;if(0===y||y>q-w){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let C=0;for(;C<y&&0!==n.getUint8(x+C);C++);if(-1===C){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const A=(new TextDecoder).decode(new Uint8Array(n.buffer,x,C));x=new DataView(n.buffer,x+C+1,y-C-1);u.set(A,x);w+=4+y+z}return u}Object.defineProperty(k,"__esModule",{value:!0});var d=l(195),a=l(285);l(290);var c=l(289);const b=[171,75,84,88,32,49,49,187,13,10,26,
10],g={[d.TYPES.UNSIGNED_BYTE]:1,[d.TYPES.UNSIGNED_SHORT]:2,[d.TYPES.INT]:4,[d.TYPES.UNSIGNED_INT]:4,[d.TYPES.FLOAT]:4,[d.TYPES.HALF_FLOAT]:8},f={[d.FORMATS.RGBA]:4,[d.FORMATS.RGB]:3,[d.FORMATS.RG]:2,[d.FORMATS.RED]:1,[d.FORMATS.LUMINANCE]:1,[d.FORMATS.LUMINANCE_ALPHA]:2,[d.FORMATS.ALPHA]:1},h={[d.TYPES.UNSIGNED_SHORT_4_4_4_4]:2,[d.TYPES.UNSIGNED_SHORT_5_5_5_1]:2,[d.TYPES.UNSIGNED_SHORT_5_6_5]:2};k.FORMATS_TO_COMPONENTS=f;k.TYPES_TO_BYTES_PER_COMPONENT=g;k.TYPES_TO_BYTES_PER_PIXEL=h;k.parseKTX=function(n,
q,t=!1){const u=new DataView(q);if(!m(n,u))return null;n=67305985===u.getUint32(12,!0);const w=u.getUint32(16,n),x=u.getUint32(24,n),y=u.getUint32(28,n),z=u.getUint32(36,n),C=u.getUint32(40,n)||1;var A=u.getUint32(44,n)||1;const v=u.getUint32(48,n)||1;var F=u.getUint32(52,n);const I=u.getUint32(56,n);var H=u.getUint32(60,n);if(0===C||1!==A)throw Error("Only 2D textures are supported");if(1!==F)throw Error("CubeTextures are not supported by KTXLoader yet!");if(1!==v)throw Error("WebGL does not support array textures");
var M=z+3&-4,K=C+3&-4;A=Array(v);var E=z*C;0===w&&(E=M*K);F=0!==w?g[w]?g[w]*f[x]:h[w]:a.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[y];if(void 0===F)throw Error("Unable to resolve the pixel format stored in the *.ktx file!");t=t?e(u,H,n):null;E*=F;let L=z,D=C;H=64+H;for(let G=0;G<I;G++){const J=u.getUint32(H,n);let N=H+4;for(let R=0;R<v;R++){let Q=A[R];Q||(Q=A[R]=Array(I));Q[G]={levelID:G,levelWidth:1<I||0!==w?L:M,levelHeight:1<I||0!==w?D:K,levelBuffer:new Uint8Array(q,N,E)};N+=E}H+=J+4;H=0!==H%4?H+4-H%4:
H;L=L>>1||1;D=D>>1||1;M=L+4-1&-4;K=D+4-1&-4;E=M*K*F}return 0!==w?{uncompressed:A.map(G=>{let J=G[0].levelBuffer,N=!1;w===d.TYPES.FLOAT?J=new Float32Array(G[0].levelBuffer.buffer,G[0].levelBuffer.byteOffset,G[0].levelBuffer.byteLength/4):w===d.TYPES.UNSIGNED_INT?(N=!0,J=new Uint32Array(G[0].levelBuffer.buffer,G[0].levelBuffer.byteOffset,G[0].levelBuffer.byteLength/4)):w===d.TYPES.INT&&(N=!0,J=new Int32Array(G[0].levelBuffer.buffer,G[0].levelBuffer.byteOffset,G[0].levelBuffer.byteLength/4));return{resource:new d.BufferResource(J,
{width:G[0].levelWidth,height:G[0].levelHeight}),type:w,format:N?p(x):x}}),kvData:t}:{compressed:A.map(G=>new c.CompressedTextureResource(null,{format:y,width:z,height:C,levels:I,levelBuffers:G})),kvData:t}}};
shadow$provide[293]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(291);l=l(292);k.parseDDS=r.parseDDS;k.FORMATS_TO_COMPONENTS=l.FORMATS_TO_COMPONENTS;k.TYPES_TO_BYTES_PER_COMPONENT=l.TYPES_TO_BYTES_PER_COMPONENT;k.TYPES_TO_BYTES_PER_PIXEL=l.TYPES_TO_BYTES_PER_PIXEL;k.parseKTX=l.parseKTX};
shadow$provide[294]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(284),p=l(195);l(293);var e=l(291);r={extension:{type:p.ExtensionType.LoadParser,priority:m.LoaderParserPriority.High},name:"loadDDS",test(d){return m.checkExtension(d,".dds")},async load(d,a,c){var b=await (await p.settings.ADAPTER.fetch(d)).arrayBuffer();b=e.parseDDS(b).map(g=>{g=new p.BaseTexture(g,{mipmap:p.MIPMAP_MODES.OFF,alphaMode:p.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:p.utils.getResolutionOfUrl(d),
...a.data});return m.createTexture(g,c,d)});return 1===b.length?b[0]:b},unload(d){Array.isArray(d)?d.forEach(a=>a.destroy(!0)):d.destroy(!0)}};p.extensions.add(r);k.loadDDS=r};
shadow$provide[295]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(284),p=l(195);l(293);var e=l(292);r={extension:{type:p.ExtensionType.LoadParser,priority:m.LoaderParserPriority.High},name:"loadKTX",test(d){return m.checkExtension(d,".ktx")},async load(d,a,c){const b=await (await p.settings.ADAPTER.fetch(d)).arrayBuffer(),{compressed:g,uncompressed:f,kvData:h}=e.parseKTX(d,b),n=g??f,q={mipmap:p.MIPMAP_MODES.OFF,alphaMode:p.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:p.utils.getResolutionOfUrl(d),
...a.data};a=n.map(t=>{n===f&&Object.assign(q,{type:t.type,format:t.format});t=new p.BaseTexture(t,q);t.ktxKeyValueData=h;return m.createTexture(t,c,d)});return 1===a.length?a[0]:a},unload(d){Array.isArray(d)?d.forEach(a=>a.destroy(!0)):d.destroy(!0)}};p.extensions.add(r);k.loadKTX=r};
shadow$provide[296]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r={extension:m.ExtensionType.ResolveParser,test:p=>{p=p.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(p)},parse:p=>{if("ktx"===p.split("?")[0].split(".").pop()){const e=".s3tc.ktx .s3tc_sRGB.ktx .etc.ktx .etc1.ktx .pvrt.ktx .atc.ktx .astc.ktx".split(" ");if(e.some(d=>p.endsWith(d)))return{resolution:parseFloat(m.settings.RETINA_PREFIX.exec(p)?.[1]??"1"),format:e.find(d=>p.endsWith(d)),
src:p}}return{resolution:parseFloat(m.settings.RETINA_PREFIX.exec(p)?.[1]??"1"),format:p.split(".").pop(),src:p}}};m.extensions.add(r);k.resolveCompressedTextureUrl=r};
shadow$provide[297]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});l(286);r=l(287);B=l(294);var m=l(295);l=l(296);k.detectCompressedTextures=r.detectCompressedTextures;k.loadDDS=B.loadDDS;k.loadKTX=m.loadKTX;k.resolveCompressedTextureUrl=l.resolveCompressedTextureUrl};
shadow$provide[298]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(285);l(297);l(293);l(290);B=l(287);var m=l(294),p=l(295),e=l(296),d=l(291),a=l(292),c=l(288);l=l(289);k.INTERNAL_FORMATS=r.INTERNAL_FORMATS;k.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=r.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL;k.detectCompressedTextures=B.detectCompressedTextures;k.loadDDS=m.loadDDS;k.loadKTX=p.loadKTX;k.resolveCompressedTextureUrl=e.resolveCompressedTextureUrl;k.parseDDS=d.parseDDS;k.FORMATS_TO_COMPONENTS=
a.FORMATS_TO_COMPONENTS;k.TYPES_TO_BYTES_PER_COMPONENT=a.TYPES_TO_BYTES_PER_COMPONENT;k.TYPES_TO_BYTES_PER_PIXEL=a.TYPES_TO_BYTES_PER_PIXEL;k.parseKTX=a.parseKTX;k.BlobResource=c.BlobResource;k.CompressedTextureResource=l.CompressedTextureResource};
shadow$provide[299]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);const p=new m.Rectangle,e=class{constructor(d){this.renderer=d}async image(d,a,c){const b=new Image;b.src=await this.base64(d,a,c);return b}async base64(d,a,c){const b=this.canvas(d);if(void 0!==b.toBlob)return new Promise((g,f)=>{b.toBlob(h=>{if(h){var n=new FileReader;n.onload=()=>g(n.result);n.onerror=f;n.readAsDataURL(h)}else f(Error("ICanvas.toBlob failed!"))},a,c)});if(void 0!==b.toDataURL)return b.toDataURL(a,
c);if(void 0!==b.convertToBlob){const g=await b.convertToBlob({type:a,quality:c});return new Promise((f,h)=>{const n=new FileReader;n.onload=()=>f(n.result);n.onerror=h;n.readAsDataURL(g)})}throw Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented");}canvas(d,a){const {pixels:c,width:b,height:g,flipY:f}=this._rawPixels(d,a);f&&e._flipY(c,b,g);e._unpremultiplyAlpha(c);d=new m.utils.CanvasRenderTarget(b,g,1);a=new ImageData(new Uint8ClampedArray(c.buffer),
b,g);d.context.putImageData(a,0,0);return d.canvas}pixels(d,a){const {pixels:c,width:b,height:g,flipY:f}=this._rawPixels(d,a);f&&e._flipY(c,b,g);e._unpremultiplyAlpha(c);return c}_rawPixels(d,a){var c=this.renderer;if(!c)throw Error("The Extract has already been destroyed");let b,g,f=!1;d&&(d instanceof m.RenderTexture?g=d:(g=c.generateTexture(d,{resolution:c.resolution,multisample:c.multisample}),f=!0));if(g){if(d=g.baseTexture.resolution,a=a??g.frame,b=!1,!f){c.renderTexture.bind(g);var h=g.framebuffer.glFramebuffers[c.CONTEXT_UID];
h.blitFramebuffer&&c.framebuffer.bind(h.blitFramebuffer)}}else d=c.resolution,a||(a=p,a.width=c.width/d,a.height=c.height/d),b=!0,c.renderTexture.bind();h=Math.round(a.width*d);const n=Math.round(a.height*d),q=new Uint8Array(4*h*n);c=c.gl;c.readPixels(Math.round(a.x*d),Math.round(a.y*d),h,n,c.RGBA,c.UNSIGNED_BYTE,q);f&&g?.destroy(!0);return{pixels:q,width:h,height:n,flipY:b}}destroy(){this.renderer=null}static _flipY(d,a,c){a<<=2;const b=c>>1,g=new Uint8Array(a);for(let f=0;f<b;f++){const h=f*a,n=
(c-f-1)*a;g.set(d.subarray(h,h+a));d.copyWithin(h,n,n+a);d.set(g,n)}}static _unpremultiplyAlpha(d){d instanceof Uint8ClampedArray&&(d=new Uint8Array(d.buffer));const a=d.length;for(let b=0;b<a;b+=4){var c=d[b+3];0!==c&&(c=255.001/c,d[b]=d[b]*c+.5,d[b+1]=d[b+1]*c+.5,d[b+2]=d[b+2]*c+.5)}}};r=e;r.extension={name:"extract",type:m.ExtensionType.RendererSystem};m.extensions.add(r);k.Extract=r};
shadow$provide[300]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(299);k.Extract=r.Extract};
shadow$provide[301]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);k.buildCircle={build(p){const e=p.points;var d,a;if(p.type===m.SHAPES.CIRC){var c=p.shape;var b=c.x;p=c.y;var g=a=c.radius;c=d=0}else if(p.type===m.SHAPES.ELIP)c=p.shape,b=c.x,p=c.y,g=c.width,a=c.height,c=d=0;else{var f=p.shape;c=f.width/2;var h=f.height/2;b=f.x+c;p=f.y+h;g=a=Math.max(0,Math.min(f.radius,Math.min(c,h)));c-=g;d=h-a}if(0<=g&&0<=a&&0<=c&&0<=d){var n=Math.ceil(2.3*Math.sqrt(g+a));f=8*n+
(c?4:0)+(d?4:0);e.length=f;if(0!==f)if(0===n)e.length=8,e[0]=e[6]=b+c,e[1]=e[3]=p+d,e[2]=e[4]=b-c,e[5]=e[7]=p-d;else{h=0;var q=4*n+(c?2:0)+2,t=q,u=c+g,w=d,x=b+u;u=b-u;var y=p+w;e[h++]=x;e[h++]=y;e[--q]=y;e[--q]=u;d&&(w=p-w,e[t++]=u,e[t++]=w,e[--f]=w,e[--f]=x);for(x=1;x<n;x++){w=Math.PI/2*(x/n);y=c+Math.cos(w)*g;u=d+Math.sin(w)*a;w=b+y;y=b-y;const z=p+u;u=p-u;e[h++]=w;e[h++]=z;e[--q]=z;e[--q]=y;e[t++]=y;e[t++]=u;e[--f]=u;e[--f]=w}n=c;a=d+a;g=b+n;b-=n;d=p+a;p-=a;e[h++]=g;e[h++]=d;e[--f]=p;e[--f]=g;
c&&(e[h++]=b,e[h++]=d,e[--f]=p,e[--f]=b)}}else e.length=0},triangulate(p,e){const d=p.points,a=e.points;e=e.indices;if(0!==d.length){var c=a.length/2,b=c;if(p.type!==m.SHAPES.RREC){var g=p.shape;var f=g.x;g=g.y}else g=p.shape,f=g.x+g.width/2,g=g.y+g.height/2;var h=p.matrix;a.push(p.matrix?h.a*f+h.c*g+h.tx:f,p.matrix?h.b*f+h.d*g+h.ty:g);c++;a.push(d[0],d[1]);for(p=2;p<d.length;p+=2)a.push(d[p],d[p+1]),e.push(c++,b,c);e.push(b+1,b,c)}}}};
shadow$provide[302]=function(r,l,B,k){function m(e,d=!1){const a=e.length;if(!(6>a)){var c=0;for(let f=0,h=e[a-2],n=e[a-1];f<a;f+=2){var b=e[f],g=e[f+1];c+=(b-h)*(g+n);h=b;n=g}if(!d&&0<c||d&&0>=c)for(d=a/2,d+=d%2;d<a;d+=2){c=a-d-2;b=a-d-1;g=d;const f=d+1;[e[c],e[g]]=[e[g],e[c]];[e[b],e[f]]=[e[f],e[b]]}}}Object.defineProperty(k,"__esModule",{value:!0});var p=l(195);k.buildPoly={build(e){e.points=e.shape.points.slice()},triangulate(e,d){let a=e.points;var c=e.holes;e=d.points;d=d.indices;if(6<=a.length){m(a,
!1);var b=[];for(var g=0;g<c.length;g++){const f=c[g];m(f.points,!0);b.push(a.length/2);a=a.concat(f.points)}if(b=p.utils.earcut(a,b,2)){c=e.length/2;for(g=0;g<b.length;g+=3)d.push(b[g]+c),d.push(b[g+1]+c),d.push(b[g+2]+c);for(d=0;d<a.length;d++)e.push(a[d])}}}}};
shadow$provide[303]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.buildRectangle={build(m){var p=m.shape;const e=p.x,d=p.y,a=p.width;p=p.height;m=m.points;m.length=0;0<=a&&0<=p&&m.push(e,d,e+a,d,e+a,d+p,e,d+p)},triangulate(m,p){m=m.points;const e=p.points;if(0!==m.length){var d=e.length/2;e.push(m[0],m[1],m[2],m[3],m[6],m[7],m[4],m[5]);p.indices.push(d,d+1,d+2,d+1,d+2,d+3)}}}};
shadow$provide[304]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(301);k.buildRoundedRectangle={build(p){m.buildCircle.build(p)},triangulate(p,e){m.buildCircle.triangulate(p,e)}}};
shadow$provide[305]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=(e=>{e.MITER="miter";e.BEVEL="bevel";e.ROUND="round";return e})(m||{}),p=(e=>{e.BUTT="butt";e.ROUND="round";e.SQUARE="square";return e})(p||{});r={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1E-4,_segmentsCount(e,d=20){if(!this.adaptive||!e||isNaN(e))return d;e=Math.ceil(e/this.maxLength);e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments);return e}};k.GRAPHICS_CURVES=
r;k.LINE_CAP=p;k.LINE_JOIN=m;k.curves=r};
shadow$provide[306]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(305);class e{static curveTo(d,a,c,b,g,f){const h=f[f.length-1]-a,n=f[f.length-2]-d;b-=a;c-=d;var q=Math.abs(h*c-n*b);if(1E-8>q||0===g)return f[f.length-2]===d&&f[f.length-1]===a||f.push(d,a),null;var t=h*h+n*n,u=b*b+c*c,w=h*b+n*c;f=g*Math.sqrt(t)/q;q=g*Math.sqrt(u)/q;t=f*w/t;u=q*w/u;w=f*c+q*n;const x=f*b+q*h;return{cx:w+d,cy:x+a,radius:g,startAngle:Math.atan2(h*(q+t)-x,n*(q+t)-w),endAngle:Math.atan2(b*
(f+u)-x,c*(f+u)-w),anticlockwise:n*b>c*h}}static arc(d,a,c,b,g,f,h,n,q){d=h-f;var t=p.curves._segmentsCount(Math.abs(d)*g,40*Math.ceil(Math.abs(d)/m.PI_2));d/=2*t;a=2*d;h=Math.cos(d);n=Math.sin(d);--t;const u=t%1/t;for(let x=0;x<=t;++x){var w=d+f+a*(x+u*x);const y=Math.cos(w);w=-Math.sin(w);q.push((h*y+n*w)*g+c,(h*-w+n*y)*g+b)}}}k.ArcUtils=e};
shadow$provide[307]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{constructor(){this.reset()}begin(p,e,d){this.reset();this.style=p;this.start=e;this.attribStart=d}end(p,e){this.attribSize=e-this.attribStart;this.size=p-this.start}reset(){this.style=null;this.attribSize=this.attribStart=this.start=this.size=0}}k.BatchPart=m};
shadow$provide[308]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(305);class p{static curveLength(e,d,a,c,b,g,f,h){let n=0;let q,t,u,w,x=e,y=d;for(let v=1;10>=v;++v){var z=v/10;var C=z*z;var A=C*z;q=1-z;t=q*q;u=t*q;w=u*e+3*t*z*a+3*q*C*b+A*f;z=u*d+3*t*z*c+3*q*C*g+A*h;C=x-w;A=y-z;x=w;y=z;n+=Math.sqrt(C*C+A*A)}return n}static curveTo(e,d,a,c,b,g,f){const h=f[f.length-2],n=f[f.length-1];f.length-=2;const q=m.curves._segmentsCount(p.curveLength(h,n,e,d,a,c,b,g));let t,u,w,
x,y;f.push(h,n);for(let z=1,C=0;z<=q;++z)C=z/q,t=1-C,u=t*t,w=u*t,x=C*C,y=x*C,f.push(w*h+3*u*C*e+3*t*x*a+y*b,w*n+3*u*C*d+3*t*x*c+y*g)}}k.BezierUtils=p};
shadow$provide[309]=function(r,l,B,k){function m(a,c,b,g,f,h,n,q){let t;n?(n=g,t=-b):(n=-g,t=b);q.push(a-b*f+n,c-g*f+t,a+b*h+n,c+g*h+t);return 2}function p(a,c,b,g,f,h,n,q){var t=b-a,u=g-c,w=Math.atan2(t,u),x=Math.atan2(f-a,h-c);q&&w<x?w+=2*Math.PI:!q&&w>x&&(x+=2*Math.PI);x-=w;t=Math.sqrt(t*t+u*u);u=(15*Math.abs(x)*Math.sqrt(t)/Math.PI>>0)+1;x/=u;w+=x;if(q){n.push(a,c,b,g);for(let y=1,z=w;y<u;y++,z+=x)n.push(a,c,a+Math.sin(z)*t,c+Math.cos(z)*t);n.push(a,c,f,h)}else{n.push(b,g,a,c);for(let y=1,z=w;y<
u;y++,z+=x)n.push(a+Math.sin(z)*t,c+Math.cos(z)*t,a,c);n.push(f,h,a,c)}return 2*u}Object.defineProperty(k,"__esModule",{value:!0});var e=l(195),d=l(305);k.buildLine=function(a,c){if(a.lineStyle.native){var b,g=a.shape,f=a.points||g.points;g=g.type!==e.SHAPES.POLY||g.closeStroke;if(0!==f.length){a=c.points;c=c.indices;var h=f.length/2,n=a.length/2,q=n;a.push(f[0],f[1]);for(b=1;b<h;b++)a.push(f[2*b],f[2*b+1]),c.push(q,q+1),q++;g&&c.push(q,n)}}else if(g=a.shape,f=a.points||g.points.slice(),q=c.closePointEps,
0!==f.length){a=a.lineStyle;h=new e.Point(f[0],f[1]);n=new e.Point(f[f.length-2],f[f.length-1]);g=g.type!==e.SHAPES.POLY||g.closeStroke;q=Math.abs(h.x-n.x)<q&&Math.abs(h.y-n.y)<q;g&&(f=f.slice(),q&&(f.pop(),f.pop(),n.set(f[f.length-2],f[f.length-1])),q=.5*(h.x+n.x),h=.5*(n.y+h.y),f.unshift(q,h),f.push(q,h));h=c.points;var t=f.length/2;n=f.length;q=h.length/2;var u=a.width/2,w=u*u,x=a.miterLimit*a.miterLimit,y=f[0],z=f[1];b=f[2];var C=f[3],A=-(z-C),v=y-b,F=Math.sqrt(A*A+v*v);A=A/F*u;v=v/F*u;b=a.alignment;
var I=2*(1-b),H=2*b;g||(a.cap===d.LINE_CAP.ROUND?n+=p(y-A*(I-H)*.5,z-v*(I-H)*.5,y-A*I,z-v*I,y+A*H,z+v*H,h,!0)+2:a.cap===d.LINE_CAP.SQUARE&&(n+=m(y,z,A,v,I,H,!0,h)));h.push(y-A*I,z-v*I,y+A*H,z+v*H);for(let R=1;R<t-1;++R){y=f[2*(R-1)];z=f[2*(R-1)+1];b=f[2*R];C=f[2*R+1];var M=f[2*(R+1)];var K=f[2*(R+1)+1];A=-(z-C);v=y-b;F=Math.sqrt(A*A+v*v);A/=F;v/=F;A*=u;v*=u;var E=-(C-K);var L=b-M;F=Math.sqrt(E*E+L*L);E/=F;L/=F;E*=u;L*=u;var D=b-y,G=z-C;const Q=b-M,S=K-C;var J=D*Q+G*S,N=G*Q-S*D;F=0>N;if(Math.abs(N)<
.001*Math.abs(J))h.push(b-A*I,C-v*I,b+A*H,C+v*H),0<=J&&(n=a.join===d.LINE_JOIN.ROUND?n+(p(b,C,b-A*I,C-v*I,b-E*I,C-L*I,h,!1)+4):n+2,h.push(b-E*H,C-L*H,b+E*I,C+L*I));else if(y=(-A+y)*(-v+C)-(-A+b)*(-v+z),z=(-E+M)*(-L+C)-(-E+b)*(-L+K),K=(D*z-Q*y)/N,N=(S*y-G*z)/N,y=(K-b)*(K-b)+(N-C)*(N-C),z=b+(K-b)*I,M=C+(N-C)*I,K=b-(K-b)*H,N=C-(N-C)*H,J=F?I:H,D=y<=Math.min(D*D+G*G,Q*Q+S*S)+J*J*w,G=a.join,G===d.LINE_JOIN.MITER&&y/w>x&&(G=d.LINE_JOIN.BEVEL),D)switch(G){case d.LINE_JOIN.MITER:h.push(z,M,K,N);break;case d.LINE_JOIN.BEVEL:F?
h.push(z,M,b+A*H,C+v*H,z,M,b+E*H,C+L*H):h.push(b-A*I,C-v*I,K,N,b-E*I,C-L*I,K,N);n+=2;break;case d.LINE_JOIN.ROUND:F?(h.push(z,M,b+A*H,C+v*H),n+=p(b,C,b+A*H,C+v*H,b+E*H,C+L*H,h,!0)+4,h.push(z,M,b+E*H,C+L*H)):(h.push(b-A*I,C-v*I,K,N),n+=p(b,C,b-A*I,C-v*I,b-E*I,C-L*I,h,!1)+4,h.push(b-E*I,C-L*I,K,N))}else{h.push(b-A*I,C-v*I,b+A*H,C+v*H);switch(G){case d.LINE_JOIN.MITER:F?h.push(K,N,K,N):h.push(z,M,z,M);n+=2;break;case d.LINE_JOIN.ROUND:n=F?n+(p(b,C,b+A*H,C+v*H,b+E*H,C+L*H,h,!0)+2):n+(p(b,C,b-A*I,C-v*
I,b-E*I,C-L*I,h,!1)+2)}h.push(b-E*I,C-L*I,b+E*H,C+L*H);n+=2}}y=f[2*(t-2)];z=f[2*(t-2)+1];b=f[2*(t-1)];C=f[2*(t-1)+1];A=-(z-C);v=y-b;F=Math.sqrt(A*A+v*v);A=A/F*u;v=v/F*u;h.push(b-A*I,C-v*I,b+A*H,C+v*H);g||(a.cap===d.LINE_CAP.ROUND?n+=p(b-A*(I-H)*.5,C-v*(I-H)*.5,b-A*I,C-v*I,b+A*H,C+v*H,h,!1)+2:a.cap===d.LINE_CAP.SQUARE&&(n+=m(b,C,A,v,I,H,!1,h)));c=c.indices;f=d.curves.epsilon*d.curves.epsilon;for(a=q;a<n+q-2;++a)y=h[2*a],z=h[2*a+1],b=h[2*(a+1)],C=h[2*(a+1)+1],M=h[2*(a+2)],K=h[2*(a+2)+1],Math.abs(y*
(C-K)+b*(K-z)+M*(z-C))<f||c.push(a,a+1,a+2)}}};
shadow$provide[310]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(305);class p{static curveLength(e,d,a,c,b,g){b=e-2*a+b;g=d-2*c+g;e=2*a-2*e;c=2*c-2*d;d=4*(b*b+g*g);b=4*(b*e+g*c);c=e*e+c*c;g=2*Math.sqrt(d+b+c);e=Math.sqrt(d);a=2*d*e;const f=2*Math.sqrt(c),h=b/e;return(a*g+e*b*(g-f)+(4*c*d-b*b)*Math.log((2*e+h+g)/(h+f)))/(4*a)}static curveTo(e,d,a,c,b){const g=b[b.length-2],f=b[b.length-1],h=m.curves._segmentsCount(p.curveLength(g,f,e,d,a,c));let n,q;for(let t=1;t<=h;++t){const u=
t/h;n=g+(e-g)*u;q=f+(d-f)*u;b.push(n+(e+(a-e)*u-n)*u,q+(d+(c-d)*u-q)*u)}}}k.QuadraticUtils=p};
shadow$provide[311]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r=l(301);B=l(302);var p=l(303),e=l(304),d=l(306),a=l(307),c=l(308),b=l(309);l=l(310);m={[m.SHAPES.POLY]:B.buildPoly,[m.SHAPES.CIRC]:r.buildCircle,[m.SHAPES.ELIP]:r.buildCircle,[m.SHAPES.RECT]:p.buildRectangle,[m.SHAPES.RREC]:e.buildRoundedRectangle};k.buildCircle=r.buildCircle;k.buildPoly=B.buildPoly;k.buildRectangle=p.buildRectangle;k.buildRoundedRectangle=e.buildRoundedRectangle;k.ArcUtils=d.ArcUtils;
k.BatchPart=a.BatchPart;k.BezierUtils=c.BezierUtils;k.buildLine=b.buildLine;k.QuadraticUtils=l.QuadraticUtils;k.BATCH_POOL=[];k.DRAW_CALL_POOL=[];k.FILL_COMMANDS=m};
shadow$provide[312]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{constructor(p,e=null,d=null,a=null){this.points=[];this.holes=[];this.shape=p;this.lineStyle=d;this.fillStyle=e;this.matrix=a;this.type=p.type}clone(){return new m(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null;this.holes.length=0;this.holes=null;this.points.length=0;this.fillStyle=this.lineStyle=this.points=null}}k.GraphicsData=m};
shadow$provide[313]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(200),e=l(312),d=l(311),a=l(307),c=l(302),b=l(309);const g=new m.Point,f=class extends m.BatchGeometry{constructor(){super();this.closePointEps=1E-4;this.boundsPadding=0;this.indicesUint16=this.uvsFloat32=null;this.batchable=!1;this.points=[];this.colors=[];this.uvs=[];this.indices=[];this.textureIds=[];this.graphicsData=[];this.drawCalls=[];this.batchDirty=-1;this.batches=[];this.dirty=0;this.cacheDirty=
-1;this.shapeIndex=this.clearDirty=0;this._bounds=new p.Bounds;this.boundsDirty=-1}get bounds(){this.updateBatches();this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds());return this._bounds}invalidate(){this.boundsDirty=-1;this.dirty++;this.batchDirty++;this.shapeIndex=0;this.points.length=0;this.colors.length=0;this.uvs.length=0;this.indices.length=0;this.textureIds.length=0;for(var h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),d.DRAW_CALL_POOL.push(this.drawCalls[h]);
this.drawCalls.length=0;for(h=0;h<this.batches.length;h++){const n=this.batches[h];n.reset();d.BATCH_POOL.push(n)}this.batches.length=0}clear(){0<this.graphicsData.length&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0);return this}drawShape(h,n=null,q=null,t=null){h=new e.GraphicsData(h,n,q,t);this.graphicsData.push(h);this.dirty++;return this}drawHole(h,n=null){if(!this.graphicsData.length)return null;h=new e.GraphicsData(h,null,null,n);n=this.graphicsData[this.graphicsData.length-
1];h.lineStyle=n.lineStyle;n.holes.push(h);this.dirty++;return this}destroy(){super.destroy();for(let h=0;h<this.graphicsData.length;++h)this.graphicsData[h].destroy();this.points.length=0;this.points=null;this.colors.length=0;this.colors=null;this.uvs.length=0;this.uvs=null;this.indices.length=0;this.indices=null;this.indexBuffer.destroy();this.indexBuffer=null;this.graphicsData.length=0;this.graphicsData=null;this.drawCalls.length=0;this.drawCalls=null;this.batches.length=0;this._bounds=this.batches=
null}containsPoint(h){const n=this.graphicsData;for(let q=0;q<n.length;++q){const t=n[q];if(t.fillStyle.visible&&t.shape&&(t.matrix?t.matrix.applyInverse(h,g):g.copyFrom(h),t.shape.contains(g.x,g.y))){let u=!1;if(t.holes)for(let w=0;w<t.holes.length;w++)if(t.holes[w].shape.contains(g.x,g.y)){u=!0;break}if(!u)return!0}}return!1}updateBatches(){if(!this.graphicsData.length)this.batchable=!0;else if(this.validateBatching()){this.cacheDirty=this.dirty;var h=this.uvs,n=this.graphicsData,q=null,t=null;
0<this.batches.length&&(q=this.batches[this.batches.length-1],t=q.style);for(let u=this.shapeIndex;u<n.length;u++){this.shapeIndex++;const w=n[u],x=w.fillStyle,y=w.lineStyle;d.FILL_COMMANDS[w.type].build(w);w.matrix&&this.transformPoints(w.points,w.matrix);(x.visible||y.visible)&&this.processHoles(w.holes);for(let z=0;2>z;z++){const C=0===z?x:y;if(!C.visible)continue;const A=this.indices.length,v=this.points.length/2;C.texture.baseTexture.wrapMode=m.WRAP_MODES.REPEAT;0===z?this.processFill(w):this.processLine(w);
const F=this.points.length/2-v;0!==F&&(q&&!this._compareStyles(t,C)&&(q.end(A,v),q=null),q||(q=d.BATCH_POOL.pop()||new a.BatchPart,q.begin(C,A,v),this.batches.push(q),t=C),this.addUvs(this.points,h,C.texture,v,F,C.matrix))}}h=this.indices.length;n=this.points.length/2;q&&q.end(h,n);0===this.batches.length?this.batchable=!0:(q=65535<n,this.indicesUint16&&this.indices.length===this.indicesUint16.length&&q===2<this.indicesUint16.BYTES_PER_ELEMENT?this.indicesUint16.set(this.indices):this.indicesUint16=
q?new Uint32Array(this.indices):new Uint16Array(this.indices),(this.batchable=this.isBatchable())?this.packBatches():this.buildDrawCalls())}}_compareStyles(h,n){return h&&n&&h.texture.baseTexture===n.texture.baseTexture&&h.color+h.alpha===n.color+n.alpha&&!!h.native===!!n.native?!0:!1}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let n=0,q=this.graphicsData.length;n<q;n++){var h=this.graphicsData[n];const t=h.fillStyle;h=h.lineStyle;if(t&&!t.texture.baseTexture.valid||
h&&!h.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++;this.uvsFloat32=new Float32Array(this.uvs);const h=this.batches;for(let n=0,q=h.length;n<q;n++){const t=h[n];for(let u=0;u<t.size;u++){const w=t.start+u;this.indicesUint16[w]-=t.attribStart}}}isBatchable(){if(131070<this.points.length)return!1;const h=this.batches;for(let n=0;n<h.length;n++)if(h[n].style.native)return!1;return this.points.length<2*f.BATCHABLE_SIZE}buildDrawCalls(){let h=++m.BaseTexture._globalBatch;
for(var n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),d.DRAW_CALL_POOL.push(this.drawCalls[n]);this.drawCalls.length=0;n=this.colors;const q=this.textureIds;let t=d.DRAW_CALL_POOL.pop();t||(t=new m.BatchDrawCall,t.texArray=new m.BatchTextureArray);t.texArray.count=0;t.start=0;t.size=0;t.type=m.DRAW_MODES.TRIANGLES;let u=0,w=null;let x=!1,y=m.DRAW_MODES.TRIANGLES,z=0;this.drawCalls.push(t);for(let A=0;A<this.batches.length;A++){const v=this.batches[A],F=v.style;var C=F.texture.baseTexture;
x!==!!F.native&&(y=(x=!!F.native)?m.DRAW_MODES.LINES:m.DRAW_MODES.TRIANGLES,w=null,u=8,h++);w!==C&&(w=C,C._batchEnabled!==h&&(8===u&&(h++,u=0,0<t.size&&(t=d.DRAW_CALL_POOL.pop(),t||(t=new m.BatchDrawCall,t.texArray=new m.BatchTextureArray),this.drawCalls.push(t)),t.start=z,t.size=0,t.texArray.count=0,t.type=y),C.touched=1,C._batchEnabled=h,C._batchLocation=u,C.wrapMode=m.WRAP_MODES.REPEAT,t.texArray.elements[t.texArray.count++]=C,u++));t.size+=v.size;z+=v.size;C=C._batchLocation;this.addColors(n,
F.color,F.alpha,v.attribSize,v.attribStart);this.addTextureIds(q,C,v.attribSize,v.attribStart)}m.BaseTexture._globalBatch=h;this.packAttributes()}packAttributes(){const h=this.points,n=this.uvs,q=this.colors,t=this.textureIds,u=new ArrayBuffer(12*h.length),w=new Float32Array(u),x=new Uint32Array(u);let y=0;for(let z=0;z<h.length/2;z++)w[y++]=h[2*z],w[y++]=h[2*z+1],w[y++]=n[2*z],w[y++]=n[2*z+1],x[y++]=q[z],w[y++]=t[z];this._buffer.update(u);this._indexBuffer.update(this.indicesUint16)}processFill(h){h.holes.length?
c.buildPoly.triangulate(h,this):d.FILL_COMMANDS[h.type].triangulate(h,this)}processLine(h){b.buildLine(h,this);for(let n=0;n<h.holes.length;n++)b.buildLine(h.holes[n],this)}processHoles(h){for(let n=0;n<h.length;n++){const q=h[n];d.FILL_COMMANDS[q.type].build(q);q.matrix&&this.transformPoints(q.points,q.matrix)}}calculateBounds(){const h=this._bounds;h.clear();h.addVertexData(this.points,0,this.points.length);h.pad(this.boundsPadding,this.boundsPadding)}transformPoints(h,n){for(let q=0;q<h.length/
2;q++){const t=h[2*q],u=h[2*q+1];h[2*q]=n.a*t+n.c*u+n.tx;h[2*q+1]=n.b*t+n.d*u+n.ty}}addColors(h,n,q,t,u=0){n=m.Color.shared.setValue(n).toLittleEndianNumber();q=m.Color.shared.setValue(n).toPremultiplied(q);h.length=Math.max(h.length,u+t);for(n=0;n<t;n++)h[u+n]=q}addTextureIds(h,n,q,t=0){h.length=Math.max(h.length,t+q);for(let u=0;u<q;u++)h[t+u]=n}addUvs(h,n,q,t,u,w=null){let x=0;const y=n.length,z=q.frame;for(;x<u;){let C=h[2*(t+x)],A=h[2*(t+x)+1];if(w){const v=w.a*C+w.c*A+w.tx;A=w.b*C+w.d*A+w.ty;
C=v}x++;n.push(C/z.width,A/z.height)}h=q.baseTexture;(z.width<h.width||z.height<h.height)&&this.adjustUvs(n,q,y,u)}adjustUvs(h,n,q,t){var u=n.baseTexture;t=q+2*t;var w=n.frame;n=w.width/u.width;u=w.height/u.height;let x=w.x/w.width;w=w.y/w.height;let y=Math.floor(h[q]+1E-6),z=Math.floor(h[q+1]+1E-6);for(let C=q+2;C<t;C+=2)y=Math.min(y,Math.floor(h[C]+1E-6)),z=Math.min(z,Math.floor(h[C+1]+1E-6));x-=y;for(w-=z;q<t;q+=2)h[q]=(h[q]+x)*n,h[q+1]=(h[q+1]+w)*u}};r=f;r.BATCHABLE_SIZE=100;k.GraphicsGeometry=
r};
shadow$provide[314]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);class p{constructor(){this.color=16777215;this.alpha=1;this.texture=m.Texture.WHITE;this.matrix=null;this.visible=!1;this.reset()}clone(){const e=new p;e.color=this.color;e.alpha=this.alpha;e.texture=this.texture;e.matrix=this.matrix;e.visible=this.visible;return e}reset(){this.color=16777215;this.alpha=1;this.texture=m.Texture.WHITE;this.matrix=null;this.visible=!1}destroy(){this.matrix=this.texture=
null}}k.FillStyle=p};
shadow$provide[315]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(305);r=l(314);class p extends r.FillStyle{constructor(){super(...arguments);this.width=0;this.alignment=.5;this.native=!1;this.cap=m.LINE_CAP.BUTT;this.join=m.LINE_JOIN.MITER;this.miterLimit=10}clone(){const e=new p;e.color=this.color;e.alpha=this.alpha;e.texture=this.texture;e.matrix=this.matrix;e.visible=this.visible;e.width=this.width;e.alignment=this.alignment;e.native=this.native;e.cap=this.cap;e.join=
this.join;e.miterLimit=this.miterLimit;return e}reset(){super.reset();this.color=0;this.alignment=.5;this.width=0;this.native=!1}}k.LineStyle=p};
shadow$provide[316]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r=l(200);var p=l(305),e=l(313),d=l(314),a=l(315);l(311);var c=l(310),b=l(308),g=l(306);const f={},h=class extends r.Container{constructor(n=null){super();this.shader=null;this.pluginName="batch";this.currentPath=null;this.batches=[];this.batchDirty=this.batchTint=-1;this.vertexData=null;this._fillStyle=new d.FillStyle;this._lineStyle=new a.LineStyle;this._matrix=null;this._holeMode=!1;this.state=m.State.for2d();
this._geometry=n||new e.GraphicsGeometry;this._geometry.refCount++;this._transformID=-1;this._tintColor=new m.Color(16777215);this.blendMode=m.BLEND_MODES.NORMAL}get geometry(){return this._geometry}clone(){this.finishPoly();return new h(this._geometry)}set blendMode(n){this.state.blendMode=n}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(n){this._tintColor.setValue(n)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(n=null,
q=0,t,u=.5,w=!1){"number"===typeof n&&(n={width:n,color:q,alpha:t,alignment:u,native:w});return this.lineTextureStyle(n)}lineTextureStyle(n){n=Object.assign({width:0,texture:m.Texture.WHITE,color:n?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:p.LINE_CAP.BUTT,join:p.LINE_JOIN.MITER,miterLimit:10},n);this.normalizeColor(n);this.currentPath&&this.startPoly();const q=0<n.width&&0<n.alpha;q?(n.matrix&&(n.matrix=n.matrix.clone(),n.matrix.invert()),Object.assign(this._lineStyle,{visible:q},
n)):this._lineStyle.reset();return this}startPoly(){if(this.currentPath){const n=this.currentPath.points,q=this.currentPath.points.length;2<q&&(this.drawShape(this.currentPath),this.currentPath=new m.Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(n[q-2],n[q-1]))}else this.currentPath=new m.Polygon,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=
0)}moveTo(n,q){this.startPoly();this.currentPath.points[0]=n;this.currentPath.points[1]=q;return this}lineTo(n,q){this.currentPath||this.moveTo(0,0);const t=this.currentPath.points,u=t[t.length-1];t[t.length-2]===n&&u===q||t.push(n,q);return this}_initCurve(n=0,q=0){this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[n,q]):this.moveTo(n,q)}quadraticCurveTo(n,q,t,u){this._initCurve();const w=this.currentPath.points;0===w.length&&this.moveTo(0,0);c.QuadraticUtils.curveTo(n,
q,t,u,w);return this}bezierCurveTo(n,q,t,u,w,x){this._initCurve();b.BezierUtils.curveTo(n,q,t,u,w,x,this.currentPath.points);return this}arcTo(n,q,t,u,w){this._initCurve(n,q);if(n=g.ArcUtils.curveTo(n,q,t,u,w,this.currentPath.points)){const {cx:x,cy:y,radius:z,startAngle:C,endAngle:A,anticlockwise:v}=n;this.arc(x,y,z,C,A,v)}return this}arc(n,q,t,u,w,x=!1){if(u===w)return this;!x&&w<=u?w+=m.PI_2:x&&u<=w&&(u+=m.PI_2);if(0===w-u)return this;const y=n+Math.cos(u)*t,z=q+Math.sin(u)*t,C=this._geometry.closePointEps;
let A=this.currentPath?this.currentPath.points:null;if(A){const v=Math.abs(A[A.length-1]-z);Math.abs(A[A.length-2]-y)<C&&v<C||A.push(y,z)}else this.moveTo(y,z),A=this.currentPath.points;g.ArcUtils.arc(y,z,n,q,t,u,w,x,A);return this}beginFill(n=0,q){return this.beginTextureFill({texture:m.Texture.WHITE,color:n,alpha:q})}normalizeColor(n){const q=m.Color.shared.setValue(n.color??0);n.color=q.toNumber();n.alpha??(n.alpha=q.alpha)}beginTextureFill(n){n=Object.assign({texture:m.Texture.WHITE,color:16777215,
matrix:null},n);this.normalizeColor(n);this.currentPath&&this.startPoly();const q=0<n.alpha;q?(n.matrix&&(n.matrix=n.matrix.clone(),n.matrix.invert()),Object.assign(this._fillStyle,{visible:q},n)):this._fillStyle.reset();return this}endFill(){this.finishPoly();this._fillStyle.reset();return this}drawRect(n,q,t,u){return this.drawShape(new m.Rectangle(n,q,t,u))}drawRoundedRect(n,q,t,u,w){return this.drawShape(new m.RoundedRectangle(n,q,t,u,w))}drawCircle(n,q,t){return this.drawShape(new m.Circle(n,
q,t))}drawEllipse(n,q,t,u){return this.drawShape(new m.Ellipse(n,q,t,u))}drawPolygon(...n){let q=!0;const t=n[0];t.points?(q=t.closeStroke,n=t.points):n=Array.isArray(n[0])?n[0]:n;n=new m.Polygon(n);n.closeStroke=q;this.drawShape(n);return this}drawShape(n){this._holeMode?this._geometry.drawHole(n,this._matrix):this._geometry.drawShape(n,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix);return this}clear(){this._geometry.clear();this._lineStyle.reset();this._fillStyle.reset();this._boundsID++;
this._matrix=null;this._holeMode=!1;this.currentPath=null;return this}isFastRect(){const n=this._geometry.graphicsData;return 1===n.length&&n[0].shape.type===m.SHAPES.RECT&&!n[0].matrix&&!n[0].holes.length&&!(n[0].lineStyle.visible&&n[0].lineStyle.width)}_render(n){this.finishPoly();const q=this._geometry;q.updateBatches();q.batchable?(this.batchDirty!==q.batchDirty&&this._populateBatches(),this._renderBatched(n)):(n.batch.flush(),this._renderDirect(n))}_populateBatches(){const n=this._geometry,q=
this.blendMode,t=n.batches.length;this._transformID=this.batchTint=-1;this.batchDirty=n.batchDirty;this.batches.length=t;this.vertexData=new Float32Array(n.points);for(let w=0;w<t;w++){var u=n.batches[w];const x=u.style.color,y=new Float32Array(this.vertexData.buffer,8*u.attribStart,2*u.attribSize),z=new Float32Array(n.uvsFloat32.buffer,8*u.attribStart,2*u.attribSize),C=new Uint16Array(n.indicesUint16.buffer,2*u.start,u.size);u={vertexData:y,blendMode:q,indices:C,uvs:z,_batchRGB:m.Color.shared.setValue(x).toRgbArray(),
_tintRGB:x,_texture:u.style.texture,alpha:u.style.alpha,worldAlpha:1};this.batches[w]=u}}_renderBatched(n){if(this.batches.length){n.batch.setObjectRenderer(n.plugins[this.pluginName]);this.calculateVertices();this.calculateTints();for(let q=0,t=this.batches.length;q<t;q++){const u=this.batches[q];u.worldAlpha=this.worldAlpha*u.alpha;n.plugins[this.pluginName].render(u)}}}_renderDirect(n){const q=this._resolveDirectShader(n),t=this._geometry,u=this.worldAlpha,w=q.uniforms,x=t.drawCalls;w.translationMatrix=
this.transform.worldTransform;m.Color.shared.setValue(this._tintColor).premultiply(u).toArray(w.tint);n.shader.bind(q);n.geometry.bind(t,q);n.state.set(this.state);for(let y=0,z=x.length;y<z;y++)this._renderDrawCallDirect(n,t.drawCalls[y])}_renderDrawCallDirect(n,q){const {texArray:t,type:u,size:w,start:x}=q;q=t.count;for(let y=0;y<q;y++)n.texture.bind(t.elements[y],y);n.geometry.draw(u,w,x)}_resolveDirectShader(n){var q=this.shader;const t=this.pluginName;if(!q){if(!f[t]){({maxTextures:q}=n.plugins[t]);
const u=new Int32Array(q);for(let w=0;w<q;w++)u[w]=w;q={tint:new Float32Array([1,1,1,1]),translationMatrix:new m.Matrix,default:m.UniformGroup.from({uSamplers:u},!0)};f[t]=new m.Shader(n.plugins[t]._shader.program,q)}q=f[t]}return q}_calculateBounds(){this.finishPoly();const n=this._geometry;if(n.graphicsData.length){var {minX:q,minY:t,maxX:u,maxY:w}=n.bounds;this._bounds.addFrame(this.transform,q,t,u,w)}}containsPoint(n){this.worldTransform.applyInverse(n,h._TEMP_POINT);return this._geometry.containsPoint(h._TEMP_POINT)}calculateTints(){if(this.batchTint!==
this.tint){this.batchTint=this._tintColor.toNumber();for(let n=0;n<this.batches.length;n++){const q=this.batches[n];q._tintRGB=m.Color.shared.setValue(this._tintColor).multiply(q._batchRGB).toLittleEndianNumber()}}}calculateVertices(){var n=this.transform._worldID;if(this._transformID!==n){this._transformID=n;var q=this.transform.worldTransform;n=q.a;var t=q.b,u=q.c,w=q.d,x=q.tx;q=q.ty;var y=this._geometry.points,z=this.vertexData,C=0;for(let A=0;A<y.length;A+=2){const v=y[A],F=y[A+1];z[C++]=n*v+
u*F+x;z[C++]=w*F+t*v+q}}}closePath(){const n=this.currentPath;n&&(n.closeStroke=!0,this.finishPoly());return this}setMatrix(n){this._matrix=n;return this}beginHole(){this.finishPoly();this._holeMode=!0;return this}endHole(){this.finishPoly();this._holeMode=!1;return this}destroy(n){this._geometry.refCount--;0===this._geometry.refCount&&this._geometry.dispose();this.currentPath=this._matrix=null;this._lineStyle.destroy();this._lineStyle=null;this._fillStyle.destroy();this.vertexData=this.shader=this._geometry=
this._fillStyle=null;this.batches.length=0;this.batches=null;super.destroy(n)}};l=h;l.curves=p.curves;l._TEMP_POINT=new m.Point;k.Graphics=l};
shadow$provide[317]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(311);r=l(305);B=l(316);var p=l(312),e=l(313),d=l(314),a=l(315),c=l(302),b=l(301),g=l(303),f=l(304),h=l(309),n=l(306),q=l(308),t=l(310);l=l(307);l={buildPoly:c.buildPoly,buildCircle:b.buildCircle,buildRectangle:g.buildRectangle,buildRoundedRectangle:f.buildRoundedRectangle,buildLine:h.buildLine,ArcUtils:n.ArcUtils,BezierUtils:q.BezierUtils,QuadraticUtils:t.QuadraticUtils,BatchPart:l.BatchPart,FILL_COMMANDS:m.FILL_COMMANDS,
BATCH_POOL:m.BATCH_POOL,DRAW_CALL_POOL:m.DRAW_CALL_POOL};k.GRAPHICS_CURVES=r.GRAPHICS_CURVES;k.LINE_CAP=r.LINE_CAP;k.LINE_JOIN=r.LINE_JOIN;k.curves=r.curves;k.Graphics=B.Graphics;k.GraphicsData=p.GraphicsData;k.GraphicsGeometry=e.GraphicsGeometry;k.FillStyle=d.FillStyle;k.LineStyle=a.LineStyle;k.graphicsUtils=l};
shadow$provide[318]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{constructor(p,e){this.uvBuffer=p;this.uvMatrix=e;this.data=null;this._textureUpdateId=this._bufferUpdateId=-1;this._updateID=0}update(p){if(p||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID)this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID,p=this.uvBuffer.data,this.data&&this.data.length===p.length||(this.data=new Float32Array(p.length)),
this.uvMatrix.multiplyUvs(p,this.data),this._updateID++}}k.MeshBatchUvs=m};
shadow$provide[319]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r=l(200);var p=l(318);const e=new m.Point,d=new m.Polygon,a=class extends r.Container{constructor(c,b,g,f=m.DRAW_MODES.TRIANGLES){super();this.geometry=c;this.shader=b;this.state=g||m.State.for2d();this.drawMode=f;this.size=this.start=0;this.indices=this.uvs=null;this.vertexData=new Float32Array(1);this._transformID=this.vertexDirty=-1;this._roundPixels=m.settings.ROUND_PIXELS;this.batchUvs=null}get geometry(){return this._geometry}set geometry(c){this._geometry!==
c&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),(this._geometry=c)&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(c){this.shader=c}get material(){return this.shader}set blendMode(c){this.state.blendMode=c}get blendMode(){return this.state.blendMode}set roundPixels(c){this._roundPixels!==c&&(this._transformID=-1);this._roundPixels=c}get roundPixels(){return this._roundPixels}get tint(){return"tint"in
this.shader?this.shader.tint:null}set tint(c){this.shader.tint=c}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(c){this.shader.texture=c}_render(c){const b=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===m.DRAW_MODES.TRIANGLES&&b.length<2*a.BATCHABLE_SIZE?this._renderToBatch(c):this._renderDefault(c)}_renderDefault(c){const b=this.shader;b.alpha=this.worldAlpha;b.update&&b.update();c.batch.flush();
b.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0);c.shader.bind(b);c.state.set(this.state);c.geometry.bind(this.geometry,b);c.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(c){var b=this.geometry;const g=this.shader;g.uvMatrix&&(g.uvMatrix.update(),this.calculateUvs());this.calculateVertices();this.indices=b.indexBuffer.data;this._tintRGB=g._tintRGB;this._texture=g.texture;b=this.material.pluginName;c.batch.setObjectRenderer(c.plugins[b]);
c.plugins[b].render(this)}calculateVertices(){var c=this.geometry.buffers[0],b=c.data;c=c._updateID;if(c!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;this.vertexData.length!==b.length&&(this.vertexData=new Float32Array(b.length));var g=this.transform.worldTransform,f=g.a,h=g.b,n=g.c,q=g.d,t=g.tx,u=g.ty;g=this.vertexData;for(let w=0;w<g.length/2;w++){const x=b[2*w],y=b[2*w+1];g[2*w]=f*x+n*y+t;g[2*w+1]=h*x+q*y+u}if(this._roundPixels)for(b=
m.settings.RESOLUTION,f=0;f<g.length;++f)g[f]=Math.round(g[f]*b)/b;this.vertexDirty=c}}calculateUvs(){const c=this.geometry.buffers[1],b=this.shader;b.uvMatrix.isSimple?this.uvs=c.data:(this.batchUvs||(this.batchUvs=new p.MeshBatchUvs(c,b.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices();this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(c){if(!this.getBounds().contains(c.x,c.y))return!1;this.worldTransform.applyInverse(c,
e);c=this.geometry.getBuffer("aVertexPosition").data;const b=d.points,g=this.geometry.getIndex().data,f=g.length,h=4===this.drawMode?3:1;for(let n=0;n+2<f;n+=h){const q=2*g[n],t=2*g[n+1],u=2*g[n+2];b[0]=c[q];b[1]=c[q+1];b[2]=c[t];b[3]=c[t+1];b[4]=c[u];b[5]=c[u+1];if(d.contains(e.x,e.y))return!0}return!1}destroy(c){super.destroy(c);this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null);this.vertexData=this.indices=this.uvs=this.state=this.shader=this.geometry=null}};l=a;l.BATCHABLE_SIZE=
100;k.Mesh=l};
shadow$provide[320]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);class p extends m.Geometry{constructor(e,d,a){super();e=new m.Buffer(e);d=new m.Buffer(d,!0);a=new m.Buffer(a,!0,!0);this.addAttribute("aVertexPosition",e,2,!1,m.TYPES.FLOAT).addAttribute("aTextureCoord",d,2,!1,m.TYPES.FLOAT).addIndex(a);this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}k.MeshGeometry=p};
shadow$provide[321]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor \x3d texture2D(uSampler, vTextureCoord) * uColor;\n}\n"};
shadow$provide[322]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position \x3d vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord \x3d (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n"};
shadow$provide[323]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(321),e=l(322);class d extends m.Shader{constructor(a,c){const b={uSampler:a,alpha:1,uTextureMatrix:m.Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};c=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},c);c.uniforms&&Object.assign(b,c.uniforms);super(c.program||m.Program.from(e["default"],p["default"]),b);this._colorDirty=!1;this.uvMatrix=new m.TextureMatrix(a);this.batchable=void 0===
c.program;this.pluginName=c.pluginName;this._tintColor=new m.Color(c.tint);this._tintRGB=this._tintColor.toLittleEndianNumber();this._colorDirty=!0;this.alpha=c.alpha}get texture(){return this.uniforms.uSampler}set texture(a){this.uniforms.uSampler!==a&&(!this.uniforms.uSampler.baseTexture.alphaMode!==!a.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=a,this.uvMatrix.texture=a)}set alpha(a){a!==this._alpha&&(this._alpha=a,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(a){a!==
this.tint&&(this._tintColor.setValue(a),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const a=this.texture.baseTexture.alphaMode;m.Color.shared.setValue(this._tintColor).premultiply(this._alpha,a).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}k.MeshMaterial=d};
shadow$provide[324]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(319);B=l(318);var m=l(320);l=l(323);k.Mesh=r.Mesh;k.MeshBatchUvs=B.MeshBatchUvs;k.MeshGeometry=m.MeshGeometry;k.MeshMaterial=l.MeshMaterial};
shadow$provide[325]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(324);class m extends r.MeshGeometry{constructor(p=100,e=100,d=10,a=10){super();this.segWidth=d;this.segHeight=a;this.width=p;this.height=e;this.build()}build(){var p=this.segWidth*this.segHeight;const e=[],d=[],a=[],c=this.segWidth-1;var b=this.segHeight-1,g=this.width/c,f=this.height/b;for(var h=0;h<p;h++){var n=h%this.segWidth;const q=h/this.segWidth|0;e.push(n*g,q*f);d.push(n/c,q/b)}p=c*b;for(b=0;b<p;b++)g=
b%c,f=b/c|0,h=f*this.segWidth+g+1,n=(f+1)*this.segWidth+g,a.push(f*this.segWidth+g,h,n,h,(f+1)*this.segWidth+g+1,n);this.buffers[0].data=new Float32Array(e);this.buffers[1].data=new Float32Array(d);this.indexBuffer.data=new Uint16Array(a);this.buffers[0].update();this.buffers[1].update();this.indexBuffer.update()}}k.PlaneGeometry=m};
shadow$provide[326]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(324);class m extends r.MeshGeometry{constructor(p=200,e,d=0){super(new Float32Array(4*e.length),new Float32Array(4*e.length),new Uint16Array(6*(e.length-1)));this.points=e;this._width=p;this.textureScale=d;this.build()}get width(){return this._width}build(){var p=this.points;if(p){var e=this.getBuffer("aVertexPosition"),d=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(1>p.length)){e.data.length/4!==
p.length&&(e.data=new Float32Array(4*p.length),d.data=new Float32Array(4*p.length),a.data=new Uint16Array(6*(p.length-1)));var c=d.data;e=a.data;c[0]=0;c[1]=0;c[2]=0;c[3]=1;var b=0,g=p[0],f=this._width*this.textureScale,h=p.length;for(let q=0;q<h;q++){const t=4*q;if(0<this.textureScale){var n=g.x-p[q].x;g=g.y-p[q].y;n=Math.sqrt(n*n+g*g);g=p[q];b+=n/f}else b=q/(h-1);c[t]=b;c[t+1]=0;c[t+2]=b;c[t+3]=1}p=0;for(c=0;c<h-1;c++)b=2*c,e[p++]=b,e[p++]=b+1,e[p++]=b+2,e[p++]=b+2,e[p++]=b+1,e[p++]=b+3;d.update();
a.update();this.updateVertices()}}}updateVertices(){const p=this.points;if(!(1>p.length)){var e=p[0],d=this.buffers[0].data,a=p.length,c=0<this.textureScale?this.textureScale*this._width/2:this._width/2;for(let f=0;f<a;f++){const h=p[f],n=4*f;var b=f<p.length-1?p[f+1]:h;var g=-(b.x-e.x);e=b.y-e.y;b=Math.sqrt(e*e+g*g);1E-6>b?g=e=0:(e/=b,g/=b,e*=c,g*=c);d[n]=h.x+e;d[n+1]=h.y+g;d[n+2]=h.x-e;d[n+3]=h.y-g;e=h}this.buffers[0].update()}}update(){0<this.textureScale?this.build():this.updateVertices()}}k.RopeGeometry=
m};
shadow$provide[327]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(324),e=l(325);class d extends p.Mesh{constructor(a,c,b){c=new e.PlaneGeometry(a.width,a.height,c,b);b=new p.MeshMaterial(m.Texture.WHITE);super(c,b);this.texture=a;this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const a=this.geometry,{width:c,height:b}=this.shader.texture;!this.autoResize||a.width===c&&a.height===b||(a.width=this.shader.texture.width,a.height=this.shader.texture.height,
a.build())}set texture(a){if(this.shader.texture!==a)if(this.shader.texture=a,this._textureID=-1,a.baseTexture.valid)this.textureUpdated();else a.once("update",this.textureUpdated,this)}get texture(){return this.shader.texture}_render(a){this._textureID!==this.shader.texture._updateID&&this.textureUpdated();super._render(a)}destroy(a){this.shader.texture.off("update",this.textureUpdated,this);super.destroy(a)}}k.SimplePlane=d};
shadow$provide[328]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r=l(327);class p extends r.SimplePlane{constructor(e,d,a,c,b){super(m.Texture.WHITE,4,4);this._origWidth=e.orig.width;this._origHeight=e.orig.height;this._width=this._origWidth;this._height=this._origHeight;this._leftWidth=d??e.defaultBorders?.left??10;this._rightWidth=c??e.defaultBorders?.right??10;this._topHeight=a??e.defaultBorders?.top??10;this._bottomHeight=b??e.defaultBorders?.bottom??10;this.texture=
e}textureUpdated(){this._textureID=this.shader.texture._updateID;this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,d=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*d;e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*d;e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,d=this._getMinScale();e[2]=e[10]=
e[18]=e[26]=this._leftWidth*d;e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*d;e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,d=this._topHeight+this._bottomHeight;return Math.min(this._width>e?1:this._width/e,this._height>d?1:this._height/d)}get width(){return this._width}set width(e){this._width=e;this._refresh()}get height(){return this._height}set height(e){this._height=e;this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=
e;this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e;this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e;this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e;this._refresh()}_refresh(){var e=this.texture;const d=this.geometry.buffers[1].data;this._origWidth=e.orig.width;this._origHeight=e.orig.height;e=1/this._origWidth;const a=1/this._origHeight;d[0]=d[8]=d[16]=d[24]=
0;d[1]=d[3]=d[5]=d[7]=0;d[6]=d[14]=d[22]=d[30]=1;d[25]=d[27]=d[29]=d[31]=1;d[2]=d[10]=d[18]=d[26]=e*this._leftWidth;d[4]=d[12]=d[20]=d[28]=1-e*this._rightWidth;d[9]=d[11]=d[13]=d[15]=a*this._topHeight;d[17]=d[19]=d[21]=d[23]=1-a*this._bottomHeight;this.updateHorizontalVertices();this.updateVerticalVertices();this.geometry.buffers[0].update();this.geometry.buffers[1].update()}}k.NineSlicePlane=p};
shadow$provide[329]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(324);class e extends p.Mesh{constructor(d=m.Texture.EMPTY,a,c,b,g){a=new p.MeshGeometry(a,c,b);a.getBuffer("aVertexPosition").static=!1;d=new p.MeshMaterial(d);super(a,d,null,g);this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(d){this.geometry.getBuffer("aVertexPosition").data=d}_render(d){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update();
super._render(d)}}k.SimpleMesh=e};
shadow$provide[330]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(324),e=l(326);class d extends p.Mesh{constructor(a,c,b=0){c=new e.RopeGeometry(a.height,c,b);const g=new p.MeshMaterial(a);0<b&&(a.baseTexture.wrapMode=m.WRAP_MODES.REPEAT);super(c,g);this.autoUpdate=!0}_render(a){const c=this.geometry;if(this.autoUpdate||c._width!==this.shader.texture.height)c._width=this.shader.texture.height,c.update();super._render(a)}}k.SimpleRope=d};
shadow$provide[331]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(325);B=l(326);var m=l(328),p=l(329),e=l(327);l=l(330);k.PlaneGeometry=r.PlaneGeometry;k.RopeGeometry=B.RopeGeometry;k.NineSlicePlane=m.NineSlicePlane;k.SimpleMesh=p.SimpleMesh;k.SimplePlane=e.SimplePlane;k.SimpleRope=l.SimpleRope};
shadow$provide[332]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r=l(200);class p extends r.Container{constructor(e=1500,d,a=16384,c=!1){super();16384<a&&(a=16384);this._properties=[!1,!0,!1,!1,!1];this._maxSize=e;this._batchSize=a;this._buffers=null;this._bufferUpdateIDs=[];this._updateID=0;this.interactiveChildren=!1;this.blendMode=m.BLEND_MODES.NORMAL;this.autoResize=c;this.roundPixels=!0;this.baseTexture=null;this.setProperties(d);this._tintColor=new m.Color(0);
this.tintRgb=new Float32Array(3);this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e);
this._tintColor.toRgbArray(this.tintRgb)}render(e){if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){if(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.valid))this.baseTexture.once("update",()=>this.onChildrenChange(0));e.batch.setObjectRenderer(e.plugins.particle);e.plugins.particle.render(this)}}onChildrenChange(e){for(e=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=
++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e);this.dispose();this._bufferUpdateIDs=this._buffers=this._properties=null}}k.ParticleContainer=p};
shadow$provide[333]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);class p{constructor(e,d,a){this.geometry=new m.Geometry;this.indexBuffer=null;this.size=a;this.dynamicProperties=[];this.staticProperties=[];for(a=0;a<e.length;++a){let c=e[a];c={attributeName:c.attributeName,size:c.size,uploadFunction:c.uploadFunction,type:c.type||m.TYPES.FLOAT,offset:c.offset};d[a]?this.dynamicProperties.push(c):this.staticProperties.push(c)}this.staticStride=0;this.staticDataUint32=
this.staticData=this.staticBuffer=null;this.dynamicStride=0;this.dynamicDataUint32=this.dynamicData=this.dynamicBuffer=null;this._updateID=0;this.initBuffers()}initBuffers(){const e=this.geometry;var d=0;this.indexBuffer=new m.Buffer(m.utils.createIndicesForQuads(this.size),!0,!0);e.addIndex(this.indexBuffer);this.dynamicStride=0;for(var a=0;a<this.dynamicProperties.length;++a){var c=this.dynamicProperties[a];c.offset=d;d+=c.size;this.dynamicStride+=c.size}d=new ArrayBuffer(this.size*this.dynamicStride*
16);this.dynamicData=new Float32Array(d);this.dynamicDataUint32=new Uint32Array(d);this.dynamicBuffer=new m.Buffer(this.dynamicData,!1,!1);this.staticStride=d=0;for(a=0;a<this.staticProperties.length;++a)c=this.staticProperties[a],c.offset=d,d+=c.size,this.staticStride+=c.size;d=new ArrayBuffer(this.size*this.staticStride*16);this.staticData=new Float32Array(d);this.staticDataUint32=new Uint32Array(d);this.staticBuffer=new m.Buffer(this.staticData,!0,!1);for(d=0;d<this.dynamicProperties.length;++d)a=
this.dynamicProperties[d],e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===m.TYPES.UNSIGNED_BYTE,a.type,4*this.dynamicStride,4*a.offset);for(d=0;d<this.staticProperties.length;++d)a=this.staticProperties[d],e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===m.TYPES.UNSIGNED_BYTE,a.type,4*this.staticStride,4*a.offset)}uploadDynamic(e,d,a){for(let c=0;c<this.dynamicProperties.length;c++){const b=this.dynamicProperties[c];b.uploadFunction(e,d,a,b.type===m.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:
this.dynamicData,this.dynamicStride,b.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,d,a){for(let c=0;c<this.staticProperties.length;c++){const b=this.staticProperties[c];b.uploadFunction(e,d,a,b.type===m.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,b.offset)}this.staticBuffer._updateID++}destroy(){this.staticDataUint32=this.staticData=this.staticBuffer=this.staticProperties=this.dynamicDataUint32=this.dynamicData=this.dynamicBuffer=this.dynamicProperties=this.indexBuffer=
null;this.geometry.destroy()}}k.ParticleBuffer=p};
shadow$provide[334]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color \x3d texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor \x3d color;\n}"};
shadow$provide[335]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x \x3d (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y \x3d (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v \x3d vec2(x, y);\n    v \x3d v + aPositionCoord;\n\n    gl_Position \x3d vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord \x3d aTextureCoord;\n    vColor \x3d aColor * uColor;\n}\n"};
shadow$provide[336]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(333),e=l(334),d=l(335);class a extends m.ObjectRenderer{constructor(c){super(c);this.properties=this.shader=null;this.tempMatrix=new m.Matrix;this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,
offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:m.TYPES.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}];this.shader=m.Shader.from(d["default"],e["default"],{});this.state=m.State.for2d()}render(c){const b=c.children;var g=c._maxSize;const f=c._batchSize,h=this.renderer;let n=b.length;if(0!==n){n>g&&!c.autoResize&&(n=g);g=c._buffers;g||(g=c._buffers=this.generateBuffers(c));var q=b[0]._texture.baseTexture,t=0<q.alphaMode;
this.state.blendMode=m.utils.correctBlendMode(c.blendMode,t);h.state.set(this.state);var u=h.gl,w=c.worldTransform.copyTo(this.tempMatrix);w.prepend(h.globalUniforms.uniforms.projectionMatrix);this.shader.uniforms.translationMatrix=w.toArray(!0);this.shader.uniforms.uColor=m.Color.shared.setValue(c.tintRgb).premultiply(c.worldAlpha,t).toArray(this.shader.uniforms.uColor);this.shader.uniforms.uSampler=q;this.renderer.shader.bind(this.shader);q=!1;for(let x=0,y=0;x<n;x+=f,y+=1){t=n-x;t>f&&(t=f);y>=
g.length&&g.push(this._generateOneMoreBuffer(c));w=g[y];w.uploadDynamic(b,x,t);const z=c._bufferUpdateIDs[y]||0;if(q=q||w._updateID<z)w._updateID=c._updateID,w.uploadStatic(b,x,t);h.geometry.bind(w.geometry);u.drawElements(u.TRIANGLES,6*t,u.UNSIGNED_SHORT,0)}}}generateBuffers(c){const b=[],g=c._maxSize,f=c._batchSize;c=c._properties;for(let h=0;h<g;h+=f)b.push(new p.ParticleBuffer(this.properties,c,f));return b}_generateOneMoreBuffer(c){return new p.ParticleBuffer(this.properties,c._properties,c._batchSize)}uploadVertices(c,
b,g,f,h,n){let q;for(let x=0;x<g;++x){var t=c[b+x];var u=t._texture;const y=t.scale.x,z=t.scale.y;var w=u.trim;const C=u.orig;w?(q=w.x-t.anchor.x*C.width,u=q+w.width,t=w.y-t.anchor.y*C.height,w=t+w.height):(u=C.width*(1-t.anchor.x),q=C.width*-t.anchor.x,w=C.height*(1-t.anchor.y),t=C.height*-t.anchor.y);f[n]=q*y;f[n+1]=t*z;f[n+h]=u*y;f[n+h+1]=t*z;f[n+2*h]=u*y;f[n+2*h+1]=w*z;f[n+3*h]=q*y;f[n+3*h+1]=w*z;n+=4*h}}uploadPosition(c,b,g,f,h,n){for(let q=0;q<g;q++){const t=c[b+q].position;f[n]=t.x;f[n+1]=
t.y;f[n+h]=t.x;f[n+h+1]=t.y;f[n+2*h]=t.x;f[n+2*h+1]=t.y;f[n+3*h]=t.x;f[n+3*h+1]=t.y;n+=4*h}}uploadRotation(c,b,g,f,h,n){for(let q=0;q<g;q++){const t=c[b+q].rotation;f[n]=t;f[n+h]=t;f[n+2*h]=t;f[n+3*h]=t;n+=4*h}}uploadUvs(c,b,g,f,h,n){for(let q=0;q<g;++q){const t=c[b+q]._texture._uvs;t?(f[n]=t.x0,f[n+1]=t.y0,f[n+h]=t.x1,f[n+h+1]=t.y1,f[n+2*h]=t.x2,f[n+2*h+1]=t.y2,f[n+3*h]=t.x3,f[n+3*h+1]=t.y3):(f[n]=0,f[n+1]=0,f[n+h]=0,f[n+h+1]=0,f[n+2*h]=0,f[n+2*h+1]=0,f[n+3*h]=0,f[n+3*h+1]=0);n+=4*h}}uploadTint(c,
b,g,f,h,n){for(let t=0;t<g;++t){var q=c[b+t];q=m.Color.shared.setValue(q._tintRGB).toPremultiplied(q.alpha,0<q.texture.baseTexture.alphaMode);f[n]=q;f[n+h]=q;f[n+2*h]=q;f[n+3*h]=q;n+=4*h}}destroy(){super.destroy();this.shader&&(this.shader.destroy(),this.shader=null);this.tempMatrix=null}}a.extension={name:"particle",type:m.ExtensionType.RendererPlugin};m.extensions.add(a);k.ParticleRenderer=a};
shadow$provide[337]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(332);l=l(336);k.ParticleContainer=r.ParticleContainer;k.ParticleRenderer=l.ParticleRenderer};
shadow$provide[338]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m;r=m||{};r[r.LINEAR_VERTICAL=0]="LINEAR_VERTICAL";r[r.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL";k.TEXT_GRADIENT=r};
shadow$provide[339]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);const p={willReadFrequently:!0},e=class{static get experimentalLetterSpacingSupported(){var d=e._experimentalLetterSpacingSupported;void 0!==d&&(d=m.settings.ADAPTER.getCanvasRenderingContext2D().prototype,d=e._experimentalLetterSpacingSupported="letterSpacing"in d||"textLetterSpacing"in d);return d}constructor(d,a,c,b,g,f,h,n,q){this.text=d;this.style=a;this.width=c;this.height=b;this.lines=g;this.lineWidths=
f;this.lineHeight=h;this.maxLineWidth=n;this.fontProperties=q}static measureText(d,a,c,b=e._canvas){c=void 0===c||null===c?a.wordWrap:c;var g=a.toFontString();const f=e.measureFont(g);0===f.fontSize&&(f.fontSize=a.fontSize,f.ascent=a.fontSize);var h=b.getContext("2d",p);h.font=g;c=(c?e.wordWrap(d,a,b):d).split(/(?:\r\n|\r|\n)/);b=Array(c.length);g=0;for(var n=0;n<c.length;n++){var q=e._measureText(c[n],a.letterSpacing,h);b[n]=q;g=Math.max(g,q)}h=g+a.strokeThickness;a.dropShadow&&(h+=a.dropShadowDistance);
n=a.lineHeight||f.fontSize+a.strokeThickness;q=Math.max(n,f.fontSize+2*a.strokeThickness)+(c.length-1)*(n+a.leading);a.dropShadow&&(q+=a.dropShadowDistance);return new e(d,a,h,q,c,b,n+a.leading,g,f)}static _measureText(d,a,c){let b=!1;e.experimentalLetterSpacingSupported&&(e.experimentalLetterSpacing?(c.letterSpacing=`${a}px`,c.textLetterSpacing=`${a}px`,b=!0):(c.letterSpacing="0px",c.textLetterSpacing="0px"));c=c.measureText(d).width;0<c&&(c=b?c-a:c+(e.graphemeSegmenter(d).length-1)*a);return c}static wordWrap(d,
a,c=e._canvas){c=c.getContext("2d",p);let b=0,g="",f="";const h=Object.create(null),{letterSpacing:n,whiteSpace:q}=a,t=e.collapseSpaces(q),u=e.collapseNewlines(q);let w=!t;const x=a.wordWrapWidth+n;d=e.tokenize(d);for(let A=0;A<d.length;A++){let v=d[A];if(e.isNewline(v)){if(!u){f+=e.addLine(g);w=!t;g="";b=0;continue}v=" "}if(t){var y=e.isBreakingSpace(v),z=e.isBreakingSpace(g[g.length-1]);if(y&&z)continue}y=e.getFromCache(v,n,h,c);if(y>x)if(""!==g&&(f+=e.addLine(g),g="",b=0),e.canBreakWords(v,a.breakWords))for(y=
e.wordWrapSplit(v),z=0;z<y.length;z++){let F=y[z];var C=F;let I=1;for(;y[z+I];){const H=y[z+I];if(e.canBreakChars(C,H,v,z,a.breakWords))break;else F+=H;C=H;I++}z+=I-1;C=e.getFromCache(F,n,h,c);C+b>x&&(f+=e.addLine(g),w=!1,g="",b=0);g+=F;b+=C}else 0<g.length&&(f+=e.addLine(g)),f+=e.addLine(v,A!==d.length-1),w=!1,g="",b=0;else if(y+b>x&&(w=!1,f+=e.addLine(g),g="",b=0),0<g.length||!e.isBreakingSpace(v)||w)g+=v,b+=y}return f+=e.addLine(g,!1)}static addLine(d,a=!0){d=e.trimRight(d);return a?`${d}
`:d}static getFromCache(d,a,c,b){let g=c[d];"number"!==typeof g&&(g=e._measureText(d,a,b)+a,c[d]=g);return g}static collapseSpaces(d){return"normal"===d||"pre-line"===d}static collapseNewlines(d){return"normal"===d}static trimRight(d){if("string"!==typeof d)return"";for(let a=d.length-1;0<=a&&e.isBreakingSpace(d[a]);a--)d=d.slice(0,-1);return d}static isNewline(d){return"string"!==typeof d?!1:e._newlines.includes(d.charCodeAt(0))}static isBreakingSpace(d,a){return"string"!==typeof d?!1:e._breakingSpaces.includes(d.charCodeAt(0))}static tokenize(d){const a=
[];let c="";if("string"!==typeof d)return a;for(let b=0;b<d.length;b++){const g=d[b];e.isBreakingSpace(g,d[b+1])||e.isNewline(g)?(""!==c&&(a.push(c),c=""),a.push(g)):c+=g}""!==c&&a.push(c);return a}static canBreakWords(d,a){return a}static canBreakChars(d,a,c,b,g){return!0}static wordWrapSplit(d){return e.graphemeSegmenter(d)}static measureFont(d){if(e._fonts[d])return e._fonts[d];const a={ascent:0,descent:0,fontSize:0};var c=e._canvas,b=e._context;b.font=d;var g=e.METRICS_STRING+e.BASELINE_SYMBOL,
f=Math.ceil(b.measureText(g).width);let h=Math.ceil(b.measureText(e.BASELINE_SYMBOL).width);var n=Math.ceil(e.HEIGHT_MULTIPLIER*h);h=h*e.BASELINE_MULTIPLIER|0;if(0===f||0===n)return e._fonts[d]=a;c.width=f;c.height=n;b.fillStyle="#f00";b.fillRect(0,0,f,n);b.font=d;b.textBaseline="alphabetic";b.fillStyle="#000";b.fillText(g,0,h);c=b.getImageData(0,0,f,n).data;b=c.length;f*=4;let q=0,t=!1;for(g=0;g<h;++g){for(let u=0;u<f;u+=4)if(255!==c[q+u]){t=!0;break}if(t)break;else q+=f}a.ascent=h-g;q=b-f;t=!1;
for(g=n;g>h;--g){for(n=0;n<f;n+=4)if(255!==c[q+n]){t=!0;break}if(t)break;else q-=f}a.descent=g-h;a.fontSize=a.ascent+a.descent;return e._fonts[d]=a}static clearMetrics(d=""){d?delete e._fonts[d]:e._fonts={}}static get _canvas(){if(!e.__canvas){let d;try{const a=new OffscreenCanvas(0,0);if(a.getContext("2d",p)?.measureText)return e.__canvas=a;d=m.settings.ADAPTER.createCanvas()}catch(a){d=m.settings.ADAPTER.createCanvas()}d.width=d.height=10;e.__canvas=d}return e.__canvas}static get _context(){e.__context||
(e.__context=e._canvas.getContext("2d",p));return e.__context}};r=e;r.METRICS_STRING="|q";r.BASELINE_SYMBOL="M";r.BASELINE_MULTIPLIER=1.4;r.HEIGHT_MULTIPLIER=2;r.graphemeSegmenter=(()=>{if("function"===typeof Intl?.Segmenter){const d=new Intl.Segmenter;return a=>[...d.segment(a)].map(c=>c.segment)}return d=>[...d]})();r.experimentalLetterSpacing=!1;r._fonts={};r._newlines=[10,13];r._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];k.TextMetrics=r};
shadow$provide[340]=function(r,l,B,k){function m(c){const b=e.Color.shared;return Array.isArray(c)?c.map(g=>b.setValue(g).toHex()):b.setValue(c).toHex()}function p(c,b,g){for(const f in g)Array.isArray(b[f])?c[f]=b[f].slice():c[f]=b[f]}Object.defineProperty(k,"__esModule",{value:!0});r=l(338);var e=l(195);const d="serif sans-serif monospace cursive fantasy system-ui".split(" "),a=class{constructor(c){this.styleID=0;this.reset();p(this,c,c)}clone(){const c={};p(c,this,a.defaultStyle);return new a(c)}reset(){p(this,
a.defaultStyle,a.defaultStyle)}get align(){return this._align}set align(c){this._align!==c&&(this._align=c,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(c){this._breakWords!==c&&(this._breakWords=c,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(c){this._dropShadow!==c&&(this._dropShadow=c,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(c){this._dropShadowAlpha!==c&&(this._dropShadowAlpha=c,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(c){this._dropShadowAngle!==
c&&(this._dropShadowAngle=c,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(c){this._dropShadowBlur!==c&&(this._dropShadowBlur=c,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(c){c=m(c);this._dropShadowColor!==c&&(this._dropShadowColor=c,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(c){this._dropShadowDistance!==c&&(this._dropShadowDistance=c,this.styleID++)}get fill(){return this._fill}set fill(c){c=
m(c);this._fill!==c&&(this._fill=c,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(c){this._fillGradientType!==c&&(this._fillGradientType=c,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(c){a:{var b=this._fillGradientStops;if(Array.isArray(b)&&Array.isArray(c)&&b.length===c.length){for(let g=0;g<b.length;++g)if(b[g]!==c[g]){b=!1;break a}b=!0}else b=!1}b||(this._fillGradientStops=c,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(c){this.fontFamily!==
c&&(this._fontFamily=c,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(c){this._fontSize!==c&&(this._fontSize=c,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(c){this._fontStyle!==c&&(this._fontStyle=c,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(c){this._fontVariant!==c&&(this._fontVariant=c,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(c){this._fontWeight!==c&&(this._fontWeight=c,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(c){this._letterSpacing!==
c&&(this._letterSpacing=c,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(c){this._lineHeight!==c&&(this._lineHeight=c,this.styleID++)}get leading(){return this._leading}set leading(c){this._leading!==c&&(this._leading=c,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(c){this._lineJoin!==c&&(this._lineJoin=c,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(c){this._miterLimit!==c&&(this._miterLimit=c,this.styleID++)}get padding(){return this._padding}set padding(c){this._padding!==
c&&(this._padding=c,this.styleID++)}get stroke(){return this._stroke}set stroke(c){c=m(c);this._stroke!==c&&(this._stroke=c,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(c){this._strokeThickness!==c&&(this._strokeThickness=c,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(c){this._textBaseline!==c&&(this._textBaseline=c,this.styleID++)}get trim(){return this._trim}set trim(c){this._trim!==c&&(this._trim=c,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(c){this._whiteSpace!==
c&&(this._whiteSpace=c,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(c){this._wordWrap!==c&&(this._wordWrap=c,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(c){this._wordWrapWidth!==c&&(this._wordWrapWidth=c,this.styleID++)}toFontString(){const c="number"===typeof this.fontSize?`${this.fontSize}px`:this.fontSize;let b=this.fontFamily;Array.isArray(this.fontFamily)||(b=this.fontFamily.split(","));for(let g=b.length-1;0<=g;g--){let f=b[g].trim();
/(["'])[^'"]+\1/.test(f)||d.includes(f)||(f=`"${f}"`);b[g]=f}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${c} ${b.join(",")}`}};l=a;l.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:r.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,
lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};k.TextStyle=l};
shadow$provide[341]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r=l(202);var p=l(338),e=l(339),d=l(340);const a={texture:!0,children:!1,baseTexture:!0},c=class extends r.Sprite{constructor(b,g,f){let h=!1;f||(f=m.settings.ADAPTER.createCanvas(),h=!0);f.width=3;f.height=3;const n=m.Texture.from(f);n.orig=new m.Rectangle;n.trim=new m.Rectangle;super(n);this._ownCanvas=h;this.canvas=f;this.context=f.getContext("2d",{willReadFrequently:!0});this._resolution=c.defaultResolution??
m.settings.RESOLUTION;this._autoResolution=c.defaultAutoResolution;this._styleListener=this._style=this._text=null;this._font="";this.text=b;this.style=g;this.localStyleID=-1}static get experimentalLetterSpacing(){return e.TextMetrics.experimentalLetterSpacing}static set experimentalLetterSpacing(b){m.utils.deprecation("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing");e.TextMetrics.experimentalLetterSpacing=b}updateText(b){const g=this._style;this.localStyleID!==
g.styleID&&(this.dirty=!0,this.localStyleID=g.styleID);if(this.dirty||!b){this._font=this._style.toFontString();b=this.context;var f=e.TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),h=f.height,n=f.lines,q=f.lineHeight,t=f.lineWidths,u=f.maxLineWidth,w=f.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,f.width)+2*g.padding)*this._resolution);this.canvas.height=Math.ceil(Math.ceil(Math.max(1,h)+2*g.padding)*this._resolution);b.scale(this._resolution,
this._resolution);b.clearRect(0,0,this.canvas.width,this.canvas.height);b.font=this._font;b.lineWidth=g.strokeThickness;b.textBaseline=g.textBaseline;b.lineJoin=g.lineJoin;b.miterLimit=g.miterLimit;var x,y=g.dropShadow?2:1;for(let A=0;A<y;++A){const v=(x=g.dropShadow&&0===A)?Math.ceil(Math.max(1,h)+2*g.padding):0;var z=v*this._resolution;if(x){b.fillStyle="black";b.strokeStyle="black";x=g.dropShadowBlur*this._resolution;var C=g.dropShadowDistance*this._resolution;b.shadowColor=m.Color.shared.setValue(g.dropShadowColor).setAlpha(g.dropShadowAlpha).toRgbaString();
b.shadowBlur=x;b.shadowOffsetX=Math.cos(g.dropShadowAngle)*C;b.shadowOffsetY=Math.sin(g.dropShadowAngle)*C+z}else b.fillStyle=this._generateFillStyle(g,n,f),b.strokeStyle=g.stroke,b.shadowColor="black",b.shadowBlur=0,b.shadowOffsetX=0,b.shadowOffsetY=0;C=(q-w.fontSize)/2;0>q-w.fontSize&&(C=0);for(let F=0;F<n.length;F++)z=g.strokeThickness/2,x=g.strokeThickness/2+F*q+w.ascent+C,"right"===g.align?z+=u-t[F]:"center"===g.align&&(z+=(u-t[F])/2),g.stroke&&g.strokeThickness&&this.drawLetterSpacing(n[F],
z+g.padding,x+g.padding-v,!0),g.fill&&this.drawLetterSpacing(n[F],z+g.padding,x+g.padding-v)}this.updateTexture()}}drawLetterSpacing(b,g,f,h=!1){const n=this._style.letterSpacing;var q=!1;e.TextMetrics.experimentalLetterSpacingSupported&&(e.TextMetrics.experimentalLetterSpacing?(this.context.letterSpacing=`${n}px`,this.context.textLetterSpacing=`${n}px`,q=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px"));if(0===n||q)h?this.context.strokeText(b,g,f):this.context.fillText(b,
g,f);else{q=e.TextMetrics.graphemeSegmenter(b);b=this.context.measureText(b).width;for(let u=0;u<q.length;++u){var t=q[u];h?this.context.strokeText(t,g,f):this.context.fillText(t,g,f);t="";for(let w=u+1;w<q.length;++w)t+=q[w];t=this.context.measureText(t).width;g+=b-t+n;b=t}}}updateTexture(){const b=this.canvas;if(this._style.trim){var g=m.utils.trimCanvas(b);g.data&&(b.width=g.width,b.height=g.height,this.context.putImageData(g.data,0,0))}g=this._texture;var f=this._style;f=f.trim?0:f.padding;const h=
g.baseTexture;g.trim.width=g._frame.width=b.width/this._resolution;g.trim.height=g._frame.height=b.height/this._resolution;g.trim.x=-f;g.trim.y=-f;g.orig.width=g._frame.width-2*f;g.orig.height=g._frame.height-2*f;this._onTextureUpdate();h.setRealSize(b.width,b.height,this._resolution);g.updateUvs();this.dirty=!1}_render(b){this._autoResolution&&this._resolution!==b.resolution&&(this._resolution=b.resolution,this.dirty=!0);this.updateText(!0);super._render(b)}updateTransform(){this.updateText(!0);
super.updateTransform()}getBounds(b,g){this.updateText(!0);-1===this._textureID&&(b=!1);return super.getBounds(b,g)}getLocalBounds(b){this.updateText(!0);return super.getLocalBounds.call(this,b)}_calculateBounds(){this.calculateVertices();this._bounds.addQuad(this.vertexData)}_generateFillStyle(b,g,f){var h=b.fill;if(!Array.isArray(h))return h;if(1===h.length)return h[0];var n=b.dropShadow?b.dropShadowDistance:0,q=b.padding||0,t=this.canvas.width/this._resolution-n-2*q,u=this.canvas.height/this._resolution-
n-2*q;n=h.slice();const w=b.fillGradientStops.slice();if(!w.length){var x=n.length+1;for(var y=1;y<x;++y)w.push(y/x)}n.unshift(h[0]);w.unshift(0);n.push(h[h.length-1]);w.push(1);if(b.fillGradientType===p.TEXT_GRADIENT.LINEAR_VERTICAL)for(h=this.context.createLinearGradient(t/2,q,t/2,u+q),b=f.fontProperties.fontSize+b.strokeThickness,q=0;q<g.length;q++){x=f.lineHeight*(q-1)+b;t=y=f.lineHeight*q;0<q&&x>y&&(t=(y+x)/2);x=y+b;y=f.lineHeight*(q+1);var z=x;q+1<g.length&&y<x&&(z=(x+y)/2);x=(z-t)/u;for(y=
0;y<n.length;y++)z=Math.min(1,Math.max(0,t/u+("number"===typeof w[y]?w[y]:y/n.length)*x)),z=Number(z.toFixed(5)),h.addColorStop(z,n[y])}else for(h=this.context.createLinearGradient(q,u/2,t+q,u/2),g=n.length+1,f=1,u=0;u<n.length;u++)h.addColorStop("number"===typeof w[u]?w[u]:f/g,n[u]),f++;return h}destroy(b){"boolean"===typeof b&&(b={children:b});b=Object.assign({},a,b);super.destroy(b);this._ownCanvas&&(this.canvas.height=this.canvas.width=0);this._style=this.canvas=this.context=null}get width(){this.updateText(!0);
return Math.abs(this.scale.x)*this._texture.orig.width}set width(b){this.updateText(!0);const g=m.utils.sign(this.scale.x)||1;this.scale.x=g*b/this._texture.orig.width;this._width=b}get height(){this.updateText(!0);return Math.abs(this.scale.y)*this._texture.orig.height}set height(b){this.updateText(!0);const g=m.utils.sign(this.scale.y)||1;this.scale.y=g*b/this._texture.orig.height;this._height=b}get style(){return this._style}set style(b){b=b||{};this._style=b instanceof d.TextStyle?b:new d.TextStyle(b);
this.localStyleID=-1;this.dirty=!0}get text(){return this._text}set text(b){b=String(null===b||void 0===b?"":b);this._text!==b&&(this._text=b,this.dirty=!0)}get resolution(){return this._resolution}set resolution(b){this._autoResolution=!1;this._resolution!==b&&(this._resolution=b,this.dirty=!0)}};l=c;l.defaultAutoResolution=!0;k.Text=l};
shadow$provide[342]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(338);B=l(341);var m=l(339);l=l(340);k.TEXT_GRADIENT=r.TEXT_GRADIENT;k.Text=B.Text;k.TextMetrics=m.TextMetrics;k.TextStyle=l.TextStyle};
shadow$provide[343]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{constructor(p){this.maxItemsPerFrame=p;this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return 0<this.itemsLeft--}}k.CountLimiter=m};
shadow$provide[344]=function(r,l,B,k){function m(t,u){let w=!1;if(t?._textures?.length)for(let x=0;x<t._textures.length;x++)if(t._textures[x]instanceof g.Texture){const y=t._textures[x].baseTexture;u.includes(y)||(u.push(y),w=!0)}return w}function p(t,u){return t.baseTexture instanceof g.BaseTexture?(t=t.baseTexture,u.includes(t)||u.push(t),!0):!1}function e(t,u){return t._texture&&t._texture instanceof g.Texture?(t=t._texture.baseTexture,u.includes(t)||u.push(t),!0):!1}function d(t,u){return u instanceof
h.Text?(u.updateText(!0),!0):!1}function a(t,u){return u instanceof h.TextStyle?(t=u.toFontString(),h.TextMetrics.measureFont(t),!0):!1}function c(t,u){return t instanceof h.Text?(u.includes(t.style)||u.push(t.style),u.includes(t)||u.push(t),t=t._texture.baseTexture,u.includes(t)||u.push(t),!0):!1}function b(t,u){return t instanceof h.TextStyle?(u.includes(t)||u.push(t),!0):!1}Object.defineProperty(k,"__esModule",{value:!0});var g=l(195),f=l(200),h=l(342),n=l(343);const q=class{constructor(t){this.limiter=
new n.CountLimiter(q.uploadsPerFrame);this.renderer=t;this.uploadHookHelper=null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=!1;this.delayedTick=()=>{this.queue&&this.prepareItems()};this.registerFindHook(c);this.registerFindHook(b);this.registerFindHook(m);this.registerFindHook(p);this.registerFindHook(e);this.registerUploadHook(d);this.registerUploadHook(a)}upload(t){return new Promise(u=>{t&&this.add(t);this.queue.length?(this.completes.push(u),this.ticking||
(this.ticking=!0,g.Ticker.system.addOnce(this.tick,this,g.UPDATE_PRIORITY.UTILITY))):u()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0];let u=!1;if(t&&!t._destroyed)for(let w=0,x=this.uploadHooks.length;w<x;w++)if(this.uploadHooks[w](this.uploadHookHelper,t)){this.queue.shift();u=!0;break}u||this.queue.shift()}if(this.queue.length)g.Ticker.system.addOnce(this.tick,this,g.UPDATE_PRIORITY.UTILITY);
else{this.ticking=!1;t=this.completes.slice(0);this.completes.length=0;for(let u=0,w=t.length;u<w;u++)t[u]()}}registerFindHook(t){t&&this.addHooks.push(t);return this}registerUploadHook(t){t&&this.uploadHooks.push(t);return this}add(t){for(let u=0,w=this.addHooks.length;u<w&&!this.addHooks[u](t,this.queue);u++);if(t instanceof f.Container)for(let u=t.children.length-1;0<=u;u--)this.add(t.children[u]);return this}destroy(){this.ticking&&g.Ticker.system.remove(this.tick,this);this.ticking=!1;this.uploadHookHelper=
this.limiter=this.queue=this.completes=this.renderer=this.uploadHooks=this.addHooks=null}};r=q;r.uploadsPerFrame=4;k.BasePrepare=r};
shadow$provide[345]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(344);Object.defineProperties(m.settings,{UPLOADS_PER_FRAME:{get(){return p.BasePrepare.uploadsPerFrame},set(e){m.utils.deprecation("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame");p.BasePrepare.uploadsPerFrame=e}}});Object.defineProperty(k,"settings",{enumerable:!0,get:function(){return m.settings}})};
shadow$provide[346]=function(r,l,B,k){function m(b,g){return g instanceof d.BaseTexture?(g._glTextures[b.CONTEXT_UID]||b.texture.bind(g),!0):!1}function p(b,g){if(!(g instanceof a.Graphics))return!1;const {geometry:f}=g;g.finishPoly();f.updateBatches();const {batches:h}=f;for(let n=0;n<h.length;n++){const {texture:q}=h[n].style;q&&m(b,q.baseTexture)}f.batchable||b.geometry.bind(f,g._resolveDirectShader(b));return!0}function e(b,g){return b instanceof a.Graphics?(g.push(b),!0):!1}Object.defineProperty(k,
"__esModule",{value:!0});var d=l(195),a=l(317);r=l(344);class c extends r.BasePrepare{constructor(b){super(b);this.uploadHookHelper=this.renderer;this.registerFindHook(e);this.registerUploadHook(m);this.registerUploadHook(p)}}c.extension={name:"prepare",type:d.ExtensionType.RendererSystem};d.extensions.add(c);k.Prepare=c};
shadow$provide[347]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{constructor(p){this.maxMilliseconds=p;this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}k.TimeLimiter=m};
shadow$provide[348]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});l(345);r=l(344);B=l(343);var m=l(346);l=l(347);k.BasePrepare=r.BasePrepare;k.CountLimiter=B.CountLimiter;k.Prepare=m.Prepare;k.TimeLimiter=l.TimeLimiter};
shadow$provide[349]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r=l(202);class p extends r.Sprite{constructor(e,d=!0){super(e[0]instanceof m.Texture?e[0]:e[0].texture);this._durations=this._textures=null;this._autoUpdate=d;this._isConnectedToTicker=!1;this.animationSpeed=1;this.loop=!0;this.updateAnchor=!1;this.onLoop=this.onFrameChange=this.onComplete=null;this._currentTime=0;this._playing=!1;this._previousFrame=null;this.textures=e}stop(){this._playing&&(this._playing=
!1,this._autoUpdate&&this._isConnectedToTicker&&(m.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(m.Ticker.shared.add(this.update,this,m.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop();this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e;this.play()}update(e){if(this._playing){var d=this.animationSpeed*e,a=this.currentFrame;if(null!==this._durations){let c=
this._currentTime%1*this._durations[this.currentFrame];for(c+=d/60*1E3;0>c;)this._currentTime--,c+=this._durations[this.currentFrame];e=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);c>=this._durations[this.currentFrame];)c-=this._durations[this.currentFrame]*e,this._currentTime+=e;this._currentTime+=c/this._durations[this.currentFrame]}else this._currentTime+=d;if(0>this._currentTime&&!this.loop){if(this.gotoAndStop(0),this.onComplete)this.onComplete()}else if(this._currentTime>=
this._textures.length&&!this.loop){if(this.gotoAndStop(this._textures.length-1),this.onComplete)this.onComplete()}else if(a!==this.currentFrame){if(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<a||0>this.animationSpeed&&this.currentFrame>a))this.onLoop();this.updateTexture()}}}updateTexture(){const e=this.currentFrame;if(this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureTrimmedID=this._textureID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,
this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange))this.onFrameChange(this.currentFrame)}destroy(e){this.stop();super.destroy(e);this.onLoop=this.onFrameChange=this.onComplete=null}static fromFrames(e){const d=[];for(let a=0;a<e.length;++a)d.push(m.Texture.from(e[a]));return new p(d)}static fromImages(e){const d=[];for(let a=0;a<e.length;++a)d.push(m.Texture.from(e[a]));return new p(d)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof
m.Texture)this._textures=e,this._durations=null;else{this._textures=[];this._durations=[];for(let d=0;d<e.length;d++)this._textures.push(e[d].texture),this._durations.push(e[d].time)}this._previousFrame=null;this.gotoAndStop(0);this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;0>e&&(e+=this._textures.length);return e}set currentFrame(e){if(0>e||e>this.totalFrames-1)throw Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);
const d=this.currentFrame;this._currentTime=e;d!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(m.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(m.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))}}k.AnimatedSprite=p};
shadow$provide[350]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(349);k.AnimatedSprite=r.AnimatedSprite};
shadow$provide[351]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r=l(202);const p=new m.Point;class e extends r.Sprite{constructor(d,a=100,c=100){super(d);this.tileTransform=new m.Transform;this._width=a;this._height=c;this.uvMatrix=this.texture.uvMatrix||new m.TextureMatrix(d);this.pluginName="tilingSprite";this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(d){this.uvMatrix.clampMargin=d;this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(d){this.tileTransform.scale.copyFrom(d)}get tilePosition(){return this.tileTransform.position}set tilePosition(d){this.tileTransform.position.copyFrom(d)}_onTextureUpdate(){this.uvMatrix&&
(this.uvMatrix.texture=this._texture);this._cachedTint=16777215}_render(d){const a=this._texture;a&&a.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),d.batch.setObjectRenderer(d.plugins[this.pluginName]),d.plugins[this.pluginName].render(this))}_calculateBounds(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))}getLocalBounds(d){return 0===this.children.length?
(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),d||(this._localBoundsRect||(this._localBoundsRect=new m.Rectangle),d=this._localBoundsRect),this._bounds.getRectangle(d)):super.getLocalBounds.call(this,d)}containsPoint(d){this.worldTransform.applyInverse(d,p);var a=this._width;d=this._height;const c=-a*this.anchor._x;return p.x>=c&&p.x<c+a&&(a=-d*this.anchor._y,
p.y>=a&&p.y<a+d)?!0:!1}destroy(d){super.destroy(d);this.uvMatrix=this.tileTransform=null}static from(d,a){d=d instanceof m.Texture?d:m.Texture.from(d,a);return new e(d,a.width,a.height)}get width(){return this._width}set width(d){this._width=d}get height(){return this._height}set height(d){this._height=d}}k.TilingSprite=e};
shadow$provide[352]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord \x3d vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord \x3d (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped \x3d coord;\n    coord \x3d clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample \x3d texture(uSampler, coord, unclamped \x3d\x3d coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor \x3d texSample * uColor;\n}\n"};
shadow$provide[353]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position \x3d vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord \x3d (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"};
shadow$provide[354]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord \x3d vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord \x3d (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped \x3d coord;\n    coord \x3d clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample \x3d unclamped \x3d\x3d coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample \x3d texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor \x3d texSample * uColor;\n}\n"};
shadow$provide[355]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position \x3d vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord \x3d (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"};
shadow$provide[356]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample \x3d texture2D(uSampler, vTextureCoord);\n    gl_FragColor \x3d texSample * uColor;\n}\n"};
shadow$provide[357]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(352),e=l(353),d=l(354),a=l(355),c=l(356);const b=new m.Matrix;class g extends m.ObjectRenderer{constructor(f){super(f);f.runners.contextChange.add(this);this.quad=new m.QuadUv;this.state=m.State.for2d()}contextChange(){const f=this.renderer,h={globals:f.globalUniforms};this.simpleShader=m.Shader.from(a["default"],c["default"],h);this.shader=1<f.context.webGLVersion?m.Shader.from(e["default"],p["default"],
h):m.Shader.from(a["default"],d["default"],h)}render(f){const h=this.renderer,n=this.quad;var q=n.vertices;q[0]=q[6]=f._width*-f.anchor.x;q[1]=q[3]=f._height*-f.anchor.y;q[2]=q[4]=f._width*(1-f.anchor.x);q[5]=q[7]=f._height*(1-f.anchor.y);var t=f.uvRespectAnchor?f.anchor.x:0,u=f.uvRespectAnchor?f.anchor.y:0;q=n.uvs;q[0]=q[6]=-t;q[1]=q[3]=-u;q[2]=q[4]=1-t;q[5]=q[7]=1-u;n.invalidate();q=f._texture;var w=q.baseTexture;t=0<w.alphaMode;u=f.tileTransform.localTransform;const x=f.uvMatrix;let y=w.isPowerOfTwo&&
q.frame.width===w.width&&q.frame.height===w.height;y&&(w._glTextures[h.CONTEXT_UID]?y=w.wrapMode!==m.WRAP_MODES.CLAMP:w.wrapMode===m.WRAP_MODES.CLAMP&&(w.wrapMode=m.WRAP_MODES.REPEAT));w=y?this.simpleShader:this.shader;const z=q.width,C=q.height,A=f._width,v=f._height;b.set(u.a*z/A,u.b*z/v,u.c*C/A,u.d*C/v,u.tx/A,u.ty/v);b.invert();y?b.prepend(x.mapCoord):(w.uniforms.uMapCoord=x.mapCoord.toArray(!0),w.uniforms.uClampFrame=x.uClampFrame,w.uniforms.uClampOffset=x.uClampOffset);w.uniforms.uTransform=
b.toArray(!0);w.uniforms.uColor=m.Color.shared.setValue(f.tint).premultiply(f.worldAlpha,t).toArray(w.uniforms.uColor);w.uniforms.translationMatrix=f.transform.worldTransform.toArray(!0);w.uniforms.uSampler=q;h.shader.bind(w);h.geometry.bind(n);this.state.blendMode=m.utils.correctBlendMode(f.blendMode,t);h.state.set(this.state);h.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}g.extension={name:"tilingSprite",type:m.ExtensionType.RendererPlugin};m.extensions.add(g);k.TilingSpriteRenderer=g};
shadow$provide[358]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(351);l=l(357);k.TilingSprite=r.TilingSprite;k.TilingSpriteRenderer=l.TilingSpriteRenderer};
shadow$provide[359]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);const p=class{constructor(e,d,a=null){this.linkedSheets=[];this._texture=e instanceof m.Texture?e:null;this.baseTexture=e instanceof m.BaseTexture?e:this._texture.baseTexture;this.textures={};this.animations={};this.data=d;e=this.baseTexture.resource;this.resolution=this._updateResolution(a||(e?e.url:null));this._frames=this.data.frames;this._frameKeys=Object.keys(this._frames);this._batchIndex=0;this._callback=
null}_updateResolution(e=null){const {scale:d}=this.data.meta;e=m.utils.getResolutionOfUrl(e,null);null===e&&(e=parseFloat(d??"1"));1!==e&&this.baseTexture.setResolution(e);return e}parse(){return new Promise(e=>{this._callback=e;this._batchIndex=0;this._frameKeys.length<=p.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let d=e;const a=p.BATCH_SIZE;for(;d-e<a&&d<this._frameKeys.length;){const b=this._frameKeys[d],g=this._frames[b],
f=g.frame;if(f){var c=void 0;let h=null;c=!1!==g.trimmed&&g.sourceSize?g.sourceSize:g.frame;const n=new m.Rectangle(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);c=g.rotated?new m.Rectangle(Math.floor(f.x)/this.resolution,Math.floor(f.y)/this.resolution,Math.floor(f.h)/this.resolution,Math.floor(f.w)/this.resolution):new m.Rectangle(Math.floor(f.x)/this.resolution,Math.floor(f.y)/this.resolution,Math.floor(f.w)/this.resolution,Math.floor(f.h)/this.resolution);!1!==g.trimmed&&
g.spriteSourceSize&&(h=new m.Rectangle(Math.floor(g.spriteSourceSize.x)/this.resolution,Math.floor(g.spriteSourceSize.y)/this.resolution,Math.floor(f.w)/this.resolution,Math.floor(f.h)/this.resolution));this.textures[b]=new m.Texture(this.baseTexture,c,n,h,g.rotated?2:0,g.anchor,g.borders);m.Texture.addToCache(this.textures[b],b)}d++}}_processAnimations(){const e=this.data.animations||{};for(const d in e){this.animations[d]=[];for(let a=0;a<e[d].length;a++)this.animations[d].push(this.textures[e[d][a]])}}_parseComplete(){const e=
this._callback;this._callback=null;this._batchIndex=0;e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*p.BATCH_SIZE);this._batchIndex++;setTimeout(()=>{this._batchIndex*p.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){for(const d in this.textures)this.textures[d].destroy();this.textures=this.data=this._frameKeys=this._frames=null;e&&(this._texture?.destroy(),this.baseTexture.destroy());this.baseTexture=
this._texture=null;this.linkedSheets=[]}};r=p;r.BATCH_SIZE=1E3;k.Spritesheet=r};
shadow$provide[360]=function(r,l,B,k){function m(c,b,g){const f={};c.forEach(h=>{f[h]=b});Object.keys(b.textures).forEach(h=>{f[h]=b.textures[h]});if(!g){const h=e.utils.path.dirname(c[0]);b.linkedSheets.forEach((n,q)=>{n=m([`${h}/${b.data.meta.related_multi_packs[q]}`],n,!0);Object.assign(f,n)})}return f}Object.defineProperty(k,"__esModule",{value:!0});var p=l(284),e=l(195),d=l(359);const a=["jpg","png","jpeg","avif","webp"];r={extension:e.ExtensionType.Asset,cache:{test:c=>c instanceof d.Spritesheet,
getCacheableAssets:(c,b)=>m(c,b,!1)},resolver:{test:c=>{var b=c.split("?")[0].split(".");c=b.pop();b=b.pop();return"json"===c&&a.includes(b)},parse:c=>{const b=c.split(".");return{resolution:parseFloat(e.settings.RETINA_PREFIX.exec(c)?.[1]??"1"),format:b[b.length-2],src:c}}},loader:{name:"spritesheetLoader",extension:{type:e.ExtensionType.LoadParser,priority:p.LoaderParserPriority.Normal},async testParse(c,b){return".json"===e.utils.path.extname(b.src).toLowerCase()&&!!c.frames},async parse(c,b,g){let f=
e.utils.path.dirname(b.src);f&&f.lastIndexOf("/")!==f.length-1&&(f+="/");var h=f+c.meta.image;h=p.copySearchParams(h,b.src);h=(await g.load([h]))[h];const n=new d.Spritesheet(h.baseTexture,c,b.src);await n.parse();h=c?.meta?.related_multi_packs;if(Array.isArray(h)){c=[];for(const q of h)"string"===typeof q&&(h=f+q,b.data?.ignoreMultiPack||(h=p.copySearchParams(h,b.src),c.push(g.load({src:h,data:{ignoreMultiPack:!0}}))));b=await Promise.all(c);n.linkedSheets=b;b.forEach(q=>{q.linkedSheets=[n].concat(n.linkedSheets.filter(t=>
t!==q))})}return n},unload(c){c.destroy(!0)}}};e.extensions.add(r);k.spritesheetAsset=r};
shadow$provide[361]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(359);l=l(360);k.Spritesheet=r.Spritesheet;k.spritesheetAsset=l.spritesheetAsset};
shadow$provide[362]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});class m{constructor(){this.info=[];this.common=[];this.page=[];this.char=[];this.kerning=[];this.distanceField=[]}}k.BitmapFontData=m};
shadow$provide[363]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(362);class p{static test(e){return"string"===typeof e&&e.startsWith("info face\x3d")}static parse(e){e=e.match(/^[a-z]+\s+.+$/gm);const d={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const b in e){const g=e[b].match(/^[a-z]+/gm)[0],f=e[b].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(const n in f){var a=f[n].split("\x3d");const q=a[0];a=a[1].replace(/"/gm,
"");const t=parseFloat(a);a=isNaN(t)?a:t;h[q]=a}d[g].push(h)}const c=new m.BitmapFontData;d.info.forEach(b=>c.info.push({face:b.face,size:parseInt(b.size,10)}));d.common.forEach(b=>c.common.push({lineHeight:parseInt(b.lineHeight,10)}));d.page.forEach(b=>c.page.push({id:parseInt(b.id,10),file:b.file}));d.char.forEach(b=>c.char.push({id:parseInt(b.id,10),page:parseInt(b.page,10),x:parseInt(b.x,10),y:parseInt(b.y,10),width:parseInt(b.width,10),height:parseInt(b.height,10),xoffset:parseInt(b.xoffset,
10),yoffset:parseInt(b.yoffset,10),xadvance:parseInt(b.xadvance,10)}));d.kerning.forEach(b=>c.kerning.push({first:parseInt(b.first,10),second:parseInt(b.second,10),amount:parseInt(b.amount,10)}));d.distanceField.forEach(b=>c.distanceField.push({distanceRange:parseInt(b.distanceRange,10),fieldType:b.fieldType}));return c}}k.TextFormat=p};
shadow$provide[364]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(362);class p{static test(e){return"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")}static parse(e){const d=new m.BitmapFontData;var a=e.getElementsByTagName("info"),c=e.getElementsByTagName("common"),b=e.getElementsByTagName("page"),g=e.getElementsByTagName("char"),f=e.getElementsByTagName("kerning");e=e.getElementsByTagName("distanceField");
for(let h=0;h<a.length;h++)d.info.push({face:a[h].getAttribute("face"),size:parseInt(a[h].getAttribute("size"),10)});for(a=0;a<c.length;a++)d.common.push({lineHeight:parseInt(c[a].getAttribute("lineHeight"),10)});for(c=0;c<b.length;c++)d.page.push({id:parseInt(b[c].getAttribute("id"),10)||0,file:b[c].getAttribute("file")});for(b=0;b<g.length;b++)c=g[b],d.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),
10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)});for(g=0;g<f.length;g++)d.kerning.push({first:parseInt(f[g].getAttribute("first"),10),second:parseInt(f[g].getAttribute("second"),10),amount:parseInt(f[g].getAttribute("amount"),10)});for(f=0;f<e.length;f++)d.distanceField.push({fieldType:e[f].getAttribute("fieldType"),
distanceRange:parseInt(e[f].getAttribute("distanceRange"),10)});return d}}k.XMLFormat=p};
shadow$provide[365]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(364);class e{static test(d){return"string"===typeof d&&d.includes("\x3cfont\x3e")?p.XMLFormat.test(m.settings.ADAPTER.parseXML(d)):!1}static parse(d){return p.XMLFormat.parse(m.settings.ADAPTER.parseXML(d))}}k.XMLStringFormat=e};
shadow$provide[366]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(363);B=l(364);l=l(365);const m=[r.TextFormat,B.XMLFormat,l.XMLStringFormat];k.TextFormat=r.TextFormat;k.XMLFormat=B.XMLFormat;k.XMLStringFormat=l.XMLStringFormat;k.autoDetectFormat=function(p){for(let e=0;e<m.length;e++)if(m[e].test(p))return m[e];return null}};
shadow$provide[367]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(342);k.generateFillStyle=function(p,e,d,a,c,b){var g=d.fill;if(!Array.isArray(g))return g;if(1===g.length)return g[0];var f=d.dropShadow?d.dropShadowDistance:0,h=d.padding||0,n=p.width/a-f-2*h;f=p.height/a-f-2*h;p=g.slice();a=d.fillGradientStops.slice();if(!a.length){var q=p.length+1;for(let t=1;t<q;++t)a.push(t/q)}p.unshift(g[0]);a.unshift(0);p.push(g[g.length-1]);a.push(1);if(d.fillGradientType===m.TEXT_GRADIENT.LINEAR_VERTICAL)for(e=
e.createLinearGradient(n/2,h,n/2,f+h),g=0,d=(b.fontProperties.fontSize+d.strokeThickness)/f,h=0;h<c.length;h++)for(n=b.lineHeight*h,q=0;q<p.length;q++)g=Math.max(g,n/f+("number"===typeof a[q]?a[q]:q/p.length)*d),g=Math.min(g,1),e.addColorStop(g,p[q]);else for(e=e.createLinearGradient(h,f/2,n+h,f/2),c=p.length+1,b=1,f=0;f<p.length;f++)e.addColorStop("number"===typeof a[f]?a[f]:b/c,p[f]),b++;return e}};
shadow$provide[368]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(367);k.drawGlyph=function(e,d,a,c,b,g,f){const h=a.text,n=a.fontProperties;d.translate(c,b);d.scale(g,g);c=f.strokeThickness/2;b=-(f.strokeThickness/2);d.font=f.toFontString();d.lineWidth=f.strokeThickness;d.textBaseline=f.textBaseline;d.lineJoin=f.lineJoin;d.miterLimit=f.miterLimit;d.fillStyle=p.generateFillStyle(e,d,f,g,[h],a);d.strokeStyle=f.stroke;f.dropShadow?(e=f.dropShadowBlur*g,g*=f.dropShadowDistance,
d.shadowColor=m.Color.shared.setValue(f.dropShadowColor).setAlpha(f.dropShadowAlpha).toRgbaString(),d.shadowBlur=e,d.shadowOffsetX=Math.cos(f.dropShadowAngle)*g,d.shadowOffsetY=Math.sin(f.dropShadowAngle)*g):(d.shadowColor="black",d.shadowBlur=0,d.shadowOffsetX=0,d.shadowOffsetY=0);f.stroke&&f.strokeThickness&&d.strokeText(h,c,b+a.lineHeight-n.descent);f.fill&&d.fillText(h,c,b+a.lineHeight-n.descent);d.setTransform(1,0,0,1,0,0);d.fillStyle="rgba(0, 0, 0, 0)"}};
shadow$provide[369]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.extractCharCode=function(m){return m.codePointAt?m.codePointAt(0):m.charCodeAt(0)}};
shadow$provide[370]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k.splitTextToCharacters=function(m){return Array.from?Array.from(m):m.split("")}};
shadow$provide[371]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(370);k.resolveCharacters=function(p){"string"===typeof p&&(p=[p]);const e=[];for(let a=0,c=p.length;a<c;a++){var d=p[a];if(Array.isArray(d)){if(2!==d.length)throw Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${d.length}.`);const b=d[0].charCodeAt(0);d=d[1].charCodeAt(0);if(d<b)throw Error("[BitmapFont]: Invalid character range.");for(let g=b,f=d;g<=f;g++)e.push(String.fromCharCode(g))}else e.push(...m.splitTextToCharacters(d))}if(0===
e.length)throw Error("[BitmapFont]: Empty set when resolving characters.");return e}};
shadow$provide[372]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(368);B=l(369);var m=l(367),p=l(371);l=l(370);k.drawGlyph=r.drawGlyph;k.extractCharCode=B.extractCharCode;k.generateFillStyle=m.generateFillStyle;k.resolveCharacters=p.resolveCharacters;k.splitTextToCharacters=l.splitTextToCharacters};
shadow$provide[373]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195),p=l(342),e=l(362),d=l(366);l(372);var a=l(371),c=l(368),b=l(369);const g=class{constructor(f,h,n){const [q]=f.info,[t]=f.common;var [u]=f.page;const [w]=f.distanceField;u=m.utils.getResolutionOfUrl(u.file);var x={};this._ownsTextures=n;this.font=q.face;this.size=q.size;this.lineHeight=t.lineHeight/u;this.chars={};this.pageTextures=x;for(n=0;n<f.page.length;n++){const {id:y,file:z}=f.page[n];x[y]=h instanceof
Array?h[n]:h[z];w?.fieldType&&"none"!==w.fieldType&&(x[y].baseTexture.alphaMode=m.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,x[y].baseTexture.mipmap=m.MIPMAP_MODES.OFF)}for(h=0;h<f.char.length;h++){const {id:y,page:z}=f.char[h];let {x:C,y:A,width:v,height:F,xoffset:I,yoffset:H,xadvance:M}=f.char[h];C/=u;A/=u;v/=u;F/=u;I/=u;H/=u;M/=u;n=new m.Rectangle(C+x[z].frame.x/u,A+x[z].frame.y/u,v,F);this.chars[y]={xOffset:I,yOffset:H,xAdvance:M,kerning:{},texture:new m.Texture(x[z].baseTexture,n),page:z}}for(x=0;x<
f.kerning.length;x++){let {first:y,second:z,amount:C}=f.kerning[x];y/=u;z/=u;C/=u;this.chars[z]&&(this.chars[z].kerning[y]=C)}this.distanceFieldRange=w?.distanceRange;this.distanceFieldType=w?.fieldType?.toLowerCase()??"none"}destroy(){for(const f in this.chars)this.chars[f].texture.destroy(),this.chars[f].texture=null;for(const f in this.pageTextures)this._ownsTextures&&this.pageTextures[f].destroy(!0),this.pageTextures[f]=null;this.pageTextures=this.chars=null}static install(f,h,n){if(!(f instanceof
e.BitmapFontData)){const q=d.autoDetectFormat(f);if(!q)throw Error("Unrecognized data format for font.");f=q.parse(f)}h instanceof m.Texture&&(h=[h]);h=new g(f,h,n);return g.available[h.font]=h}static uninstall(f){const h=g.available[f];if(!h)throw Error(`No font found named '${f}'`);h.destroy();delete g.available[f]}static from(f,h,n){if(!f)throw Error("[BitmapFont] Property `name` is required.");const {chars:q,padding:t,resolution:u,textureWidth:w,textureHeight:x,...y}=Object.assign({},g.defaultOptions,
n);n=a.resolveCharacters(q);var z=h instanceof p.TextStyle?h:new p.TextStyle(h);h=new e.BitmapFontData;h.info[0]={face:z.fontFamily,size:z.fontSize};h.common[0]={lineHeight:z.fontSize};var C=0,A=0,v=0;const F=[],I=[];for(let L=0;L<n.length;L++){if(!H){var H=m.settings.ADAPTER.createCanvas();H.width=w;H.height=x;var M=H.getContext("2d");var K=new m.BaseTexture(H,{resolution:u,...y});F.push(K);I.push(new m.Texture(K));h.page.push({id:I.length-1,file:""})}var E=n[L];const D=p.TextMetrics.measureText(E,
z,!1,H);K=D.width;const G=Math.ceil(D.height),J=Math.ceil(("italic"===z.fontStyle?2:1)*K);if(A>=x-G*u){if(0===A)throw Error(`[BitmapFont] textureHeight ${x}px is too small (fontFamily: '${z.fontFamily}', fontSize: ${z.fontSize}px, char: '${E}')`);--L;M=H=null;v=C=A=0}else if(v=Math.max(G+D.fontProperties.descent,v),J*u+C>=w){if(0===C)throw Error(`[BitmapFont] textureWidth ${w}px is too small (fontFamily: '${z.fontFamily}', fontSize: ${z.fontSize}px, char: '${E}')`);--L;A+=v*u;A=Math.ceil(A);v=C=0}else c.drawGlyph(H,
M,D,C,A,u,z),E=b.extractCharCode(D.text),h.char.push({id:E,page:I.length-1,x:C/u,y:A/u,width:J,height:G,xoffset:0,yoffset:0,xadvance:K-(z.dropShadow?z.dropShadowDistance:0)-(z.stroke?z.strokeThickness:0)}),C+=(J+2*t)*u,C=Math.ceil(C)}for(let L=0,D=n.length;L<D;L++)for(H=n[L],z=0;z<D;z++)C=n[z],A=M.measureText(H).width,v=M.measureText(C).width,(A=M.measureText(H+C).width-(A+v))&&h.kerning.push({first:b.extractCharCode(H),second:b.extractCharCode(C),amount:A});M=new g(h,I,!0);void 0!==g.available[f]&&
g.uninstall(f);return g.available[f]=M}};r=g;r.ALPHA=[["a","z"],["A","Z"]," "];r.NUMERIC=[["0","9"]];r.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];r.ASCII=[[" ","~"]];r.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:g.ALPHANUMERIC};r.available={};k.BitmapFont=r};
shadow$provide[374]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor \x3d texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median \x3d texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median \x3d min(median, texColor.a);\r\n\r\n  float screenPxDistance \x3d uFWidth * (median - 0.5);\r\n  float alpha \x3d clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median \x3c 0.01) {\r\n    alpha \x3d 0.0;\r\n  } else if (median \x3e 0.99) {\r\n    alpha \x3d 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma \x3d dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma \x3d mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage \x3d pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor \x3d vec4(uColor.rgb, coverage);\r\n}\r\n"};
shadow$provide[375]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});k["default"]="// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position \x3d vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord \x3d (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n"};
shadow$provide[376]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r=l(200);var p=l(324),e=l(373),d=l(374),a=l(375);l(372);var c=l(370),b=l(369);const g=[],f=[],h=[],n=class extends r.Container{constructor(q,t={}){super();const {align:u,tint:w,maxWidth:x,letterSpacing:y,fontName:z,fontSize:C}=Object.assign({},n.styleDefaults,t);if(!e.BitmapFont.available[z])throw Error(`Missing BitmapFont "${z}"`);this._activePagesMeshData=[];this._textHeight=this._textWidth=0;this._align=
u;this._tintColor=new m.Color(w);this._font=void 0;this._fontName=z;this._fontSize=C;this.text=q;this._maxWidth=x;this._maxLineHeight=0;this._letterSpacing=y;this._anchor=new m.ObservablePoint(()=>{this.dirty=!0},this,0,0);this._roundPixels=m.settings.ROUND_PIXELS;this.dirty=!0;this._resolution=m.settings.RESOLUTION;this._autoResolution=!0;this._textureCache={}}updateText(){const q=e.BitmapFont.available[this._fontName];var t=this.fontSize,u=t/q.size,w=new m.Point;const x=[];var y=[],z=[],C=this._text.replace(/(?:\r\n|\r)/g,
"\n")||" ",A=c.splitTextToCharacters(C),v=this._maxWidth*q.size/t,F="none"===q.distanceFieldType?g:f;let I=null;var H=0,M=C=0,K=-1,E=0,L=0,D=t=0;for(var G=0;G<A.length;G++){var J=A[G];const R=b.extractCharCode(J);/(?:\s)/.test(J)&&(K=G,E=H,D++);if("\r"===J||"\n"===J)y.push(H),z.push(-1),C=Math.max(C,H),++M,++L,w.x=0,w.y+=q.lineHeight,I=null,D=0;else if(J=q.chars[R])I&&J.kerning[I]&&(w.x+=J.kerning[I]),H=h.pop()||{texture:m.Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new m.Point},H.texture=
J.texture,H.line=M,H.charCode=R,H.position.x=Math.round(w.x+J.xOffset+this._letterSpacing/2),H.position.y=Math.round(w.y+J.yOffset),H.prevSpaces=D,x.push(H),H=H.position.x+Math.max(J.xAdvance-J.xOffset,J.texture.orig.width),w.x+=J.xAdvance+this._letterSpacing,t=Math.max(t,J.yOffset+J.texture.height),I=R,-1!==K&&0<v&&w.x>v&&(++L,m.utils.removeItems(x,1+K-L,1+G-K),G=K,K=-1,y.push(E),z.push(0<x.length?x[x.length-1].prevSpaces:0),C=Math.max(C,E),M++,w.x=0,w.y+=q.lineHeight,I=null,D=0)}A=A[A.length-1];
"\r"!==A&&"\n"!==A&&(/(?:\s)/.test(A)&&(H=E),y.push(H),C=Math.max(C,H),z.push(-1));A=[];for(E=0;E<=M;E++)v=0,"right"===this._align?v=C-y[E]:"center"===this._align?v=(C-y[E])/2:"justify"===this._align&&(v=0>z[E]?0:(C-y[E])/z[E]),A.push(v);z=x.length;y={};M=[];E=this._activePagesMeshData;F.push(...E);for(v=0;v<z;v++)H=x[v].texture,K=H.baseTexture.uid,y[K]||(L=F.pop(),L||(D=new p.MeshGeometry,"none"===q.distanceFieldType?(G=new p.MeshMaterial(m.Texture.EMPTY),L=m.BLEND_MODES.NORMAL):(G=new p.MeshMaterial(m.Texture.EMPTY,
{program:m.Program.from(a["default"],d["default"]),uniforms:{uFWidth:0}}),L=m.BLEND_MODES.NORMAL_NPM),D=new p.Mesh(D,G),D.blendMode=L,L={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:D,vertices:null,uvs:null,indices:null}),L.index=0,L.indexCount=0,L.vertexCount=0,L.uvsCount=0,L.total=0,{_textureCache:D}=this,D[K]=D[K]||new m.Texture(H.baseTexture),L.mesh.texture=D[K],L.mesh.tint=this._tintColor.value,M.push(L),y[K]=L),y[K].total++;for(F=0;F<E.length;F++)M.includes(E[F])||this.removeChild(E[F].mesh);
for(F=0;F<M.length;F++)M[F].mesh.parent!==this&&this.addChild(M[F].mesh);this._activePagesMeshData=M;for(var N in y){F=y[N];M=F.total;if(!(F.indices?.length>6*M)||F.vertices.length<2*p.Mesh.BATCHABLE_SIZE)F.vertices=new Float32Array(8*M),F.uvs=new Float32Array(8*M),F.indices=new Uint16Array(6*M);else for(v=F.total,E=F.vertices,v*=8;v<E.length;v++)E[v]=0;F.mesh.size=6*M}for(N=0;N<z;N++)E=x[N],F=E.position.x+A[E.line]*("justify"===this._align?E.prevSpaces:1),this._roundPixels&&(F=Math.round(F)),F*=
u,M=E.position.y*u,H=E.texture,E=y[H.baseTexture.uid],v=H.frame,H=H._uvs,K=E.index++,E.indices[6*K]=4*K,E.indices[6*K+1]=1+4*K,E.indices[6*K+2]=2+4*K,E.indices[6*K+3]=4*K,E.indices[6*K+4]=2+4*K,E.indices[6*K+5]=3+4*K,E.vertices[8*K]=F,E.vertices[8*K+1]=M,E.vertices[8*K+2]=F+v.width*u,E.vertices[8*K+3]=M,E.vertices[8*K+4]=F+v.width*u,E.vertices[8*K+5]=M+v.height*u,E.vertices[8*K+6]=F,E.vertices[8*K+7]=M+v.height*u,E.uvs[8*K]=H.x0,E.uvs[8*K+1]=H.y0,E.uvs[8*K+2]=H.x1,E.uvs[8*K+3]=H.y1,E.uvs[8*K+4]=H.x2,
E.uvs[8*K+5]=H.y2,E.uvs[8*K+6]=H.x3,E.uvs[8*K+7]=H.y3;this._textWidth=C*u;this._textHeight=(w.y+q.lineHeight)*u;for(const R in y){w=y[R];if(0!==this.anchor.x||0!==this.anchor.y)for(C=0,N=this._textWidth*this.anchor.x,A=this._textHeight*this.anchor.y,F=0;F<w.total;F++)w.vertices[C++]-=N,w.vertices[C++]-=A,w.vertices[C++]-=N,w.vertices[C++]-=A,w.vertices[C++]-=N,w.vertices[C++]-=A,w.vertices[C++]-=N,w.vertices[C++]-=A;this._maxLineHeight=t*u;C=w.mesh.geometry.getBuffer("aVertexPosition");N=w.mesh.geometry.getBuffer("aTextureCoord");
A=w.mesh.geometry.getIndex();C.data=w.vertices;N.data=w.uvs;A.data=w.indices;C.update();N.update();A.update()}for(u=0;u<x.length;u++)h.push(x[u]);this._font=q;this.dirty=!1}updateTransform(){this.validate();this.containerUpdateTransform()}_render(q){this._autoResolution&&this._resolution!==q.resolution&&(this._resolution=q.resolution,this.dirty=!0);const {distanceFieldRange:t,distanceFieldType:u,size:w}=e.BitmapFont.available[this._fontName];if("none"!==u){const {a:x,b:y,c:z,d:C}=this.worldTransform,
A=(Math.abs(Math.sqrt(x*x+y*y))+Math.abs(Math.sqrt(z*z+C*C)))/2,v=this.fontSize/w,F=q._view.resolution;for(const I of this._activePagesMeshData)I.mesh.shader.uniforms.uFWidth=A*t*v*F}super._render(q)}getLocalBounds(){this.validate();return super.getLocalBounds()}validate(){const q=e.BitmapFont.available[this._fontName];if(!q)throw Error(`Missing BitmapFont "${this._fontName}"`);this._font!==q&&(this.dirty=!0);this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(q){if(this.tint!==
q){this._tintColor.setValue(q);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=q}}get align(){return this._align}set align(q){this._align!==q&&(this._align=q,this.dirty=!0)}get fontName(){return this._fontName}set fontName(q){if(!e.BitmapFont.available[q])throw Error(`Missing BitmapFont "${q}"`);this._fontName!==q&&(this._fontName=q,this.dirty=!0)}get fontSize(){return this._fontSize??e.BitmapFont.available[this._fontName].size}set fontSize(q){this._fontSize!==
q&&(this._fontSize=q,this.dirty=!0)}get anchor(){return this._anchor}set anchor(q){"number"===typeof q?this._anchor.set(q):this._anchor.copyFrom(q)}get text(){return this._text}set text(q){q=String(null===q||void 0===q?"":q);this._text!==q&&(this._text=q,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(q){this._maxWidth!==q&&(this._maxWidth=q,this.dirty=!0)}get maxLineHeight(){this.validate();return this._maxLineHeight}get textWidth(){this.validate();return this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(q){this._letterSpacing!==
q&&(this._letterSpacing=q,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(q){q!==this._roundPixels&&(this._roundPixels=q,this.dirty=!0)}get textHeight(){this.validate();return this._textHeight}get resolution(){return this._resolution}set resolution(q){this._autoResolution=!1;this._resolution!==q&&(this._resolution=q,this.dirty=!0)}destroy(q){const {_textureCache:t}=this,u="none"===e.BitmapFont.available[this._fontName].distanceFieldType?g:f;u.push(...this._activePagesMeshData);
for(const w of this._activePagesMeshData)this.removeChild(w.mesh);this._activePagesMeshData=[];u.filter(w=>t[w.mesh.texture.baseTexture.uid]).forEach(w=>{w.mesh.texture=m.Texture.EMPTY});for(const w in t)t[w].destroy(),delete t[w];this._textureCache=this._tintColor=this._font=null;super.destroy(q)}};l=n;l.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};k.BitmapText=l};
shadow$provide[377]=function(r,l,B,k){};
shadow$provide[378]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(284),p=l(195),e=l(373);l(366);var d=l(363),a=l(365);const c=[".xml",".fnt"];r={extension:{type:p.ExtensionType.LoadParser,priority:m.LoaderParserPriority.Normal},name:"loadBitmapFont",test(b){return c.includes(p.utils.path.extname(b).toLowerCase())},async testParse(b){return d.TextFormat.test(b)||a.XMLStringFormat.test(b)},async parse(b,g,f){b=d.TextFormat.test(b)?d.TextFormat.parse(b):a.XMLStringFormat.parse(b);
({src:g}=g);const {page:h}=b,n=[];for(let u=0;u<h.length;++u){var q=h[u].file;q=p.utils.path.join(p.utils.path.dirname(g),q);q=m.copySearchParams(q,g);n.push(q)}const t=await f.load(n);f=n.map(u=>t[u]);return e.BitmapFont.install(b,f,!0)},async load(b,g){return(await p.settings.ADAPTER.fetch(b)).text()},unload(b){b.destroy()}};p.extensions.add(r);k.loadBitmapFont=r};
shadow$provide[379]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(373);B=l(362);var m=l(376);l(377);var p=l(366),e=l(378),d=l(363),a=l(364);l=l(365);k.BitmapFont=r.BitmapFont;k.BitmapFontData=B.BitmapFontData;k.BitmapText=m.BitmapText;k.autoDetectFormat=p.autoDetectFormat;k.loadBitmapFont=e.loadBitmapFont;k.TextFormat=d.TextFormat;k.XMLFormat=a.XMLFormat;k.XMLStringFormat=l.XMLStringFormat};
shadow$provide[380]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r=l(342);const p=class extends r.TextStyle{constructor(){super(...arguments);this._fonts=[];this._overrides=[];this._stylesheet="";this.fontsDirty=!1}static from(e){return new p(Object.keys(p.defaultOptions).reduce((d,a)=>({...d,[a]:e[a]}),{}))}cleanFonts(){0<this._fonts.length&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src);e.refs--;0===e.refs&&(e.fontFace&&document.fonts.delete(e.fontFace),delete p.availableFonts[e.originalUrl])}),
this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,d={}){const {availableFonts:a}=p;if(a[e]){const c=a[e];this._fonts.push(c);c.refs++;this.styleID++;this.fontsDirty=!0;return Promise.resolve()}return m.settings.ADAPTER.fetch(e).then(c=>c.blob()).then(async c=>new Promise((b,g)=>{const f=URL.createObjectURL(c),h=new FileReader;h.onload=()=>b([f,h.result]);h.onerror=g;h.readAsDataURL(c)})).then(async([c,b])=>{c=Object.assign({family:m.utils.path.basename(e,m.utils.path.extname(e)),
weight:"normal",style:"normal",src:c,dataSrc:b,refs:1,originalUrl:e,fontFace:null},d);a[e]=c;this._fonts.push(c);this.styleID++;b=new FontFace(c.family,`url(${c.src})`,{weight:c.weight,style:c.style});c.fontFace=b;await b.load();document.fonts.add(b);await document.fonts.ready;this.styleID++;this.fontsDirty=!0})}addOverride(...e){e=e.filter(d=>!this._overrides.includes(d));0<e.length&&(this._overrides.push(...e),this.styleID++)}removeOverride(...e){const d=e.filter(a=>this._overrides.includes(a));
0<d.length&&(this._overrides=this._overrides.filter(a=>!d.includes(a)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left;display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,
...(this.lineHeight?[`line-height: ${this.lineHeight}px`]:[]),...(this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[]),...(this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[]),...(this.dropShadow?[this.dropShadowToCSS()]:
[]),...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,d)=>`${e}
            @font-face {
                font-family: "${d.family}";
                src: url('${d.dataSrc}');
                font-weight: ${d.weight};
                font-style: ${d.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){Array.isArray(e)&&(e=m.utils.rgb2hex(e));return"number"===typeof e?m.utils.hex2string(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);var d=this.dropShadowAlpha;const a=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),c=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&
1>d&&(e+=(255*d|0).toString(16).padStart(2,"0"));d=`${a}px ${c}px`;return 0<this.dropShadowBlur?`text-shadow: ${d} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${d} ${e}`}reset(){Object.assign(this,p.defaultOptions)}onBeforeDraw(){const {fontsDirty:e}=this;this.fontsDirty=!1;return this.isSafari&&0<this._fonts.length&&e?new Promise(d=>setTimeout(d,100)):Promise.resolve()}get isSafari(){const {userAgent:e}=m.settings.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};
r=p;r.availableFonts={};r.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};k.HTMLTextStyle=r};
shadow$provide[381]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});var m=l(195);r=l(202);var p=l(342),e=l(380);const d=class extends r.Sprite{constructor(a="",c={}){super(m.Texture.EMPTY);this._style=this._text=null;this._autoResolution=!0;this._loading=!1;this.localStyleID=-1;this.ownsStyle=this.dirty=!1;const b=new Image;var g=m.Texture.from(b,{scaleMode:m.settings.SCALE_MODE,resourceOptions:{autoLoad:!1}});g.orig=new m.Rectangle;g.trim=new m.Rectangle;this.texture=g;g=document.createElementNS("http://www.w3.org/2000/svg",
"svg");const f=document.createElementNS("http://www.w3.org/2000/svg","foreignObject"),h=document.createElementNS("http://www.w3.org/1999/xhtml","div"),n=document.createElementNS("http://www.w3.org/1999/xhtml","style");f.setAttribute("width","10000");f.setAttribute("height","10000");f.style.overflow="hidden";g.appendChild(f);this.maxWidth=d.defaultMaxWidth;this.maxHeight=d.defaultMaxHeight;this._domElement=h;this._styleElement=n;this._svgRoot=g;this._foreignObject=f;this._foreignObject.appendChild(n);
this._foreignObject.appendChild(h);this._image=b;this._loadImage=new Image;this._autoResolution=d.defaultAutoResolution;this._resolution=d.defaultResolution??m.settings.RESOLUTION;this.text=a;this.style=c}measureText(a){const {text:c,style:b,resolution:g}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},a);Object.assign(this._domElement,{innerHTML:c,style:b.toCSS(g)});this._styleElement.textContent=b.toGlobalCSS();document.body.appendChild(this._svgRoot);var f=this._domElement.getBoundingClientRect();
this._svgRoot.remove();a=Math.min(this.maxWidth,Math.ceil(f.width));f=Math.min(this.maxHeight,Math.ceil(f.height));this._svgRoot.setAttribute("width",a.toString());this._svgRoot.setAttribute("height",f.toString());c!==this._text&&(this._domElement.innerHTML=this._text);b!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(g)}),this._styleElement.textContent=this._style?.toGlobalCSS());return{width:a+2*b.padding,height:f+2*b.padding}}async updateText(a=!0){const {style:c,_image:b,
_loadImage:g}=this;this.localStyleID!==c.styleID&&(this.dirty=!0,this.localStyleID=c.styleID);if(this.dirty||!a){var {width:f,height:h}=this.measureText();b.width=g.width=Math.ceil(Math.max(1,f));b.height=g.height=Math.ceil(Math.max(1,h));this._loading||(this._loading=!0,await new Promise(n=>{g.onload=async()=>{await c.onBeforeDraw();this._loading=!1;b.src=g.src;g.onload=null;g.src="";this.updateTexture();n()};const q=(new XMLSerializer).serializeToString(this._svgRoot);g.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(q)}`}))}}get source(){return this._image}updateTexture(){const {style:a,
texture:c,_image:b,resolution:g}=this,{padding:f}=a,{baseTexture:h}=c;c.trim.width=c._frame.width=b.width/g;c.trim.height=c._frame.height=b.height/g;c.trim.x=-f;c.trim.y=-f;c.orig.width=c._frame.width-2*f;c.orig.height=c._frame.height-2*f;this._onTextureUpdate();h.setRealSize(b.width,b.height,g);this.dirty=!1}_render(a){this._autoResolution&&this._resolution!==a.resolution&&(this._resolution=a.resolution,this.dirty=!0);this.updateText(!0);super._render(a)}_renderCanvas(a){this._autoResolution&&this._resolution!==
a.resolution&&(this._resolution=a.resolution,this.dirty=!0);this.updateText(!0);super._renderCanvas(a)}getLocalBounds(a){this.updateText(!0);return super.getLocalBounds(a)}_calculateBounds(){this.updateText(!0);this.calculateVertices();this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(a){"boolean"===typeof a&&(a={children:a});a=Object.assign({},d.defaultDestroyOptions,a);super.destroy(a);this.ownsStyle&&this._style?.cleanFonts();this._style=null;this._svgRoot?.remove();
this._svgRoot=null;this._domElement?.remove();this._domElement=null;this._foreignObject?.remove();this._foreignObject=null;this._styleElement?.remove();this._styleElement=null;this._loadImage.src="";this._loadImage=this._loadImage.onload=null;this._image.src="";this._image=null}get width(){this.updateText(!0);return Math.abs(this.scale.x)*this._image.width/this.resolution}set width(a){this.updateText(!0);const c=m.utils.sign(this.scale.x)||1;this.scale.x=c*a/this._image.width/this.resolution;this._width=
a}get height(){this.updateText(!0);return Math.abs(this.scale.y)*this._image.height/this.resolution}set height(a){this.updateText(!0);const c=m.utils.sign(this.scale.y)||1;this.scale.y=c*a/this._image.height/this.resolution;this._height=a}get style(){return this._style}set style(a){this._style!==a&&(a=a||{},a instanceof e.HTMLTextStyle?(this.ownsStyle=!1,this._style=a):a instanceof p.TextStyle?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=
!0,this._style=e.HTMLTextStyle.from(a)):(this.ownsStyle=!0,this._style=new e.HTMLTextStyle(a)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(a){a=String(""===a||null===a||void 0===a?" ":a);a=this.sanitiseText(a);this._text!==a&&(this._text=a,this.dirty=!0)}get resolution(){return this._resolution}set resolution(a){this._autoResolution=!1;this._resolution!==a&&(this._resolution=a,this.dirty=!0)}sanitiseText(a){return a.replace(/<br>/gi,"\x3cbr/\x3e").replace(/<hr>/gi,"\x3chr/\x3e").replace(/&nbsp;/gi,
"\x26#160;")}};l=d;l.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0};l.defaultMaxWidth=2024;l.defaultMaxHeight=2024;l.defaultAutoResolution=!0;k.HTMLText=l};
shadow$provide[382]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});r=l(381);l=l(380);k.HTMLText=r.HTMLText;k.HTMLTextStyle=l.HTMLTextStyle};
shadow$provide[383]=function(r,l,B,k){Object.defineProperty(k,"__esModule",{value:!0});l(203);l(204);l(205);r=l(228);var m=l(241),p=l(244),e=l(284),d=l(298),a=l(195),c=l(200),b=l(238),g=l(300),f=l(208),h=l(213),n=l(216),q=l(220),t=l(224),u=l(227),w=l(317),x=l(324),y=l(331),z=l(337),C=l(348),A=l(202),v=l(350),F=l(358),I=l(361),H=l(342),M=l(379),K=l(382);k.filters=r.filters;Object.keys(m).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return m[E]}})});
Object.keys(p).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return p[E]}})});Object.keys(e).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return e[E]}})});Object.keys(d).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return d[E]}})});Object.keys(a).forEach(function(E){"default"===E||k.hasOwnProperty(E)||
Object.defineProperty(k,E,{enumerable:!0,get:function(){return a[E]}})});Object.keys(c).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return c[E]}})});Object.keys(b).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return b[E]}})});Object.keys(g).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return g[E]}})});
Object.keys(f).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return f[E]}})});Object.keys(h).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return h[E]}})});Object.keys(n).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return n[E]}})});Object.keys(q).forEach(function(E){"default"===E||k.hasOwnProperty(E)||
Object.defineProperty(k,E,{enumerable:!0,get:function(){return q[E]}})});Object.keys(t).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return t[E]}})});Object.keys(u).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return u[E]}})});Object.keys(w).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return w[E]}})});
Object.keys(x).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return x[E]}})});Object.keys(y).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return y[E]}})});Object.keys(z).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return z[E]}})});Object.keys(C).forEach(function(E){"default"===E||k.hasOwnProperty(E)||
Object.defineProperty(k,E,{enumerable:!0,get:function(){return C[E]}})});Object.keys(A).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return A[E]}})});Object.keys(v).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return v[E]}})});Object.keys(F).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return F[E]}})});
Object.keys(I).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return I[E]}})});Object.keys(H).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return H[E]}})});Object.keys(M).forEach(function(E){"default"===E||k.hasOwnProperty(E)||Object.defineProperty(k,E,{enumerable:!0,get:function(){return M[E]}})});Object.keys(K).forEach(function(E){"default"===E||k.hasOwnProperty(E)||
Object.defineProperty(k,E,{enumerable:!0,get:function(){return K[E]}})})};
'use strict';var g;/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var aa=this||self;function r(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}var ba="closure_uid_"+(1E9*Math.random()>>>0),ca=0;function da(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b};function fa(a,b){null!=a&&this.append.apply(this,arguments)}g=fa.prototype;g.Ia="";g.set=function(a){this.Ia=""+a};g.append=function(a,b,c){this.Ia+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.Ia+=arguments[d];return this};g.clear=function(){this.Ia=""};g.toString=function(){return this.Ia};var u={},ha=null,ia=!0,ja=null;function ka(){return new la(null,5,[na,!0,oa,!0,pa,!1,qa,!1,ra,null],null)}function sa(){ia=!1;ha=function(){var a=arguments,b=console.log,c=b.apply,d=console;{const e=a.length;if(0<e){const f=Array(e);for(let h=0;h<e;h++)f[h]=a[h];a=f}else a=[]}return c.call(b,d,a)}}function v(a){return null!=a&&!1!==a}function ta(a){return a instanceof Array}function ua(a){return null==a?!0:!1===a?!0:!1}function w(a,b){return a[r(null==b?null:b)]?!0:a._?!0:!1}
function x(a,b){var c=null==b?null:b.constructor;c=v(v(c)?c.Sb:c)?c.ub:r(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function va(a){var b=a.ub;return v(b)?b:z.j(a)}var wa="undefined"!==typeof Symbol&&"function"===r(Symbol)?Symbol.iterator:"@@iterator";function B(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function xa(a){return"symbol"===r(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function ya(){}
function za(a){if(null!=a&&null!=a.da)a=a.da(a);else{var b=za[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=za._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("ICounted.-count",a);}return a}function Aa(){}function Ba(a){if(null!=a&&null!=a.ea)a=a.ea(a);else{var b=Ba[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ba._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("IEmptyableCollection.-empty",a);}return a}function Ca(){}
function Da(a,b){if(null!=a&&null!=a.ca)a=a.ca(a,b);else{var c=Da[r(null==a?null:a)];if(null!=c)a=c.u?c.u(a,b):c.call(null,a,b);else if(c=Da._,null!=c)a=c.u?c.u(a,b):c.call(null,a,b);else throw x("ICollection.-conj",a);}return a}function Ea(){}
var Fa=function(){function a(d,e,f){var h=D[r(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=D._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw x("IIndexed.-nth",d);}function b(d,e){var f=D[r(null==d?null:d)];if(null!=f)return f.u?f.u(d,e):f.call(null,d,e);f=D._;if(null!=f)return f.u?f.u(d,e):f.call(null,d,e);throw x("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.u=b;c.C=a;return c}(),D=function D(a){switch(arguments.length){case 2:return D.u(arguments[0],arguments[1]);case 3:return D.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};D.u=function(a,b){return null!=a&&null!=a.$?a.$(a,b):Fa(a,b)};D.C=function(a,b,c){return null!=a&&null!=a.sa?a.sa(a,b,c):Fa(a,b,c)};D.ba=3;function Ga(){}
function E(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=E[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=E._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("ISeq.-first",a);}return a}function F(a){if(null!=a&&null!=a.na)a=a.na(a);else{var b=F[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=F._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("ISeq.-rest",a);}return a}function Ha(){}function Ia(){}
var Ka=function(){function a(d,e,f){var h=Ja[r(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=Ja._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw x("ILookup.-lookup",d);}function b(d,e){var f=Ja[r(null==d?null:d)];if(null!=f)return f.u?f.u(d,e):f.call(null,d,e);f=Ja._;if(null!=f)return f.u?f.u(d,e):f.call(null,d,e);throw x("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.u=b;c.C=a;return c}(),Ja=function Ja(a){switch(arguments.length){case 2:return Ja.u(arguments[0],arguments[1]);case 3:return Ja.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};Ja.u=function(a,b){return null!=a&&null!=a.ra?a.ra(a,b):Ka(a,b)};Ja.C=function(a,b,c){return null!=a&&null!=a.R?a.R(a,b,c):Ka(a,b,c)};Ja.ba=3;function La(){}
function Ma(a,b){if(null!=a&&null!=a.ab)a=a.ab(a,b);else{var c=Ma[r(null==a?null:a)];if(null!=c)a=c.u?c.u(a,b):c.call(null,a,b);else if(c=Ma._,null!=c)a=c.u?c.u(a,b):c.call(null,a,b);else throw x("IAssociative.-contains-key?",a);}return a}function Na(a,b,c){if(null!=a&&null!=a.Ea)a=a.Ea(a,b,c);else{var d=Na[r(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Na._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw x("IAssociative.-assoc",a);}return a}function Oa(){}
function Pa(a){if(null!=a&&null!=a.Lb)a=a.key;else{var b=Pa[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Pa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("IMapEntry.-key",a);}return a}function Qa(a){if(null!=a&&null!=a.Mb)a=a.P;else{var b=Qa[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Qa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("IMapEntry.-val",a);}return a}function Ra(){}
function Sa(a){if(null!=a&&null!=a.Fb)a=a.P;else{var b=Sa[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Sa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("IDeref.-deref",a);}return a}function Ta(){}function Ua(a){if(null!=a&&null!=a.Y)a=a.Y(a);else{var b=Ua[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ua._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("IMeta.-meta",a);}return a}
function Va(a,b){if(null!=a&&null!=a.Z)a=a.Z(a,b);else{var c=Va[r(null==a?null:a)];if(null!=c)a=c.u?c.u(a,b):c.call(null,a,b);else if(c=Va._,null!=c)a=c.u?c.u(a,b):c.call(null,a,b);else throw x("IWithMeta.-with-meta",a);}return a}function Wa(){}
var Ya=function(){function a(d,e,f){var h=Xa[r(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=Xa._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw x("IReduce.-reduce",d);}function b(d,e){var f=Xa[r(null==d?null:d)];if(null!=f)return f.u?f.u(d,e):f.call(null,d,e);f=Xa._;if(null!=f)return f.u?f.u(d,e):f.call(null,d,e);throw x("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.u=b;c.C=a;return c}(),Xa=function Xa(a){switch(arguments.length){case 2:return Xa.u(arguments[0],arguments[1]);case 3:return Xa.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};Xa.u=function(a,b){return null!=a&&null!=a.ha?a.ha(a,b):Ya(a,b)};Xa.C=function(a,b,c){return null!=a&&null!=a.ia?a.ia(a,b,c):Ya(a,b,c)};Xa.ba=3;function Za(){}
function $a(a,b){if(null!=a&&null!=a.ob)a=a.ob(a,b,!0);else{var c=$a[r(null==a?null:a)];if(null!=c)a=c.C?c.C(a,b,!0):c.call(null,a,b,!0);else if(c=$a._,null!=c)a=c.C?c.C(a,b,!0):c.call(null,a,b,!0);else throw x("IKVReduce.-kv-reduce",a);}return a}function ab(a,b){if(null!=a&&null!=a.U)a=a.U(a,b);else{var c=ab[r(null==a?null:a)];if(null!=c)a=c.u?c.u(a,b):c.call(null,a,b);else if(c=ab._,null!=c)a=c.u?c.u(a,b):c.call(null,a,b);else throw x("IEquiv.-equiv",a);}return a}
function bb(a){if(null!=a&&null!=a.X)a=a.X(a);else{var b=bb[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=bb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("IHash.-hash",a);}return a}function cb(){}function db(a){if(null!=a&&null!=a.T)a=a.T(a);else{var b=db[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=db._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("ISeqable.-seq",a);}return a}function eb(){}function fb(){}function gb(){}
function H(a,b){if(null!=a&&null!=a.Ab)a=a.Ab(a,b);else{var c=H[r(null==a?null:a)];if(null!=c)a=c.u?c.u(a,b):c.call(null,a,b);else if(c=H._,null!=c)a=c.u?c.u(a,b):c.call(null,a,b);else throw x("IWriter.-write",a);}return a}function hb(){}function ib(a,b,c){if(null!=a&&null!=a.V)a=a.V(a,b,c);else{var d=ib[r(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=ib._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw x("IPrintWithWriter.-pr-writer",a);}return a}
function jb(a){if(null!=a&&null!=a.gb)a=a.gb(a);else{var b=jb[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("IEditableCollection.-as-transient",a);}return a}function kb(a,b){if(null!=a&&null!=a.ib)a=a.ib(a,b);else{var c=kb[r(null==a?null:a)];if(null!=c)a=c.u?c.u(a,b):c.call(null,a,b);else if(c=kb._,null!=c)a=c.u?c.u(a,b):c.call(null,a,b);else throw x("ITransientCollection.-conj!",a);}return a}
function lb(a){if(null!=a&&null!=a.pb)a=a.pb(a);else{var b=lb[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=lb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("ITransientCollection.-persistent!",a);}return a}function mb(a,b,c){if(null!=a&&null!=a.eb)a=a.eb(a,b,c);else{var d=mb[r(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=mb._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw x("ITransientAssociative.-assoc!",a);}return a}
function nb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=nb[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=nb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("IChunk.-drop-first",a);}return a}function ob(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=ob[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("IChunkedSeq.-chunked-first",a);}return a}
function pb(a){if(null!=a&&null!=a.nb)a=a.nb(a);else{var b=pb[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=pb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("IChunkedSeq.-chunked-rest",a);}return a}function qb(){}function rb(a){if(null!=a&&null!=a.za)a=a.za(a);else{var b=rb[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=rb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("IIterable.-iterator",a);}return a}
function sb(a){this.Ub=a;this.B=1073741824;this.I=0}sb.prototype.Ab=function(a,b){return this.Ub.append(b)};function tb(a){var b=new fa;a.V(null,new sb(b),ka());return z.j(b)}var ub="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function vb(a){a=ub(a|0,-862048943);return ub(a<<15|a>>>-15,461845907)}
function wb(a,b){a=(a|0)^(b|0);return ub(a<<13|a>>>-13,5)+-430675100|0}function xb(a,b){a=(a|0)^b;a=ub(a^a>>>16,-2048144789);a=ub(a^a>>>13,-1028477387);return a^a>>>16}function yb(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=wb(c,vb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return xb(1===(a.length&1)?b^vb(a.charCodeAt(a.length-1)):b,ub(2,a.length))}var zb={},Ab=0;
function Bb(a){255<Ab&&(zb={},Ab=0);if(null==a)return 0;var b=zb[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=ub(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;zb[a]=b;Ab+=1;a=b}return a}
function Cb(a){if(null!=a&&(a.B&4194304||u===a.Yb))return a.X(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Bb(a),a=0===a?a:xb(wb(0,vb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:bb(a)^0,a}function Db(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function Eb(a,b,c,d,e){this.mb=a;this.name=b;this.Ha=c;this.$a=d;this.ya=e;this.B=2154168321;this.I=4096}g=Eb.prototype;g.toString=function(){return this.Ha};g.U=function(a,b){return b instanceof Eb?this.Ha===b.Ha:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.u(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};
g.j=function(a){return Fb.u?Fb.u(a,this):Fb.call(null,a,this)};g.u=function(a,b){return Fb.C?Fb.C(a,this,b):Fb.call(null,a,this,b)};g.Y=function(){return this.ya};g.Z=function(a,b){return new Eb(this.mb,this.name,this.Ha,this.$a,b)};g.X=function(){var a=this.$a;return null!=a?a:this.$a=a=Db(yb(this.name),Bb(this.mb))};g.V=function(a,b){return H(b,this.Ha)};
var Gb=function Gb(a){switch(arguments.length){case 1:return Gb.j(arguments[0]);case 2:return Gb.u(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};Gb.j=function(a){for(;;){if(a instanceof Eb)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Gb.u(null,a):Gb.u(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.Ca;else throw Error("no conversion to symbol");}};
Gb.u=function(a,b){var c=null!=a?[z.j(a),"/",z.j(b)].join(""):b;return new Eb(a,b,c,null,null)};Gb.ba=2;function Hb(a){return null!=a?a.I&131072||u===a.Zb?!0:a.I?!1:w(qb,a):w(qb,a)}
function J(a){if(null==a)return null;if(null!=a&&(a.B&8388608||u===a.Qb))return a.T(null);if(ta(a)||"string"===typeof a)return 0===a.length?null:new M(a,0,null);if(null!=a&&null!=a[wa])return a=(null!==a&&wa in a?a[wa]:void 0).call(a),Ib.j?Ib.j(a):Ib.call(null,a);if(w(cb,a))return db(a);throw Error([z.j(a)," is not ISeqable"].join(""));}function N(a){if(null==a)return null;if(null!=a&&(a.B&64||u===a.bb))return a.ja(null);a=J(a);return null==a?null:E(a)}
function Jb(a){return null!=a?null!=a&&(a.B&64||u===a.bb)?a.na(null):(a=J(a))?a.na(null):O:O}function P(a){return null==a?null:null!=a&&(a.B&128||u===a.hb)?a.fa():J(Jb(a))}var R=function R(a){switch(arguments.length){case 1:return R.j(arguments[0]);case 2:return R.u(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return R.O(arguments[0],arguments[1],new M(c.slice(2),0,null))}};R.j=function(){return!0};
R.u=function(a,b){return null==a?null==b:a===b||ab(a,b)};R.O=function(a,b,c){for(;;)if(R.u(a,b))if(P(c))a=b,b=N(c),c=P(c);else return R.u(b,N(c));else return!1};R.aa=function(a){var b=N(a),c=P(a);a=N(c);c=P(c);return this.O(b,a,c)};R.ba=2;function Kb(a){this.s=a}Kb.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=P(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Lb(a){return new Kb(J(a))}
function Mb(a,b){this.value=a;this.Bb=b;this.qb=null;this.B=8388672;this.I=0}Mb.prototype.T=function(){return this};Mb.prototype.ja=function(){return this.value};Mb.prototype.na=function(){null==this.qb&&(this.qb=Ib.j?Ib.j(this.Bb):Ib.call(null,this.Bb));return this.qb};function Ib(a){var b=a.next();return v(b.done)?null:new Mb(b.value,a)}function Nb(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=ub(31,c)+Cb(N(a))|0,a=P(a);else return xb(wb(0,vb(c)),b)}var Ob=xb(wb(0,vb(1)),0);
function Pb(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+Cb(N(a))|0,a=P(a);else return xb(wb(0,vb(c)),b)}var Qb=xb(wb(0,vb(0)),0);ya["null"]=!0;za["null"]=function(){return 0};Date.prototype.U=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};ab.number=function(a,b){return a===b};Ta["function"]=!0;Ua["function"]=function(){return null};bb._=function(a){return Object.prototype.hasOwnProperty.call(a,ba)&&a[ba]||(a[ba]=++ca)};function Rb(){this.P=!1;this.B=32768;this.I=0}
Rb.prototype.Fb=function(){return this.P};function Sb(a){return a instanceof Rb}function Tb(a){return Sa(a)}function Ub(a,b){var c=a.length;if(0===a.length)return b.M?b.M():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.u?b.u(d,f):b.call(null,d,f);if(Sb(d))return Sa(d);e+=1}else return d}function Vb(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.u?b.u(e,f):b.call(null,e,f);if(Sb(e))return Sa(e);c+=1}else return e}
function Wb(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.u?b.u(c,f):b.call(null,c,f);if(Sb(c))return Sa(c);d+=1}else return c}function Xb(a){return null!=a?a.B&2||u===a.Eb?!0:a.B?!1:w(ya,a):w(ya,a)}function Yb(a){return null!=a?a.B&16||u===a.yb?!0:a.B?!1:w(Ea,a):w(Ea,a)}function S(a,b,c){var d=T.j?T.j(a):T.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(R.u(Zb?Zb(a,c):$b.call(null,a,c),b))return c;c+=1}else return-1}
function U(a,b,c){var d=T.j?T.j(a):T.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(R.u(Zb?Zb(a,c):$b.call(null,a,c),b))return c;--c}else return-1}function ac(a,b){this.A=a;this.i=b}ac.prototype.pa=function(){return this.i<this.A.length};ac.prototype.next=function(){var a=this.A[this.i];this.i+=1;return a};function M(a,b,c){this.A=a;this.i=b;this.G=c;this.B=166592766;this.I=139264}g=M.prototype;g.toString=function(){return tb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return S(this,b,0);case 2:return S(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return S(this,b,0)};a.u=function(b,c){return S(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return U(this,c,T.j?T.j(this):T.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return U(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.u=function(c,d){return U(this,c,d)};return b}();g.$=function(a,b){a=b+this.i;if(0<=a&&a<this.A.length)return this.A[a];throw Error("Index out of bounds");};g.sa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.A.length?this.A[a]:c};
g.za=function(){return new ac(this.A,this.i)};g.Y=function(){return this.G};g.fa=function(){return this.i+1<this.A.length?new M(this.A,this.i+1,null):null};g.da=function(){var a=this.A.length-this.i;return 0>a?0:a};g.X=function(){return Nb(this)};g.U=function(a,b){return bc.u?bc.u(this,b):bc.call(null,this,b)};g.ea=function(){return O};g.ha=function(a,b){return Wb(this.A,b,this.A[this.i],this.i+1)};g.ia=function(a,b,c){return Wb(this.A,b,c,this.i)};g.ja=function(){return this.A[this.i]};
g.na=function(){return this.i+1<this.A.length?new M(this.A,this.i+1,null):O};g.T=function(){return this.i<this.A.length?this:null};g.Z=function(a,b){return b===this.G?this:new M(this.A,this.i,b)};g.ca=function(a,b){return V.u?V.u(b,this):V.call(null,b,this)};M.prototype[wa]=function(){return Lb(this)};function cc(a){return 0<a.length?new M(a,0,null):null}ab._=function(a,b){return a===b};
var dc=function dc(a){switch(arguments.length){case 0:return dc.M();case 1:return dc.j(arguments[0]);case 2:return dc.u(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return dc.O(arguments[0],arguments[1],new M(c.slice(2),0,null))}};dc.M=function(){return ec};dc.j=function(a){return a};dc.u=function(a,b){return null!=a?Da(a,b):new fc(null,b,null,1,null)};
dc.O=function(a,b,c){for(;;)if(v(c))a=dc.u(a,b),b=N(c),c=P(c);else return dc.u(a,b)};dc.aa=function(a){var b=N(a),c=P(a);a=N(c);c=P(c);return this.O(b,a,c)};dc.ba=2;function T(a){if(null!=a)if(null!=a&&(a.B&2||u===a.Eb))a=a.da(null);else if(ta(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.B&8388608||u===a.Qb))a:{a=J(a);for(var b=0;;){if(Xb(a)){a=b+za(a);break a}a=P(a);b+=1}}else a=za(a);else a=0;return a}
function gc(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?N(a):c;if(Yb(a))return D(a,b,c);if(J(a))a=P(a),--b;else return c}}function $b(a){switch(arguments.length){case 2:return Zb(arguments[0],arguments[1]);case 3:return W(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}
function Zb(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.B&16||u===a.yb))return a.$(null,b);if(ta(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.B&64||u===a.bb)||null!=a&&(a.B&16777216||u===a.zb)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=N(a);break a}throw Error("Index out of bounds");}if(Yb(a)){a=D(a,b);break a}if(J(a))a=P(a),--b;else throw Error("Index out of bounds");}return a}if(w(Ea,a))return D(a,b);throw Error(["nth not supported on this type ",z.j(va(null==a?null:a.constructor))].join(""));}
function W(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.B&16||u===a.yb))return a.sa(null,b,c);if(ta(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.B&64||u===a.bb)||null!=a&&(a.B&16777216||u===a.zb))return 0>b?c:gc(a,b,c);if(w(Ea,a))return D(a,b,c);throw Error(["nth not supported on this type ",z.j(va(null==a?null:a.constructor))].join(""));}
var Fb=function Fb(a){switch(arguments.length){case 2:return Fb.u(arguments[0],arguments[1]);case 3:return Fb.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};Fb.u=function(a,b){return null==a?null:null!=a&&(a.B&256||u===a.Kb)?a.ra(null,b):ta(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:w(Ia,a)?Ja(a,b):null};
Fb.C=function(a,b,c){return null!=a?null!=a&&(a.B&256||u===a.Kb)?a.R(null,b,c):ta(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:w(Ia,a)?Ja(a,b,c):c:c};Fb.ba=3;var hc=function hc(a){switch(arguments.length){case 3:return hc.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return hc.O(arguments[0],arguments[1],arguments[2],new M(c.slice(3),0,null))}};
hc.C=function(a,b,c){return null!=a&&(a.B&512||u===a.Db)?a.Ea(null,b,c):null!=a?Na(a,b,c):ic([b,c])};hc.O=function(a,b,c,d){for(;;)if(a=hc.C(a,b,c),v(d))b=N(d),c=N(P(d)),d=P(P(d));else return a};hc.aa=function(a){var b=N(a),c=P(a);a=N(c);var d=P(c);c=N(d);d=P(d);return this.O(b,a,c,d)};hc.ba=3;function jc(a,b){this.F=a;this.G=b;this.B=393217;this.I=0}g=jc.prototype;g.Y=function(){return this.G};g.Z=function(a,b){return new jc(this.F,b)};
g.call=function(a){switch(arguments.length-1){case 0:return this.M();case 1:return this.j(arguments[1]);case 2:return this.u(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.ma(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.Ba(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ua(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Va(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Wa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Xa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Pa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ra(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ta(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:var b=arguments[1],c=arguments[2],d=arguments[3],e=arguments[4],f=arguments[5],h=arguments[6],k=arguments[7],l=arguments[8],m=arguments[9],n=arguments[10],p=arguments[11],q=arguments[12],t=arguments[13],y=arguments[14],A=arguments[15],
C=arguments[16],G=arguments[17],K=arguments[18],Q=arguments[19],ea=arguments[20],ma=arguments[21];return kc.Jb?kc.Jb(this.F,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G,K,Q,ea,ma):kc.call(null,this.F,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G,K,Q,ea,ma);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};g.M=function(){return this.F.M?this.F.M():this.F.call(null)};
g.j=function(a){return this.F.j?this.F.j(a):this.F.call(null,a)};g.u=function(a,b){return this.F.u?this.F.u(a,b):this.F.call(null,a,b)};g.C=function(a,b,c){return this.F.C?this.F.C(a,b,c):this.F.call(null,a,b,c)};g.ma=function(a,b,c,d){return this.F.ma?this.F.ma(a,b,c,d):this.F.call(null,a,b,c,d)};g.Ba=function(a,b,c,d,e){return this.F.Ba?this.F.Ba(a,b,c,d,e):this.F.call(null,a,b,c,d,e)};g.Ua=function(a,b,c,d,e,f){return this.F.Ua?this.F.Ua(a,b,c,d,e,f):this.F.call(null,a,b,c,d,e,f)};
g.Va=function(a,b,c,d,e,f,h){return this.F.Va?this.F.Va(a,b,c,d,e,f,h):this.F.call(null,a,b,c,d,e,f,h)};g.Wa=function(a,b,c,d,e,f,h,k){return this.F.Wa?this.F.Wa(a,b,c,d,e,f,h,k):this.F.call(null,a,b,c,d,e,f,h,k)};g.Xa=function(a,b,c,d,e,f,h,k,l){return this.F.Xa?this.F.Xa(a,b,c,d,e,f,h,k,l):this.F.call(null,a,b,c,d,e,f,h,k,l)};g.Ja=function(a,b,c,d,e,f,h,k,l,m){return this.F.Ja?this.F.Ja(a,b,c,d,e,f,h,k,l,m):this.F.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Ka=function(a,b,c,d,e,f,h,k,l,m,n){return this.F.Ka?this.F.Ka(a,b,c,d,e,f,h,k,l,m,n):this.F.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.La=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.F.La?this.F.La(a,b,c,d,e,f,h,k,l,m,n,p):this.F.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.F.Ma?this.F.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q):this.F.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.Na=function(a,b,c,d,e,f,h,k,l,m,n,p,q,t){return this.F.Na?this.F.Na(a,b,c,d,e,f,h,k,l,m,n,p,q,t):this.F.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,t)};g.Oa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,t,y){return this.F.Oa?this.F.Oa(a,b,c,d,e,f,h,k,l,m,n,p,q,t,y):this.F.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,t,y)};g.Pa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A){return this.F.Pa?this.F.Pa(a,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A):this.F.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A)};
g.Qa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C){return this.F.Qa?this.F.Qa(a,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C):this.F.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C)};g.Ra=function(a,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G){return this.F.Ra?this.F.Ra(a,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G):this.F.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G)};
g.Sa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G,K){return this.F.Sa?this.F.Sa(a,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G,K):this.F.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G,K)};g.Ta=function(a,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G,K,Q){return this.F.Ta?this.F.Ta(a,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G,K,Q):this.F.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G,K,Q)};function lc(a,b){return"function"===typeof a?new jc(a,b):null==a?null:Va(a,b)}
function mc(a){var b=null!=a;return(b?null!=a?a.B&131072||u===a.Nb||(a.B?0:w(Ta,a)):w(Ta,a):b)?Ua(a):null}function nc(a){return null!=a?a.B&16777216||u===a.zb?!0:a.B?!1:w(eb,a):w(eb,a)}function oc(a){return null==a?!1:null!=a?a.B&1024||u===a.bc?!0:a.B?!1:w(Oa,a):w(Oa,a)}function pc(a){return null!=a?a.B&67108864||u===a.dc?!0:a.B?!1:w(gb,a):w(gb,a)}function qc(a){return null!=a?a.B&16384||u===a.ec?!0:a.B?!1:w(Ra,a):w(Ra,a)}function rc(a){return null!=a?a.I&512||u===a.Vb?!0:!1:!1}
function sc(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var tc={};function uc(a){return null==a?!1:null!=a?a.B&64||u===a.bb?!0:a.B?!1:w(Ga,a):w(Ga,a)}function vc(a){return null==a?!1:!1===a?!1:!0}function wc(a,b){return null!=a&&(a.B&512||u===a.Db)?a.ab(null,b):w(La,a)?Ma(a,b):Fb.C(a,b,tc)===tc?!1:!0}function xc(a,b){var c=J(b);return c?(b=N(c),c=P(c),yc?yc(a,b,c):zc.call(null,a,b,c)):a.M?a.M():a.call(null)}
function Ac(a,b,c){for(c=J(c);;)if(c){var d=N(c);b=a.u?a.u(b,d):a.call(null,b,d);if(Sb(b))return Sa(b);c=P(c)}else return b}function Bc(a,b){a=rb(a);if(v(a.pa()))for(var c=a.next();;)if(a.pa()){var d=a.next();c=b.u?b.u(c,d):b.call(null,c,d);if(Sb(c))return Sa(c)}else return c;else return b.M?b.M():b.call(null)}function Cc(a,b,c){for(a=rb(a);;)if(a.pa()){var d=a.next();c=b.u?b.u(c,d):b.call(null,c,d);if(Sb(c))return Sa(c)}else return c}
function zc(a){switch(arguments.length){case 2:var b=arguments[0],c=arguments[1];return null!=c&&(c.B&524288||u===c.Pb)?c.ha(null,b):ta(c)?Ub(c,b):"string"===typeof c?Ub(c,b):w(Wa,c)?Xa(c,b):Hb(c)?Bc(c,b):xc(b,c);case 3:return yc(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}
function yc(a,b,c){return null!=c&&(c.B&524288||u===c.Pb)?c.ia(null,a,b):ta(c)?Vb(c,a,b):"string"===typeof c?Vb(c,a,b):w(Wa,c)?Xa(c,a,b):Hb(c)?Cc(c,a,b):Ac(a,b,c)}function Dc(a,b){return null!=b?$a(b,a):!0}function Ec(a){return a}function Fc(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function Gc(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}
var z=function z(a){switch(arguments.length){case 0:return z.M();case 1:return z.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return z.O(arguments[0],new M(c.slice(1),0,null))}};z.M=function(){return""};z.j=function(a){return null==a?"":[a].join("")};z.O=function(a,b){for(a=new fa(z.j(a));;)if(v(b))a=a.append(z.j(N(b))),b=P(b);else return a.toString()};z.aa=function(a){var b=N(a);a=P(a);return this.O(b,a)};z.ba=1;
function bc(a,b){if(nc(b))if(Xb(a)&&Xb(b)&&T(a)!==T(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&R.u(N(a),N(b)))a=P(a),b=P(b);else{a=!1;break a}}else a=null;return vc(a)}function fc(a,b,c,d,e){this.G=a;this.first=b;this.Da=c;this.count=d;this.H=e;this.B=65937646;this.I=8192}g=fc.prototype;g.toString=function(){return tb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return S(this,b,0);case 2:return S(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return S(this,b,0)};a.u=function(b,c){return S(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return U(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return U(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.u=function(c,d){return U(this,c,d)};return b}();g.Y=function(){return this.G};g.fa=function(){return 1===this.count?null:this.Da};g.da=function(){return this.count};g.X=function(){var a=this.H;return null!=a?a:this.H=a=Nb(this)};g.U=function(a,b){return bc(this,b)};
g.ea=function(){return Va(O,this.G)};g.ha=function(a,b){return xc(b,this)};g.ia=function(a,b,c){return Ac(b,c,this)};g.ja=function(){return this.first};g.na=function(){return 1===this.count?O:this.Da};g.T=function(){return this};g.Z=function(a,b){return b===this.G?this:new fc(b,this.first,this.Da,this.count,this.H)};g.ca=function(a,b){return new fc(this.G,b,this,this.count+1,null)};fc.prototype[wa]=function(){return Lb(this)};function Hc(a){this.G=a;this.B=65937614;this.I=8192}g=Hc.prototype;
g.toString=function(){return tb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return S(this,b,0);case 2:return S(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return S(this,b,0)};a.u=function(b,c){return S(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return U(this,c,T(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return U(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.u=function(c,d){return U(this,c,d)};return b}();g.Y=function(){return this.G};g.fa=function(){return null};g.da=function(){return 0};g.X=function(){return Ob};g.U=function(a,b){return(null!=b?b.B&33554432||u===b.ac||(b.B?0:w(fb,b)):w(fb,b))||nc(b)?null==J(b):!1};g.ea=function(){return this};
g.ha=function(a,b){return xc(b,this)};g.ia=function(a,b,c){return Ac(b,c,this)};g.ja=function(){return null};g.na=function(){return O};g.T=function(){return null};g.Z=function(a,b){return b===this.G?this:new Hc(b)};g.ca=function(a,b){return new fc(this.G,b,null,1,null)};var O=new Hc(null);Hc.prototype[wa]=function(){return Lb(this)};function Ic(a,b,c,d){this.G=a;this.first=b;this.Da=c;this.H=d;this.B=65929452;this.I=8192}g=Ic.prototype;g.toString=function(){return tb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return S(this,b,0);case 2:return S(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return S(this,b,0)};a.u=function(b,c){return S(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return U(this,c,T(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return U(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.u=function(c,d){return U(this,c,d)};return b}();g.Y=function(){return this.G};g.fa=function(){return null==this.Da?null:J(this.Da)};g.X=function(){var a=this.H;return null!=a?a:this.H=a=Nb(this)};g.U=function(a,b){return bc(this,b)};g.ea=function(){return O};
g.ha=function(a,b){return xc(b,this)};g.ia=function(a,b,c){return Ac(b,c,this)};g.ja=function(){return this.first};g.na=function(){return null==this.Da?O:this.Da};g.T=function(){return this};g.Z=function(a,b){return b===this.G?this:new Ic(b,this.first,this.Da,this.H)};g.ca=function(a,b){return new Ic(null,b,this,null)};Ic.prototype[wa]=function(){return Lb(this)};function V(a,b){return null==b?new fc(null,a,null,1,null):null!=b&&(b.B&64||u===b.bb)?new Ic(null,a,b,null):new Ic(null,a,J(b),null)}
function I(a,b,c,d){this.mb=a;this.name=b;this.Ca=c;this.$a=d;this.B=2153775105;this.I=4096}g=I.prototype;g.toString=function(){return[":",z.j(this.Ca)].join("")};g.U=function(a,b){return b instanceof I?this.Ca===b.Ca:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.u(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};
g.j=function(a){return Fb.u(a,this)};g.u=function(a,b){return Fb.C(a,this,b)};g.X=function(){var a=this.$a;return null!=a?a:this.$a=a=Db(yb(this.name),Bb(this.mb))+2654435769|0};g.V=function(a,b){return H(b,[":",z.j(this.Ca)].join(""))};function Jc(a){if(null!=a&&(a.I&4096||u===a.Ob))return a.mb;throw Error(["Doesn't support namespace: ",z.j(a)].join(""));}
var Kc=function Kc(a){switch(arguments.length){case 1:return Kc.j(arguments[0]);case 2:return Kc.u(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};Kc.j=function(a){if(a instanceof I)return a;if(a instanceof Eb)return new I(Jc(a),Lc.j?Lc.j(a):Lc.call(null,a),a.Ha,null);if(R.u("/",a))return new I(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
Kc.u=function(a,b){a=a instanceof I?Lc.j?Lc.j(a):Lc.call(null,a):a instanceof Eb?Lc.j?Lc.j(a):Lc.call(null,a):a;b=b instanceof I?Lc.j?Lc.j(b):Lc.call(null,b):b instanceof Eb?Lc.j?Lc.j(b):Lc.call(null,b):b;return new I(a,b,[v(a)?[z.j(a),"/"].join(""):null,z.j(b)].join(""),null)};Kc.ba=2;function Mc(a,b,c){this.G=a;this.fn=b;this.s=null;this.H=c;this.B=32374988;this.I=1}g=Mc.prototype;g.toString=function(){return tb(this)};
function Nc(a){null!=a.fn&&(a.s=a.fn.M?a.fn.M():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return S(this,b,0);case 2:return S(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return S(this,b,0)};a.u=function(b,c){return S(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return U(this,c,T(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return U(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.u=function(c,d){return U(this,c,d)};return b}();g.Y=function(){return this.G};g.fa=function(){this.T(null);return null==this.s?null:P(this.s)};g.X=function(){var a=this.H;return null!=a?a:this.H=a=Nb(this)};g.U=function(a,b){return bc(this,b)};
g.ea=function(){return Va(O,this.G)};g.ha=function(a,b){return xc(b,this)};g.ia=function(a,b,c){return Ac(b,c,this)};g.ja=function(){this.T(null);return null==this.s?null:N(this.s)};g.na=function(){this.T(null);return null!=this.s?Jb(this.s):O};g.T=function(){Nc(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Mc)a=Nc(a);else return this.s=a,J(this.s)};g.Z=function(a,b){var c=this;return b===this.G?c:new Mc(b,function(){return c.T(null)},this.H)};
g.ca=function(a,b){return V(b,this)};Mc.prototype[wa]=function(){return Lb(this)};function Oc(a){this.rb=a;this.end=0;this.B=2;this.I=0}Oc.prototype.add=function(a){this.rb[this.end]=a;return this.end+=1};Oc.prototype.Aa=function(){var a=new Pc(this.rb,0,this.end);this.rb=null;return a};Oc.prototype.da=function(){return this.end};function Pc(a,b,c){this.A=a;this.off=b;this.end=c;this.B=524306;this.I=0}g=Pc.prototype;g.da=function(){return this.end-this.off};
g.$=function(a,b){return this.A[this.off+b]};g.sa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.A[this.off+b]:c};g.wb=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Pc(this.A,this.off+1,this.end)};g.ha=function(a,b){return Wb(this.A,b,this.A[this.off],this.off+1)};g.ia=function(a,b,c){return Wb(this.A,b,c,this.off)};function Qc(a,b,c,d){this.Aa=a;this.va=b;this.G=c;this.H=d;this.B=31850732;this.I=1536}g=Qc.prototype;g.toString=function(){return tb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return S(this,b,0);case 2:return S(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return S(this,b,0)};a.u=function(b,c){return S(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return U(this,c,T(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return U(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.u=function(c,d){return U(this,c,d)};return b}();g.Y=function(){return this.G};g.fa=function(){return 1<za(this.Aa)?new Qc(nb(this.Aa),this.va,null,null):null==this.va?null:db(this.va)};g.X=function(){var a=this.H;return null!=a?a:this.H=a=Nb(this)};
g.U=function(a,b){return bc(this,b)};g.ea=function(){return O};g.ja=function(){return D(this.Aa,0)};g.na=function(){return 1<za(this.Aa)?new Qc(nb(this.Aa),this.va,null,null):null==this.va?O:this.va};g.T=function(){return this};g.sb=function(){return this.Aa};g.nb=function(){return null==this.va?O:this.va};g.Z=function(a,b){return b===this.G?this:new Qc(this.Aa,this.va,b,this.H)};g.ca=function(a,b){return V(b,this)};g.xb=function(){return null==this.va?null:this.va};Qc.prototype[wa]=function(){return Lb(this)};
function Rc(a,b){return 0===za(a)?b:new Qc(a,b,null,null)}function Sc(a,b){a.add(b)}function Tc(a,b){if(Xb(b))return T(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=P(b);else return c}var Uc=function Uc(a){if(null==a)return null;var c=P(a);return null==c?J(N(a)):V(N(a),Uc.j?Uc.j(c):Uc.call(null,c))};
function Vc(a,b,c){var d=J(c);if(0===b)return a.M?a.M():a.call(null);c=E(d);var e=F(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=E(e);var f=F(e);if(2===b)return a.u?a.u(c,d):a.call(null,c,d);e=E(f);var h=F(f);if(3===b)return a.C?a.C(c,d,e):a.call(null,c,d,e);f=E(h);var k=F(h);if(4===b)return a.ma?a.ma(c,d,e,f):a.call(null,c,d,e,f);h=E(k);var l=F(k);if(5===b)return a.Ba?a.Ba(c,d,e,f,h):a.call(null,c,d,e,f,h);k=E(l);var m=F(l);if(6===b)return a.Ua?a.Ua(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=E(m);
var n=F(m);if(7===b)return a.Va?a.Va(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=E(n);var p=F(n);if(8===b)return a.Wa?a.Wa(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=E(p);var q=F(p);if(9===b)return a.Xa?a.Xa(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=E(q);var t=F(q);if(10===b)return a.Ja?a.Ja(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=E(t);var y=F(t);if(11===b)return a.Ka?a.Ka(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);t=E(y);var A=F(y);if(12===b)return a.La?
a.La(c,d,e,f,h,k,l,m,n,p,q,t):a.call(null,c,d,e,f,h,k,l,m,n,p,q,t);y=E(A);var C=F(A);if(13===b)return a.Ma?a.Ma(c,d,e,f,h,k,l,m,n,p,q,t,y):a.call(null,c,d,e,f,h,k,l,m,n,p,q,t,y);A=E(C);var G=F(C);if(14===b)return a.Na?a.Na(c,d,e,f,h,k,l,m,n,p,q,t,y,A):a.call(null,c,d,e,f,h,k,l,m,n,p,q,t,y,A);C=E(G);var K=F(G);if(15===b)return a.Oa?a.Oa(c,d,e,f,h,k,l,m,n,p,q,t,y,A,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C);G=E(K);var Q=F(K);if(16===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G):a.call(null,
c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G);K=E(Q);var ea=F(Q);if(17===b)return a.Qa?a.Qa(c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G,K):a.call(null,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G,K);Q=E(ea);var ma=F(ea);if(18===b)return a.Ra?a.Ra(c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G,K,Q):a.call(null,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G,K,Q);ea=E(ma);ma=F(ma);if(19===b)return a.Sa?a.Sa(c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G,K,Q,ea):a.call(null,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G,K,Q,ea);var Xd=E(ma);F(ma);if(20===b)return a.Ta?a.Ta(c,d,e,f,h,k,l,m,n,p,q,t,
y,A,C,G,K,Q,ea,Xd):a.call(null,c,d,e,f,h,k,l,m,n,p,q,t,y,A,C,G,K,Q,ea,Xd);throw Error("Only up to 20 arguments supported on functions");}function Wc(a){return null!=a&&(a.B&128||u===a.hb)?a.fa():J(Jb(a))}function Xc(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):Yc(a,b,E(c),Wc(c))}function Yc(a,b,c,d){return null==d?a.u?a.u(b,c):a.call(a,b,c):Zc(a,b,c,E(d),Wc(d))}function Zc(a,b,c,d,e){return null==e?a.C?a.C(b,c,d):a.call(a,b,c,d):$c(a,b,c,d,E(e),Wc(e))}
function $c(a,b,c,d,e,f){if(null==f)return a.ma?a.ma(b,c,d,e):a.call(a,b,c,d,e);var h=E(f),k=P(f);if(null==k)return a.Ba?a.Ba(b,c,d,e,h):a.call(a,b,c,d,e,h);f=E(k);var l=P(k);if(null==l)return a.Ua?a.Ua(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=E(l);var m=P(l);if(null==m)return a.Va?a.Va(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=E(m);var n=P(m);if(null==n)return a.Wa?a.Wa(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=E(n);var p=P(n);if(null==p)return a.Xa?a.Xa(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,
m);n=E(p);var q=P(p);if(null==q)return a.Ja?a.Ja(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=E(q);var t=P(q);if(null==t)return a.Ka?a.Ka(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=E(t);var y=P(t);if(null==y)return a.La?a.La(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);t=E(y);var A=P(y);if(null==A)return a.Ma?a.Ma(b,c,d,e,h,f,k,l,m,n,p,q,t):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,t);y=E(A);var C=P(A);if(null==C)return a.Na?a.Na(b,c,d,e,h,f,k,l,m,n,p,q,t,y):a.call(a,b,
c,d,e,h,f,k,l,m,n,p,q,t,y);A=E(C);var G=P(C);if(null==G)return a.Oa?a.Oa(b,c,d,e,h,f,k,l,m,n,p,q,t,y,A):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,t,y,A);C=E(G);var K=P(G);if(null==K)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m,n,p,q,t,y,A,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,t,y,A,C);G=E(K);var Q=P(K);if(null==Q)return a.Qa?a.Qa(b,c,d,e,h,f,k,l,m,n,p,q,t,y,A,C,G):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,t,y,A,C,G);K=E(Q);var ea=P(Q);if(null==ea)return a.Ra?a.Ra(b,c,d,e,h,f,k,l,m,n,p,q,t,y,A,C,G,K):a.call(a,b,c,d,e,h,f,k,l,m,
n,p,q,t,y,A,C,G,K);Q=E(ea);var ma=P(ea);if(null==ma)return a.Sa?a.Sa(b,c,d,e,h,f,k,l,m,n,p,q,t,y,A,C,G,K,Q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,t,y,A,C,G,K,Q);ea=E(ma);ma=P(ma);if(null==ma)return a.Ta?a.Ta(b,c,d,e,h,f,k,l,m,n,p,q,t,y,A,C,G,K,Q,ea):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,t,y,A,C,G,K,Q,ea);b=[b,c,d,e,h,f,k,l,m,n,p,q,t,y,A,C,G,K,Q,ea];for(c=ma;;)if(c)b.push(E(c)),c=P(c);else break;return a.apply(a,b)}
function kc(a){switch(arguments.length){case 2:return ad(arguments[0],arguments[1]);case 3:return bd(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.aa?(c=V(c,V(d,e)),d=b.ba,e=2+Tc(d-1,e),b=e<=d?Vc(b,e,c):b.aa(c)):b=Yc(b,c,d,J(e));return b;case 5:b=arguments[0];c=arguments[1];d=arguments[2];var f=arguments[3];e=arguments[4];b.aa?(c=V(c,V(d,V(f,e))),d=b.ba,e=3+Tc(d-2,e),b=e<=d?Vc(b,e,c):b.aa(c)):b=Zc(b,c,d,f,J(e));return b;default:e=
[];b=arguments.length;for(c=0;;)if(c<b)e.push(arguments[c]),c+=1;else break;b=arguments[0];c=arguments[1];d=arguments[2];f=arguments[3];var h=arguments[4];e=new M(e.slice(5),0,null);b.aa?(e=Uc(e),c=V(c,V(d,V(f,V(h,e)))),d=b.ba,e=4+Tc(d-3,e),b=e<=d?Vc(b,e,c):b.aa(c)):b=$c(b,c,d,f,h,Uc(e));return b}}function ad(a,b){if(a.aa){var c=a.ba,d=Tc(c+1,b);return d<=c?Vc(a,d,b):a.aa(b)}b=J(b);return null==b?a.M?a.M():a.call(a):Xc(a,E(b),Wc(b))}
function bd(a,b,c){if(a.aa){b=V(b,c);var d=a.ba;c=Tc(d,c)+1;return c<=d?Vc(a,c,b):a.aa(b)}return Xc(a,b,J(c))}function cd(a){if(null!=a&&(a.B&64||u===a.bb))if(P(a)){a:{var b=[];for(a=J(a);;)if(null!=a)b.push(N(a)),a=P(a);else break a}b=ic(b)}else b=J(a)?N(a):dd;else b=a;return b}function ed(a){this.Tb=a;this.B=393216;this.I=0}g=ed.prototype;g.Z=function(a,b){return new ed(b)};g.Y=function(){return this.Tb};g.pa=function(){return!1};g.next=function(){return Error("No such element")};g.remove=function(){return Error("Unsupported operation")};
function fd(a,b){for(;;){if(null==J(b))return!0;var c=N(b);c=a.j?a.j(c):a.call(null,c);if(v(c))b=P(b);else return!1}}
var X=function X(a){switch(arguments.length){case 1:return X.j(arguments[0]);case 2:return X.u(arguments[0],arguments[1]);case 3:return X.C(arguments[0],arguments[1],arguments[2]);case 4:return X.ma(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return X.O(arguments[0],arguments[1],arguments[2],arguments[3],new M(c.slice(4),0,null))}};
X.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.u?b.u(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.M?b.M():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var t=Array(arguments.length-2);q<t.length;)t[q]=arguments[q+2],++q;q=new M(t,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=bd(a,n,p);return b.u?b.u(m,n):b.call(null,m,n)}k.ba=2;k.aa=function(m){var n=
N(m);m=P(m);var p=N(m);m=Jb(m);return l(n,p,m)};k.O=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new M(p,0,null)}return h.O(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.ba=2;f.aa=h.aa;f.M=e;f.j=d;f.u=c;f.O=h.O;return f}()}};
X.u=function(a,b){return new Mc(null,function(){var c=J(b);if(c){if(rc(c)){for(var d=ob(c),e=T(d),f=new Oc(Array(e)),h=0;;)if(h<e)Sc(f,function(){var k=D(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return Rc(f.Aa(),X.u(a,pb(c)))}return V(function(){var k=N(c);return a.j?a.j(k):a.call(null,k)}(),X.u(a,Jb(c)))}return null},null)};
X.C=function(a,b,c){return new Mc(null,function(){var d=J(b),e=J(c);if(d&&e){var f=N(d);var h=N(e);f=a.u?a.u(f,h):a.call(null,f,h);d=V(f,X.C(a,Jb(d),Jb(e)))}else d=null;return d},null)};X.ma=function(a,b,c,d){return new Mc(null,function(){var e=J(b),f=J(c),h=J(d);if(e&&f&&h){var k=N(e);var l=N(f),m=N(h);k=a.C?a.C(k,l,m):a.call(null,k,l,m);e=V(k,X.ma(a,Jb(e),Jb(f),Jb(h)))}else e=null;return e},null)};
X.O=function(a,b,c,d,e){return X.u(function(f){return ad(a,f)},function k(h){return new Mc(null,function(){var l=X.u(J,h);return fd(Ec,l)?V(X.u(N,l),k(X.u(Jb,l))):null},null)}(dc.O(e,d,cc([c,b]))))};X.aa=function(a){var b=N(a),c=P(a);a=N(c);var d=P(c);c=N(d);var e=P(d);d=N(e);e=P(e);return this.O(b,a,c,d,e)};X.ba=4;function gd(a,b){return null!=a?null!=a&&(a.I&4||u===a.Xb)?Va(lb(yc(kb,jb(a),b)),mc(a)):yc(Da,a,b):yc(dc,a,b)}function hd(a,b){this.K=a;this.A=b}
function id(a){return new hd(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function jd(a){a=a.D;return 32>a?0:a-1>>>5<<5}function kd(a,b,c){for(;;){if(0===b)return c;var d=id(a);d.A[0]=c;c=d;b-=5}}var ld=function ld(a,b,c,d){var f=new hd(c.K,B(c.A)),h=a.D-1>>>b&31;5===b?f.A[h]=d:(c=c.A[h],null!=c?(b-=5,a=ld.ma?ld.ma(a,b,c,d):ld.call(null,a,b,c,d)):a=kd(null,b-5,d),f.A[h]=a);return f};
function md(a,b){if(b>=jd(a))return a.la;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.A[b>>>a&31];a=d}else return c.A}function nd(a,b){if(0<=b&&b<a.D)b=md(a,b);else throw a=a.D,Error(["No item ",z.j(b)," in vector of length ",z.j(a)].join(""));return b}var od=function od(a,b,c,d,e){var h=new hd(c.K,B(c.A));if(0===b)h.A[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.A[k];a=od.Ba?od.Ba(a,b,c,d,e):od.call(null,a,b,c,d,e);h.A[k]=a}return h};
function pd(a,b,c){this.base=this.i=0;this.A=a;this.v=b;this.start=0;this.end=c}pd.prototype.pa=function(){return this.i<this.end};pd.prototype.next=function(){32===this.i-this.base&&(this.A=md(this.v,this.i),this.base+=32);var a=this.A[this.i&31];this.i+=1;return a};function qd(a,b,c,d){return c<d?rd(a,b,Zb(a,c),c+1,d):b.M?b.M():b.call(null)}
function rd(a,b,c,d,e){var f=c;c=d;for(d=md(a,d);;)if(c<e){var h=c&31;d=0===h?md(a,c):d;h=d[h];f=b.u?b.u(f,h):b.call(null,f,h);if(Sb(f))return Sa(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.G=a;this.D=b;this.shift=c;this.root=d;this.la=e;this.H=f;this.B=167666463;this.I=139268}g=Y.prototype;g.toString=function(){return tb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return S(this,b,0);case 2:return S(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return S(this,b,0)};a.u=function(b,c){return S(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return U(this,c,T(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return U(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.u=function(c,d){return U(this,c,d)};return b}();g.ra=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return"number"===typeof b?this.sa(null,b,c):c};
g.ob=function(a,b,c){a=0;for(var d=c;;)if(a<this.D){var e=md(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.C?b.C(d,h,k):b.call(null,d,h,k);if(Sb(d)){e=d;break a}f+=1}else{e=d;break a}if(Sb(e))return Sa(e);a+=c;d=e}else return d};g.$=function(a,b){return nd(this,b)[b&31]};g.sa=function(a,b,c){return 0<=b&&b<this.D?md(this,b)[b&31]:c};
g.tb=function(a,b){if(0<=a&&a<this.D){if(jd(this)<=a){var c=B(this.la);c[a&31]=b;return new Y(this.G,this.D,this.shift,this.root,c,null)}return new Y(this.G,this.D,this.shift,od(this,this.shift,this.root,a,b),this.la,null)}if(a===this.D)return this.ca(null,b);throw Error(["Index ",z.j(a)," out of bounds  [0,",z.j(this.D),"]"].join(""));};g.za=function(){var a=this.D;return new pd(0<T(this)?md(this,0):null,this,a)};g.Y=function(){return this.G};g.da=function(){return this.D};
g.X=function(){var a=this.H;return null!=a?a:this.H=a=Nb(this)};g.U=function(a,b){if(b instanceof Y)if(this.D===T(b))for(a=this.za(null),b=b.za(null);;)if(a.pa()){var c=a.next(),d=b.next();if(!R.u(c,d))return!1}else return!0;else return!1;else return bc(this,b)};g.gb=function(){return new sd(this.D,this.shift,td.j?td.j(this.root):td.call(null,this.root),ud.j?ud.j(this.la):ud.call(null,this.la))};g.ea=function(){return Va(ec,this.G)};g.ha=function(a,b){return qd(this,b,0,this.D)};
g.ia=function(a,b,c){a=0;for(var d=c;;)if(a<this.D){var e=md(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.u?b.u(d,h):b.call(null,d,h);if(Sb(d)){e=d;break a}f+=1}else{e=d;break a}if(Sb(e))return Sa(e);a+=c;d=e}else return d};g.Ea=function(a,b,c){if("number"===typeof b)return this.tb(b,c);throw Error("Vector's key for assoc must be a number.");};g.ab=function(a,b){return"number"!==typeof b||isNaN(b)||Infinity===b||parseFloat(b)!==parseInt(b,10)?!1:0<=b&&b<this.D};
g.T=function(){if(0===this.D)return null;if(32>=this.D)return new M(this.la,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.A[0];else{a=a.A;break a}}return vd?vd(this,a,0,0):wd.call(null,this,a,0,0)};g.Z=function(a,b){return b===this.G?this:new Y(b,this.D,this.shift,this.root,this.la,this.H)};
g.ca=function(a,b){if(32>this.D-jd(this)){a=this.la.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.la[d],d+=1;else break;c[a]=b;return new Y(this.G,this.D+1,this.shift,this.root,c,null)}a=(c=this.D>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=id(null),c.A[0]=this.root,d=kd(null,this.shift,new hd(null,this.la)),c.A[1]=d):c=ld(this,this.shift,this.root,new hd(null,this.la));return new Y(this.G,this.D+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};g.j=function(a){if("number"===typeof a)return this.$(null,a);throw Error("Key must be integer");};
var xd=new hd(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),ec=new Y(null,0,5,xd,[],Ob);Y.prototype[wa]=function(){return Lb(this)};function yd(a,b,c,d,e){this.qa=a;this.node=b;this.i=c;this.off=d;this.G=e;this.H=null;this.B=32375020;this.I=1536}g=yd.prototype;g.toString=function(){return tb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return S(this,b,0);case 2:return S(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return S(this,b,0)};a.u=function(b,c){return S(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return U(this,c,T(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return U(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.u=function(c,d){return U(this,c,d)};return b}();g.Y=function(){return this.G};g.fa=function(){if(this.off+1<this.node.length){var a=this.qa;var b=this.node,c=this.i,d=this.off+1;a=vd?vd(a,b,c,d):wd.call(null,a,b,c,d);return null==a?null:a}return this.xb()};
g.X=function(){var a=this.H;return null!=a?a:this.H=a=Nb(this)};g.U=function(a,b){return bc(this,b)};g.ea=function(){return O};g.ha=function(a,b){return qd(this.qa,b,this.i+this.off,T(this.qa))};g.ia=function(a,b,c){return rd(this.qa,b,c,this.i+this.off,T(this.qa))};g.ja=function(){return this.node[this.off]};g.na=function(){if(this.off+1<this.node.length){var a=this.qa;var b=this.node,c=this.i,d=this.off+1;a=vd?vd(a,b,c,d):wd.call(null,a,b,c,d);return null==a?O:a}return this.nb(null)};g.T=function(){return this};
g.sb=function(){var a=this.node;return new Pc(a,this.off,a.length)};g.nb=function(){var a=this.i+this.node.length;if(a<za(this.qa)){var b=this.qa,c=md(this.qa,a);return vd?vd(b,c,a,0):wd.call(null,b,c,a,0)}return O};g.Z=function(a,b){return b===this.G?this:zd?zd(this.qa,this.node,this.i,this.off,b):wd.call(null,this.qa,this.node,this.i,this.off,b)};g.ca=function(a,b){return V(b,this)};
g.xb=function(){var a=this.i+this.node.length;if(a<za(this.qa)){var b=this.qa,c=md(this.qa,a);return vd?vd(b,c,a,0):wd.call(null,b,c,a,0)}return null};yd.prototype[wa]=function(){return Lb(this)};
function wd(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new yd(b,nd(b,c),c,d,null);case 4:return vd(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return zd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}function vd(a,b,c,d){return new yd(a,b,c,d,null)}function zd(a,b,c,d,e){return new yd(a,b,c,d,e)}
function Ad(a,b){return a===b.K?b:new hd(a,B(b.A))}function td(a){return new hd({},B(a.A))}function ud(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];sc(a,0,b,0,a.length);return b}var Bd=function Bd(a,b,c,d){c=Ad(a.root.K,c);var f=a.D-1>>>b&31;if(5===b)a=d;else{var h=c.A[f];null!=h?(b-=5,a=Bd.ma?Bd.ma(a,b,h,d):Bd.call(null,a,b,h,d)):a=kd(a.root.K,b-5,d)}c.A[f]=a;return c};
function sd(a,b,c,d){this.D=a;this.shift=b;this.root=c;this.la=d;this.I=88;this.B=275}g=sd.prototype;
g.ib=function(a,b){if(this.root.K){if(32>this.D-jd(this))this.la[this.D&31]=b;else{a=new hd(this.root.K,this.la);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.la=c;this.D>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=kd(this.root.K,this.shift,a),this.root=new hd(this.root.K,b),this.shift=c):this.root=Bd(this,this.shift,this.root,a)}this.D+=1;return this}throw Error("conj! after persistent!");};g.pb=function(){if(this.root.K){this.root.K=null;var a=this.D-jd(this),b=Array(a);sc(this.la,0,b,0,a);return new Y(null,this.D,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.eb=function(a,b,c){if("number"===typeof b)return Cd(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Cd(a,b,c){if(a.root.K){if(0<=b&&b<a.D){if(jd(a)<=b)a.la[b&31]=c;else{var d=function k(f,h){h=Ad(a.root.K,h);if(0===f)h.A[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.A[l]);h.A[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.D)return a.ib(null,c);throw Error(["Index ",z.j(b)," out of bounds for TransientVector of length",z.j(a.D)].join(""));}throw Error("assoc! after persistent!");}g.da=function(){if(this.root.K)return this.D;throw Error("count after persistent!");};
g.$=function(a,b){if(this.root.K)return nd(this,b)[b&31];throw Error("nth after persistent!");};g.sa=function(a,b,c){return 0<=b&&b<this.D?this.$(null,b):c};g.ra=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){if(this.root.K)return"number"===typeof b?this.sa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.u(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};g.j=function(a){return this.ra(null,a)};g.u=function(a,b){return this.R(null,a,b)};function Dd(){this.B=2097152;this.I=0}Dd.prototype.U=function(){return!1};var Ed=new Dd;
function Fd(a,b){return vc(oc(b)&&!pc(b)?T(a)===T(b)?(null!=a?a.B&1048576||u===a.$b||(a.B?0:w(Za,a)):w(Za,a))?Dc(function(c,d,e){return R.u(Fb.C(b,d,Ed),e)?!0:new Rb},a):fd(function(c){return R.u(Fb.C(b,N(c),Ed),N(P(c)))},a):null:null)}function Gd(a){this.s=a}Gd.prototype.next=function(){if(null!=this.s){var a=N(this.s),b=W(a,0,null);a=W(a,1,null);this.s=P(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};
function Hd(a,b){if(b instanceof I)a:{var c=a.length;b=b.Ca;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].Ca){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof Eb)a:for(c=a.length,b=b.Ha,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof Eb&&b===a[d].Ha){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(R.u(b,a[d])){a=d;break a}d+=2}return a}function Id(a,b){this.key=a;this.P=b;this.H=null;this.B=166619935;this.I=0}g=Id.prototype;g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return S(this,b,0);case 2:return S(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return S(this,b,0)};a.u=function(b,c){return S(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return U(this,c,T(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return U(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.u=function(c,d){return U(this,c,d)};return b}();g.ra=function(a,b){return this.sa(null,b,null)};g.R=function(a,b,c){return this.sa(null,b,c)};g.$=function(a,b){if(0===b)return this.key;if(1===b)return this.P;throw Error("Index out of bounds");};
g.sa=function(a,b,c){return 0===b?this.key:1===b?this.P:c};g.tb=function(a,b){return(new Y(null,2,5,xd,[this.key,this.P],null)).tb(a,b)};g.Y=function(){return null};g.da=function(){return 2};g.Lb=function(){return this.key};g.Mb=function(){return this.P};g.X=function(){var a=this.H;return null!=a?a:this.H=a=Nb(this)};g.U=function(a,b){return bc(this,b)};g.ea=function(){return null};
g.ha=function(a,b){a:if(a=this.da(null),0===a)b=b.M?b.M():b.call(null);else for(var c=this.$(null,0),d=1;;)if(d<a){var e=this.$(null,d);c=b.u?b.u(c,e):b.call(null,c,e);if(Sb(c)){b=Sa(c);break a}d+=1}else{b=c;break a}return b};g.ia=function(a,b,c){a:{a=this.da(null);var d=c;for(c=0;;)if(c<a){var e=this.$(null,c);d=b.u?b.u(d,e):b.call(null,d,e);if(Sb(d)){b=Sa(d);break a}c+=1}else{b=d;break a}}return b};g.Ea=function(a,b,c){return hc.C(new Y(null,2,5,xd,[this.key,this.P],null),b,c)};
g.ab=function(a,b){return 0===b||1===b};g.T=function(){return new M([this.key,this.P],0,null)};g.Z=function(a,b){return lc(new Y(null,2,5,xd,[this.key,this.P],null),b)};g.ca=function(a,b){return new Y(null,3,5,xd,[this.key,this.P,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.u(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};
g.j=function(a){return this.$(null,a)};g.u=function(a,b){return this.sa(null,a,b)};function Jd(a){return null!=a?a.B&2048||u===a.cc?!0:!1:!1}function Kd(a,b,c){this.A=a;this.i=b;this.ya=c;this.B=32374990;this.I=0}g=Kd.prototype;g.toString=function(){return tb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return S(this,b,0);case 2:return S(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return S(this,b,0)};a.u=function(b,c){return S(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return U(this,c,T(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return U(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.u=function(c,d){return U(this,c,d)};return b}();g.Y=function(){return this.ya};g.fa=function(){return this.i<this.A.length-2?new Kd(this.A,this.i+2,null):null};g.da=function(){return(this.A.length-this.i)/2};g.X=function(){return Nb(this)};
g.U=function(a,b){return bc(this,b)};g.ea=function(){return O};g.ha=function(a,b){return xc(b,this)};g.ia=function(a,b,c){return Ac(b,c,this)};g.ja=function(){return new Id(this.A[this.i],this.A[this.i+1])};g.na=function(){return this.i<this.A.length-2?new Kd(this.A,this.i+2,null):O};g.T=function(){return this};g.Z=function(a,b){return b===this.ya?this:new Kd(this.A,this.i,b)};g.ca=function(a,b){return V(b,this)};Kd.prototype[wa]=function(){return Lb(this)};
function Ld(a,b){this.A=a;this.i=0;this.D=b}Ld.prototype.pa=function(){return this.i<this.D};Ld.prototype.next=function(){var a=new Id(this.A[this.i],this.A[this.i+1]);this.i+=2;return a};function la(a,b,c,d){this.G=a;this.D=b;this.A=c;this.H=d;this.B=16647951;this.I=139268}g=la.prototype;g.toString=function(){return tb(this)};g.keys=function(){return Lb(Md.j?Md.j(this):Md.call(null,this))};g.entries=function(){return new Gd(J(J(this)))};
g.values=function(){return Lb(Nd.j?Nd.j(this):Nd.call(null,this))};g.has=function(a){return wc(this,a)};g.get=function(a,b){return this.R(null,a,b)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.$(null,e),h=W(f,0,null);f=W(f,1,null);a.u?a.u(f,h):a.call(null,f,h);e+=1}else if(b=J(b))rc(b)?(c=ob(b),b=pb(b),h=c,d=T(c),c=h):(c=N(b),h=W(c,0,null),f=W(c,1,null),a.u?a.u(f,h):a.call(null,f,h),b=P(b),c=null,d=0),e=0;else return null};g.ra=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){a=Hd(this.A,b);return-1===a?c:this.A[a+1]};g.ob=function(a,b,c){a=this.A.length;for(var d=0;;)if(d<a){var e=this.A[d],f=this.A[d+1];c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(Sb(c))return Sa(c);d+=2}else return c};g.za=function(){return new Ld(this.A,2*this.D)};g.Y=function(){return this.G};g.da=function(){return this.D};g.X=function(){var a=this.H;return null!=a?a:this.H=a=Pb(this)};
g.U=function(a,b){if(oc(b)&&!pc(b))if(a=this.A.length,this.D===b.da(null))for(var c=0;;)if(c<a){var d=b.R(null,this.A[c],tc);if(d!==tc)if(R.u(this.A[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.gb=function(){return new Od(this.A.length,B(this.A))};g.ea=function(){return Va(dd,this.G)};g.ha=function(a,b){return Bc(this,b)};g.ia=function(a,b,c){return Cc(this,b,c)};
g.Ea=function(a,b,c){a=Hd(this.A,b);if(-1===a){if(this.D<Pd){a=this.A;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new la(this.G,this.D+1,e,null)}return Va(Na(gd(Qd,this),b,c),this.G)}if(c===this.A[a+1])return this;b=B(this.A);b[a+1]=c;return new la(this.G,this.D,b,null)};g.ab=function(a,b){return-1!==Hd(this.A,b)};g.T=function(){var a=this.A;return 0<=a.length-2?new Kd(a,0,null):null};
g.Z=function(a,b){return b===this.G?this:new la(b,this.D,this.A,this.H)};g.ca=function(a,b){if(qc(b))return this.Ea(null,D(b,0),D(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(qc(c))a=Na(a,D(c,0),D(c,1)),b=P(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.u(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};g.j=function(a){return this.ra(null,a)};g.u=function(a,b){return this.R(null,a,b)};var dd=new la(null,0,[],Qb),Pd=8;function Rd(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.Ca===b.Ca?!0:R.u(a,b)}
function Sd(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=Rd(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function Td(a,b){var c=a.length-1,d=J(b);b=Array(c+2*T(d));a=sc(a,0,b,0,c);for(b=c;;)if(d){var e=N(d);a[b]=Pa(e);a[b+1]=Qa(e);b=2+c;d=P(d)}else return a}
function ic(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=Rd(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?Ud(a,c):new la(null,b/2,a,null)}
function Ud(a,b){var c=b?Td(a,gd(dd,a[a.length-1])):a;a=Sd(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=Rd(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(Rd(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new la(null,a.length/2,a,null)}return new la(null,c.length/2,c,null)}la.prototype[wa]=function(){return Lb(this)};
function Od(a,b){this.fb={};this.Za=a;this.A=b;this.B=259;this.I=56}g=Od.prototype;g.da=function(){if(this.fb)return Fc(this.Za);throw Error("count after persistent!");};g.ra=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){if(this.fb)return a=Hd(this.A,b),-1===a?c:this.A[a+1];throw Error("lookup after persistent!");};
g.ib=function(a,b){if(this.fb){if(Jd(b))return this.eb(null,Vd.j?Vd.j(b):Vd.call(null,b),Wd.j?Wd.j(b):Wd.call(null,b));if(qc(b))return this.eb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=N(a);if(v(c))a=P(a),b=mb(b,Vd.j?Vd.j(c):Vd.call(null,c),Wd.j?Wd.j(c):Wd.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.pb=function(){if(this.fb)return this.fb=!1,new la(null,Fc(this.Za),this.A,null);throw Error("persistent! called twice");};
g.eb=function(a,b,c){if(this.fb){a=Hd(this.A,b);if(-1===a){if(this.Za+2<=2*Pd)return this.Za+=2,this.A.push(b),this.A.push(c),this;a=Yd.u?Yd.u(this.Za,this.A):Yd.call(null,this.Za,this.A);return mb(a,b,c)}c!==this.A[a+1]&&(this.A[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.u(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};g.j=function(a){return this.R(null,a,null)};g.u=function(a,b){return this.R(null,a,b)};function Yd(a,b){for(var c=jb(Qd),d=0;;)if(d<a)c=mb(c,b[d],b[d+1]),d+=2;else return c}function Zd(){this.P=!1}function $d(a,b,c){a=B(a);a[b]=c;return a}function ae(a,b,c,d){a=a.Ya(b);a.A[c]=d;return a}
function be(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.C?b.C(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.kb(b,f):f;if(Sb(c))return c;e+=2;f=c}else return f}function ce(a){this.A=a;this.i=0;this.wa=this.lb=null}ce.prototype.advance=function(){for(var a=this.A.length;;)if(this.i<a){var b=this.A[this.i],c=this.A[this.i+1];null!=b?b=this.lb=new Id(b,c):null!=c?(b=rb(c),b=b.pa()?this.wa=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
ce.prototype.pa=function(){var a=null!=this.lb;return a?a:(a=null!=this.wa)?a:this.advance()};ce.prototype.next=function(){if(null!=this.lb){var a=this.lb;this.lb=null;return a}if(null!=this.wa)return a=this.wa.next(),this.wa.pa()||(this.wa=null),a;if(this.advance())return this.next();throw Error("No such element");};ce.prototype.remove=function(){return Error("Unsupported operation")};function de(a,b,c){this.K=a;this.bitmap=b;this.A=c;this.I=131072;this.B=0}g=de.prototype;
g.Ya=function(a){if(a===this.K)return this;var b=Gc(this.bitmap),c=Array(0>b?4:2*(b+1));sc(this.A,0,c,0,2*b);return new de(a,this.bitmap,c)};g.jb=function(){return ee?ee(this.A):fe.call(null,this.A)};g.kb=function(a,b){return be(this.A,a,b)};g.Ga=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=Gc(this.bitmap&e-1);e=this.A[2*f];f=this.A[2*f+1];return null==e?f.Ga(a+5,b,c,d):Rd(c,e)?f:d};
g.ua=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=Gc(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=Gc(this.bitmap);if(2*l<this.A.length){a=this.Ya(a);b=a.A;f.P=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=ge.ua(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.A[e]?ge.ua(a,b+5,Cb(this.A[e]),this.A[e],this.A[e+1],f):this.A[e+1],e+=2,d+=1);else break;return new he(a,l+1,k)}b=Array(2*(l+4));sc(this.A,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;sc(this.A,2*k,b,2*(k+1),2*(l-k));f.P=!0;a=this.Ya(a);a.A=b;a.bitmap|=h;return a}l=this.A[2*k];h=this.A[2*k+1];if(null==l)return l=h.ua(a,b+5,c,d,e,f),l===h?this:ae(this,a,2*k+1,l);if(Rd(d,l))return e===h?this:ae(this,a,2*k+1,e);f.P=!0;f=b+5;d=ie?ie(a,f,l,h,c,d,e):je.call(null,a,f,l,h,c,d,
e);e=2*k;k=2*k+1;a=this.Ya(a);a.A[e]=null;a.A[k]=d;return a};
g.ta=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=Gc(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=Gc(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=ge.ta(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.A[d]?ge.ta(a+5,Cb(this.A[d]),this.A[d],this.A[d+1],e):this.A[d+1],d+=2,c+=1);else break;return new he(null,k+1,h)}a=Array(2*
(k+1));sc(this.A,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;sc(this.A,2*h,a,2*(h+1),2*(k-h));e.P=!0;return new de(null,this.bitmap|f,a)}var l=this.A[2*h];f=this.A[2*h+1];if(null==l)return k=f.ta(a+5,b,c,d,e),k===f?this:new de(null,this.bitmap,$d(this.A,2*h+1,k));if(Rd(c,l))return d===f?this:new de(null,this.bitmap,$d(this.A,2*h+1,d));e.P=!0;e=this.bitmap;k=this.A;a+=5;a=ke?ke(a,l,f,b,c,d):je.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=B(k);d[c]=null;d[h]=a;return new de(null,e,d)};g.za=function(){return new ce(this.A)};
var ge=new de(null,0,[]);function le(a){this.A=a;this.i=0;this.wa=null}le.prototype.pa=function(){for(var a=this.A.length;;){if(null!=this.wa&&this.wa.pa())return!0;if(this.i<a){var b=this.A[this.i];this.i+=1;null!=b&&(this.wa=rb(b))}else return!1}};le.prototype.next=function(){if(this.pa())return this.wa.next();throw Error("No such element");};le.prototype.remove=function(){return Error("Unsupported operation")};function he(a,b,c){this.K=a;this.D=b;this.A=c;this.I=131072;this.B=0}g=he.prototype;
g.Ya=function(a){return a===this.K?this:new he(a,this.D,B(this.A))};g.jb=function(){return me?me(this.A):ne.call(null,this.A)};g.kb=function(a,b){for(var c=this.A.length,d=0;;)if(d<c){var e=this.A[d];if(null!=e){b=e.kb(a,b);if(Sb(b))return b;d+=1}else d+=1}else return b};g.Ga=function(a,b,c,d){var e=this.A[b>>>a&31];return null!=e?e.Ga(a+5,b,c,d):d};
g.ua=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.A[h];if(null==k)return a=ae(this,a,h,ge.ua(a,b+5,c,d,e,f)),a.D+=1,a;b=k.ua(a,b+5,c,d,e,f);return b===k?this:ae(this,a,h,b)};g.ta=function(a,b,c,d,e){var f=b>>>a&31,h=this.A[f];if(null==h)return new he(null,this.D+1,$d(this.A,f,ge.ta(a+5,b,c,d,e)));a=h.ta(a+5,b,c,d,e);return a===h?this:new he(null,this.D,$d(this.A,f,a))};g.za=function(){return new le(this.A)};function oe(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Rd(c,a[d]))return d;d+=2}else return-1}
function pe(a,b,c,d){this.K=a;this.Fa=b;this.D=c;this.A=d;this.I=131072;this.B=0}g=pe.prototype;g.Ya=function(a){if(a===this.K)return this;var b=Array(2*(this.D+1));sc(this.A,0,b,0,2*this.D);return new pe(a,this.Fa,this.D,b)};g.jb=function(){return ee?ee(this.A):fe.call(null,this.A)};g.kb=function(a,b){return be(this.A,a,b)};g.Ga=function(a,b,c,d){a=oe(this.A,this.D,c);return 0>a?d:Rd(c,this.A[a])?this.A[a+1]:d};
g.ua=function(a,b,c,d,e,f){if(c===this.Fa){b=oe(this.A,this.D,d);if(-1===b){if(this.A.length>2*this.D)return b=2*this.D,c=2*this.D+1,a=this.Ya(a),a.A[b]=d,a.A[c]=e,f.P=!0,a.D+=1,a;c=this.A.length;b=Array(c+2);sc(this.A,0,b,0,c);b[c]=d;b[c+1]=e;f.P=!0;d=this.D+1;a===this.K?(this.A=b,this.D=d,a=this):a=new pe(this.K,this.Fa,d,b);return a}return this.A[b+1]===e?this:ae(this,a,b+1,e)}return(new de(a,1<<(this.Fa>>>b&31),[null,this,null,null])).ua(a,b,c,d,e,f)};
g.ta=function(a,b,c,d,e){return b===this.Fa?(a=oe(this.A,this.D,c),-1===a?(a=2*this.D,b=Array(a+2),sc(this.A,0,b,0,a),b[a]=c,b[a+1]=d,e.P=!0,new pe(null,this.Fa,this.D+1,b)):R.u(this.A[a+1],d)?this:new pe(null,this.Fa,this.D,$d(this.A,a+1,d))):(new de(null,1<<(this.Fa>>>a&31),[null,this])).ta(a,b,c,d,e)};g.za=function(){return new ce(this.A)};
function je(a){switch(arguments.length){case 6:return ke(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return ie(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}function ke(a,b,c,d,e,f){var h=Cb(b);if(h===d)return new pe(null,h,2,[b,c,e,f]);var k=new Zd;return ge.ta(a,h,b,c,k).ta(a,d,e,f,k)}
function ie(a,b,c,d,e,f,h){var k=Cb(c);if(k===e)return new pe(null,k,2,[c,d,f,h]);var l=new Zd;return ge.ua(a,b,k,c,d,l).ua(a,b,e,f,h,l)}function qe(a,b,c,d,e){this.G=a;this.xa=b;this.i=c;this.s=d;this.H=e;this.B=32374988;this.I=0}g=qe.prototype;g.toString=function(){return tb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return S(this,b,0);case 2:return S(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return S(this,b,0)};a.u=function(b,c){return S(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return U(this,c,T(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return U(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.u=function(c,d){return U(this,c,d)};return b}();g.Y=function(){return this.G};g.fa=function(){if(null==this.s){var a=this.xa,b=this.i+2;return re?re(a,b,null):fe.call(null,a,b,null)}a=this.xa;b=this.i;var c=P(this.s);return re?re(a,b,c):fe.call(null,a,b,c)};
g.X=function(){var a=this.H;return null!=a?a:this.H=a=Nb(this)};g.U=function(a,b){return bc(this,b)};g.ea=function(){return O};g.ha=function(a,b){return xc(b,this)};g.ia=function(a,b,c){return Ac(b,c,this)};g.ja=function(){return null==this.s?new Id(this.xa[this.i],this.xa[this.i+1]):N(this.s)};
g.na=function(){var a=this,b=null==a.s?function(){var c=a.xa,d=a.i+2;return re?re(c,d,null):fe.call(null,c,d,null)}():function(){var c=a.xa,d=a.i,e=P(a.s);return re?re(c,d,e):fe.call(null,c,d,e)}();return null!=b?b:O};g.T=function(){return this};g.Z=function(a,b){return b===this.G?this:new qe(b,this.xa,this.i,this.s,this.H)};g.ca=function(a,b){return V(b,this)};qe.prototype[wa]=function(){return Lb(this)};
function fe(a){switch(arguments.length){case 1:return ee(arguments[0]);case 3:return re(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}function ee(a){return re(a,0,null)}function re(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new qe(null,a,b,null,null);var d=a[b+1];if(v(d)&&(d=d.jb(),v(d)))return new qe(null,a,b+2,d,null);b+=2}else return null;else return new qe(null,a,b,c,null)}
function se(a,b,c,d,e){this.G=a;this.xa=b;this.i=c;this.s=d;this.H=e;this.B=32374988;this.I=0}g=se.prototype;g.toString=function(){return tb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return S(this,b,0);case 2:return S(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return S(this,b,0)};a.u=function(b,c){return S(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return U(this,c,T(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return U(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.u=function(c,d){return U(this,c,d)};return b}();g.Y=function(){return this.G};g.fa=function(){var a=this.xa,b=this.i,c=P(this.s);return te?te(a,b,c):ne.call(null,a,b,c)};g.X=function(){var a=this.H;return null!=a?a:this.H=a=Nb(this)};g.U=function(a,b){return bc(this,b)};
g.ea=function(){return O};g.ha=function(a,b){return xc(b,this)};g.ia=function(a,b,c){return Ac(b,c,this)};g.ja=function(){return N(this.s)};g.na=function(){var a=this.xa;var b=this.i,c=P(this.s);a=te?te(a,b,c):ne.call(null,a,b,c);return null!=a?a:O};g.T=function(){return this};g.Z=function(a,b){return b===this.G?this:new se(b,this.xa,this.i,this.s,this.H)};g.ca=function(a,b){return V(b,this)};se.prototype[wa]=function(){return Lb(this)};
function ne(a){switch(arguments.length){case 1:return me(arguments[0]);case 3:return te(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}function me(a){return te(a,0,null)}function te(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(v(d)&&(d=d.jb(),v(d)))return new se(null,a,b+1,d,null);b+=1}else return null;else return new se(null,a,b,c,null)}function ue(a,b){this.ka=a;this.Cb=b;this.vb=!1}
ue.prototype.pa=function(){return!this.vb||this.Cb.pa()};ue.prototype.next=function(){if(this.vb)return this.Cb.next();this.vb=!0;return new Id(null,this.ka)};ue.prototype.remove=function(){return Error("Unsupported operation")};function ve(a,b,c,d,e,f){this.G=a;this.D=b;this.root=c;this.oa=d;this.ka=e;this.H=f;this.B=16123663;this.I=139268}g=ve.prototype;g.toString=function(){return tb(this)};g.keys=function(){return Lb(Md.j?Md.j(this):Md.call(null,this))};g.entries=function(){return new Gd(J(J(this)))};
g.values=function(){return Lb(Nd.j?Nd.j(this):Nd.call(null,this))};g.has=function(a){return wc(this,a)};g.get=function(a,b){return this.R(null,a,b)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.$(null,e),h=W(f,0,null);f=W(f,1,null);a.u?a.u(f,h):a.call(null,f,h);e+=1}else if(b=J(b))rc(b)?(c=ob(b),b=pb(b),h=c,d=T(c),c=h):(c=N(b),h=W(c,0,null),f=W(c,1,null),a.u?a.u(f,h):a.call(null,f,h),b=P(b),c=null,d=0),e=0;else return null};g.ra=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){return null==b?this.oa?this.ka:c:null==this.root?c:this.root.Ga(0,Cb(b),b,c)};g.ob=function(a,b,c){a=this.oa?b.C?b.C(c,null,this.ka):b.call(null,c,null,this.ka):c;Sb(a)?b=Sa(a):null!=this.root?(b=this.root.kb(b,a),b=Sb(b)?Tb.j?Tb.j(b):Tb.call(null,b):b):b=a;return b};g.za=function(){var a=this.root?rb(this.root):new ed(dd);return this.oa?new ue(this.ka,a):a};g.Y=function(){return this.G};g.da=function(){return this.D};g.X=function(){var a=this.H;return null!=a?a:this.H=a=Pb(this)};
g.U=function(a,b){return Fd(this,b)};g.gb=function(){return new we(this.root,this.D,this.oa,this.ka)};g.ea=function(){return Va(Qd,this.G)};g.Ea=function(a,b,c){if(null==b)return this.oa&&c===this.ka?this:new ve(this.G,this.oa?this.D:this.D+1,this.root,!0,c,null);a=new Zd;b=(null==this.root?ge:this.root).ta(0,Cb(b),b,c,a);return b===this.root?this:new ve(this.G,a.P?this.D+1:this.D,b,this.oa,this.ka,null)};g.ab=function(a,b){return null==b?this.oa:null==this.root?!1:this.root.Ga(0,Cb(b),b,tc)!==tc};
g.T=function(){if(0<this.D){var a=null!=this.root?this.root.jb():null;return this.oa?V(new Id(null,this.ka),a):a}return null};g.Z=function(a,b){return b===this.G?this:new ve(b,this.D,this.root,this.oa,this.ka,this.H)};g.ca=function(a,b){if(qc(b))return this.Ea(null,D(b,0),D(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(qc(c))a=Na(a,D(c,0),D(c,1)),b=P(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.u(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};g.j=function(a){return this.ra(null,a)};g.u=function(a,b){return this.R(null,a,b)};var Qd=new ve(null,0,null,!1,null,Qb);ve.prototype[wa]=function(){return Lb(this)};
function we(a,b,c,d){this.K={};this.root=a;this.count=b;this.oa=c;this.ka=d;this.B=259;this.I=56}function xe(a,b,c){if(a.K){if(null==b)a.ka!==c&&(a.ka=c),a.oa||(a.count+=1,a.oa=!0);else{var d=new Zd;b=(null==a.root?ge:a.root).ua(a.K,0,Cb(b),b,c,d);b!==a.root&&(a.root=b);d.P&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=we.prototype;g.da=function(){if(this.K)return this.count;throw Error("count after persistent!");};
g.ra=function(a,b){return null==b?this.oa?this.ka:null:null==this.root?null:this.root.Ga(0,Cb(b),b)};g.R=function(a,b,c){return null==b?this.oa?this.ka:c:null==this.root?c:this.root.Ga(0,Cb(b),b,c)};
g.ib=function(a,b){a:if(this.K)if(Jd(b))a=xe(this,Vd.j?Vd.j(b):Vd.call(null,b),Wd.j?Wd.j(b):Wd.call(null,b));else if(qc(b))a=xe(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=N(a);if(v(c))a=P(a),b=xe(b,Vd.j?Vd.j(c):Vd.call(null,c),Wd.j?Wd.j(c):Wd.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.pb=function(){if(this.K){this.K=null;var a=new ve(null,this.count,this.root,this.oa,this.ka,null)}else throw Error("persistent! called twice");return a};g.eb=function(a,b,c){return xe(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.u(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};
g.j=function(a){return this.ra(null,a)};g.u=function(a,b){return this.R(null,a,b)};var ye=function ye(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ye.O(0<c.length?new M(c.slice(0),0,null):null)};ye.O=function(a){for(var b=J(a),c=jb(Qd);;)if(b){var d=P(b);if(null==d)throw Error(["No value supplied for key: ",z.j(N(b))].join(""));a=P(d);b=N(b);d=N(d);c=mb(c,b,d);b=a}else return lb(c)};ye.ba=0;ye.aa=function(a){return this.O(J(a))};
function ze(a,b){this.J=a;this.ya=b;this.B=32374988;this.I=0}g=ze.prototype;g.toString=function(){return tb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return S(this,b,0);case 2:return S(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return S(this,b,0)};a.u=function(b,c){return S(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return U(this,c,T(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return U(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.u=function(c,d){return U(this,c,d)};return b}();g.Y=function(){return this.ya};g.fa=function(){var a=(null!=this.J?this.J.B&128||u===this.J.hb||(this.J.B?0:w(Ha,this.J)):w(Ha,this.J))?this.J.fa():P(this.J);return null==a?null:new ze(a,null)};g.X=function(){return Nb(this)};
g.U=function(a,b){return bc(this,b)};g.ea=function(){return O};g.ha=function(a,b){return xc(b,this)};g.ia=function(a,b,c){return Ac(b,c,this)};g.ja=function(){return this.J.ja(null).key};g.na=function(){var a=(null!=this.J?this.J.B&128||u===this.J.hb||(this.J.B?0:w(Ha,this.J)):w(Ha,this.J))?this.J.fa():P(this.J);return null!=a?new ze(a,null):O};g.T=function(){return this};g.Z=function(a,b){return b===this.ya?this:new ze(this.J,b)};g.ca=function(a,b){return V(b,this)};ze.prototype[wa]=function(){return Lb(this)};
function Md(a){return(a=J(a))?new ze(a,null):null}function Vd(a){return Pa(a)}function Ae(a,b){this.J=a;this.ya=b;this.B=32374988;this.I=0}g=Ae.prototype;g.toString=function(){return tb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return S(this,b,0);case 2:return S(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return S(this,b,0)};a.u=function(b,c){return S(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return U(this,c,T(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return U(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.u=function(c,d){return U(this,c,d)};return b}();g.Y=function(){return this.ya};g.fa=function(){var a=(null!=this.J?this.J.B&128||u===this.J.hb||(this.J.B?0:w(Ha,this.J)):w(Ha,this.J))?this.J.fa():P(this.J);return null==a?null:new Ae(a,null)};g.X=function(){return Nb(this)};
g.U=function(a,b){return bc(this,b)};g.ea=function(){return O};g.ha=function(a,b){return xc(b,this)};g.ia=function(a,b,c){return Ac(b,c,this)};g.ja=function(){return this.J.ja(null).P};g.na=function(){var a=(null!=this.J?this.J.B&128||u===this.J.hb||(this.J.B?0:w(Ha,this.J)):w(Ha,this.J))?this.J.fa():P(this.J);return null!=a?new Ae(a,null):O};g.T=function(){return this};g.Z=function(a,b){return b===this.ya?this:new Ae(this.J,b)};g.ca=function(a,b){return V(b,this)};Ae.prototype[wa]=function(){return Lb(this)};
function Nd(a){return(a=J(a))?new Ae(a,null):null}function Wd(a){return Qa(a)}function Lc(a){if(null!=a&&(a.I&4096||u===a.Ob))return a.name;if("string"===typeof a)return a;throw Error(["Doesn't support name: ",z.j(a)].join(""));}
function Be(a,b,c,d,e,f,h){var k=ja;ja=null==ja?null:ja-1;try{if(null!=ja&&0>ja)return H(a,"#");H(a,c);if(0===ra.j(f))J(h)&&H(a,function(){var t=Ce.j(f);return v(t)?t:"..."}());else{if(J(h)){var l=N(h);b.C?b.C(l,a,f):b.call(null,l,a,f)}for(var m=P(h),n=ra.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(H(a,d),H(a,function(){var t=Ce.j(f);return v(t)?t:"..."}()));break}else{H(a,d);var p=N(m);c=a;h=f;b.C?b.C(p,c,h):b.call(null,p,c,h);var q=P(m);c=n-1;m=q;n=c}}return H(a,e)}finally{ja=k}}
function De(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.$(null,e);H(a,f);e+=1}else if(b=J(b))c=b,rc(c)?(b=ob(c),d=pb(c),c=b,f=T(b),b=d,d=f):(f=N(c),H(a,f),b=P(c),c=null,d=0),e=0;else return null}function Ee(a){if(null==ha)throw Error("No *print-fn* fn set for evaluation environment");ha.call(null,a)}var Fe={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function Ge(a){return['"',z.j(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return Fe[b]})),'"'].join("")}function He(a,b){return(a=vc(Fb.u(a,pa)))?(a=null!=b?b.B&131072||u===b.Nb?!0:!1:!1)?null!=mc(b):a:a}
function Ie(a,b,c){if(null==a)return H(b,"nil");if(He(c,a)){H(b,"^");var d=mc(a);Z.C?Z.C(d,b,c):Z.call(null,d,b,c);H(b," ")}if(a.Sb)return a.fc(a,b,c);if(null!=a?a.B&2147483648||u===a.ga||(a.B?0:w(hb,a)):w(hb,a))return ib(a,b,c);if(!0===a||!1===a)return H(b,z.j(a));if("number"===typeof a)return H(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":z.j(a));if(null!=a&&a.constructor===Object)return H(b,"#js "),d=X.u(function(f){var h=/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/;
if("string"===typeof f)if(h=h.exec(f),null!=h&&R.u(h[0],f))if(1===h.length)h=h[0];else if(v(Jd.j?Jd.j(h):Jd.call(null,h)))h=new Y(null,2,5,xd,[Vd.j?Vd.j(h):Vd.call(null,h),Wd.j?Wd.j(h):Wd.call(null,h)],null);else if(qc(h))h=lc(h,null);else if(ta(h))b:{var k=h.length;if(32>k)h=new Y(null,k,5,xd,h,null);else for(var l=32,m=(new Y(null,32,5,xd,h.slice(0,32),null)).gb(null);;)if(l<k){var n=l+1;m=kb(m,h[l]);l=n}else{h=lb(m);break b}}else h=lb(yc(kb,jb(ec),h));else h=null;else throw new TypeError("re-matches must match against a string.");
return new Id(null!=h?Kc.j(f):f,a[f])},da(a)),Je.ma?Je.ma(d,Z,b,c):Je.call(null,d,Z,b,c);if(ta(a))return Be(b,Z,"#js ["," ","]",c,a);if("string"===typeof a)return v(oa.j(c))?H(b,Ge(a)):H(b,a);if("function"===typeof a){var e=a.name;c=v(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return De(b,cc(["#object[",c,v(!1)?[' "',z.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=z.j(f);;)if(f.length<h)f=["0",f].join("");else return f},De(b,cc(['#inst "',
c(a.getUTCFullYear(),4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return De(b,cc(['#"',a.source,'"']));if(xa(a))return De(b,cc(["#object[",a.toString(),"]"]));if(v(function(){var f=null==a?null:a.constructor;return null==f?null:f.ub}()))return De(b,cc(["#object[",a.constructor.ub.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==
a?null:a.constructor;return null==f?null:f.name}();c=v(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?De(b,cc(["#object[",c,"]"])):De(b,cc(["#object[",c," ",z.j(a),"]"]))}function Z(a,b,c){var d=Ke.j(c);return v(d)?(c=hc.C(c,Le,Ie),d.C?d.C(a,b,c):d.call(null,a,b,c)):Ie(a,b,c)}
function Me(a,b){if(null==a||ua(J(a)))b="";else{var c=z,d=c.j,e=new fa,f=new sb(e);Z(N(a),f,b);a=J(P(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.$(null,l);H(f," ");Z(m,f,b);l+=1}else if(a=J(a))h=a,rc(h)?(a=ob(h),k=pb(h),h=a,m=T(a),a=k,k=m):(m=N(h),H(f," "),Z(m,f,b),a=P(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function Ne(){var a=cc(["Hello Shadow"]),b=hc.C(ka(),oa,!1);Ee(Me(a,b));v(ia)&&(a=ka(),Ee("\n"),Fb.u(a,na))}
function Oe(a){return a instanceof Eb?Gb.u(null,Lc(a)):Kc.u(null,Lc(a))}
function Pe(a){if(v(!1)){var b=J(a),c=J(b),d=N(c);P(c);W(d,0,null);W(d,1,null);c=null==a?null:null!=a&&(a.B&4||u===a.Gb)?a.ea(null):(null!=a?a.B&4||u===a.Gb||(a.B?0:w(Aa,a)):w(Aa,a))?Ba(a):null;for(a=null;;){d=a;b=J(b);a=N(b);var e=P(b),f=a;a=W(f,0,null);b=W(f,1,null);if(v(f))if(a instanceof I||a instanceof Eb)if(v(d))if(R.u(d,Jc(a)))c=hc.C(c,Oe(a),b),a=d,b=e;else return null;else if(d=Jc(a),v(d))c=hc.C(c,Oe(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,xd,[d,c],null)}}else return null}
function Qe(a,b,c,d,e){return Be(d,function(f,h,k){var l=Pa(f);c.C?c.C(l,h,k):c.call(null,l,h,k);H(h," ");f=Qa(f);return c.C?c.C(f,h,k):c.call(null,f,h,k)},[z.j(a),"{"].join(""),", ","}",e,J(b))}function Je(a,b,c,d){var e=oc(a)?Pe(a):null,f=W(e,0,null);e=W(e,1,null);return v(f)?Qe(["#:",z.j(f)].join(""),e,b,c,d):Qe(null,a,b,c,d)}M.prototype.ga=u;M.prototype.V=function(a,b,c){return Be(b,Z,"("," ",")",c,this)};Mc.prototype.ga=u;Mc.prototype.V=function(a,b,c){return Be(b,Z,"("," ",")",c,this)};
Id.prototype.ga=u;Id.prototype.V=function(a,b,c){return Be(b,Z,"["," ","]",c,this)};qe.prototype.ga=u;qe.prototype.V=function(a,b,c){return Be(b,Z,"("," ",")",c,this)};Kd.prototype.ga=u;Kd.prototype.V=function(a,b,c){return Be(b,Z,"("," ",")",c,this)};Mb.prototype.ga=u;Mb.prototype.V=function(a,b,c){return Be(b,Z,"("," ",")",c,this)};yd.prototype.ga=u;yd.prototype.V=function(a,b,c){return Be(b,Z,"("," ",")",c,this)};Ic.prototype.ga=u;Ic.prototype.V=function(a,b,c){return Be(b,Z,"("," ",")",c,this)};
ve.prototype.ga=u;ve.prototype.V=function(a,b,c){return Je(this,Z,b,c)};se.prototype.ga=u;se.prototype.V=function(a,b,c){return Be(b,Z,"("," ",")",c,this)};Qc.prototype.ga=u;Qc.prototype.V=function(a,b,c){return Be(b,Z,"("," ",")",c,this)};Ae.prototype.ga=u;Ae.prototype.V=function(a,b,c){return Be(b,Z,"("," ",")",c,this)};Y.prototype.ga=u;Y.prototype.V=function(a,b,c){return Be(b,Z,"["," ","]",c,this)};Hc.prototype.ga=u;Hc.prototype.V=function(a,b){return H(b,"()")};la.prototype.ga=u;
la.prototype.V=function(a,b,c){return Je(this,Z,b,c)};ze.prototype.ga=u;ze.prototype.V=function(a,b,c){return Be(b,Z,"("," ",")",c,this)};fc.prototype.ga=u;fc.prototype.V=function(a,b,c){return Be(b,Z,"("," ",")",c,this)};function Re(){}function Se(a){if(null!=a&&null!=a.Ib)a=a.Ib(a);else{var b=Se[r(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Se._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw x("IEncodeJS.-clj-\x3ejs",a);}return a}
function Te(a,b){return(null!=a?u===a.Hb||(a.Rb?0:w(Re,a)):w(Re,a))?Se(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof Eb?b.j?b.j(a):b.call(null,a):Me(cc([a]),ka())}var Ue=function Ue(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ue.O(arguments[0],1<c.length?new M(c.slice(1),0,null):null)};
Ue.O=function(a,b){b=cd(b);var c=Fb.C(b,Ve,Lc),d=function h(f){if(null==f)return null;if(null!=f?u===f.Hb||(f.Rb?0:w(Re,f)):w(Re,f))return Se(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof Eb)return z.j(f);if(oc(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.$(null,n),q=W(p,0,null);p=W(p,1,null);q=Te(q,d);p=h(p);k[q]=p;n+=1}else if(f=J(f))rc(f)?(m=ob(f),f=pb(f),l=m,m=T(m)):(m=N(f),l=W(m,0,null),m=W(m,1,null),l=Te(l,d),m=h(m),k[l]=m,f=P(f),l=null,m=0),n=0;else break;
return k}if(null==f?0:null!=f?f.B&8||u===f.Wb||(f.B?0:w(Ca,f)):w(Ca,f)){k=[];f=J(X.u(h,f));l=null;for(n=m=0;;)if(n<m)q=l.$(null,n),k.push(q),n+=1;else if(f=J(f))l=f,rc(l)?(f=ob(l),n=pb(l),l=f,m=T(f),f=n):(f=N(l),k.push(f),f=P(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};Ue.ba=1;Ue.aa=function(a){var b=N(a);a=P(a);return this.O(b,a)};function We(){var a=Xe;return Zb(a,Math.floor(Math.random()*T(a)))}"undefined"!==typeof console&&sa();sa();var Ye=new I(null,"background","background",-863952629),pa=new I(null,"meta","meta",1499536964),ra=new I(null,"print-length","print-length",1931866356),na=new I(null,"flush-on-newline","flush-on-newline",-151457939),qa=new I(null,"dup","dup",556298533),oa=new I(null,"readably","readably",1129599760),Le=new I(null,"fallback-impl","fallback-impl",-1501286995),Ve=new I(null,"keyword-fn","keyword-fn",-64566675),Ze=new I(null,"resolution","resolution",-756075601),Ce=new I(null,"more-marker","more-marker",
-14717935),Ke=new I(null,"alt-impl","alt-impl",670969595);var $e={},af={},bf=[];function cf(a,b){var c=af[a];if(void 0!==c)return c;try{bf.push(a);var d=$e[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};$e[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,cf,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{bf.pop()}return d.exports}cf.cache={};cf.resolve=function(a){return a};var df;df=cf(383,{});var Xe=new Y(null,10,5,xd,[.9224946357355075,.195962217681654,.823908454232499,.21846578604175848,.24790535608234543,.12595059380269924,.5293608423322345,.7770868993048079,.15261535648272484,.7263776473945731],null);(function(){Ne();df.BaseTexture.defaultOptions.scaleMode=df.SCALE_MODES.NEAREST;var a=new df.Application(Ue(new la(null,2,[Ye,"#1099bb",Ze,devicePixelRatio],null)));a=uc(a)?ad(ye,a):a;var b=null!=a?a.screen:void 0;b=uc(b)?ad(ye,b):b;var c=null!=b?b.width:void 0;var d=null!=b?b.height:void 0;b=df.Texture.from("/sprites/chest_golden_closed.png");var e=new df.Sprite(b),f=new df.Sprite(df.Texture.WHITE);document.body.appendChild(a.view);e.anchor.set(.5);b=function(){var h=null!=f?f:{};h.width=c;h=null!=
h?h:{};h.height=d;return h}();(null!=b?b:{}).eventMode="static";b=function(){var h=function(){var k=function(){var l=null!=e?e:{};l.width=100;l=null!=l?l:{};l.height=100;l=null!=l?l:{};l.buttonMode=!0;l=null!=l?l:{};l.eventMode="static";l=null!=l?l:{};l.x=c/2;l=null!=l?l:{};l.y=d/2;l=null!=l?l:{};l["original-x"]=c/2;return l}();k=null!=k?k:{};k["original-y"]=d/2;return k}();h=null!=h?h:{};h["next-x"]=c/2;return h}();(null!=b?b:{})["next-y"]=d/2;f.on("pointerdown",function(h){h=uc(h)?ad(ye,h):h;h=
null!=h?h.global:void 0;h=uc(h)?ad(ye,h):h;var k=null!=h?h.x:void 0;(null!=e?e:{})["next-x"]=k;k=null!=e?e:{};h=null!=h?h.y:void 0;k["next-y"]=h;return k});e.on("pointerdown",function(){var h=null!=e?e:{};h.isShaking=ua(h.isShaking);return h});a.stage.addChild(f);a.stage.addChild(e);return a.ticker.add(function(h){var k=uc(e)?ad(ye,e):e;var l=null!=k?k["original-x"]:void 0;var m=null!=k?k["original-y"]:void 0;var n=null!=k?k["next-x"]:void 0;k=null!=k?k["next-y"]:void 0;v(e.isShaking)?((null!=e?e:
{}).x=l+10*We(),(null!=e?e:{}).y=m+10*We()):((null!=e?e:{}).x=l,(null!=e?e:{}).y=m);var p=null!=e?e:{};p["original-x"]+=.1*(n-l)*h;l=null!=e?e:{};l["original-y"]+=.1*(k-m)*h;return l})})();
}).call(this);